

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
    <meta charset="utf-8">
    
    <meta name="viewport" content="width=375,user-scalable=no">
    
    <title>5.1.1. 数据订阅服务 入门指南 &mdash; HashData Warehouse Document 1.0.0 文档</title>
    

    
    

    

    
    
    

    

    
    
    <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    

    

    
    <link rel="index" title="索引"
          href="../genindex.html"/>
    <link rel="search" title="搜索" href="../search.html"/>
    <link rel="top" title="HashData Warehouse Document 1.0.0 文档" href="../index.html"/>
    <link rel="up" title="5. 数据订阅服务" href="index.html"/>
    <link rel="next" title="5.1.2. 数据订阅服务 开发指南" href="data_developer_guide.html"/>
    <link rel="prev" title="5. 数据订阅服务" href="index.html"/> 

    
    <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

    <div id="header">
        <header class="navbar navbar-static-top navbar-fixed-top" id="top" role="banner">
            <div class="container">
                <div class="navbar-header">
                    <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="http://www.hashdata.cn">
                        <img alt="Brand" src="../_static/img/logo.png">
                    </a>
                </div>
                <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
                    <ul class="nav navbar-nav navbar-right">
                        <li id="nav-index">
                            <a href="http://www.hashdata.cn">首页</a>
                        </li>
                        <li id="nav-product">
                            <a href="http://www.hashdata.cn/product">产品</a>
                        </li>
                        <li id="nav-case">
                            <a href="http://www.hashdata.cn/case">案例</a>
                        </li>
                        <li id="nav-blog">
                            <a href="http://www.hashdata.cn/blog">博客</a>
                        </li>
                        <li id="nav-doc" class="active">
                            <a href="http://www.hashdata.cn/docs">文档</a>
                        </li>
                        <li class="dropdown" id="nav-aboutus">
                            <a href="aboutus" class="dropdown-toggle" data-toggle="dropdown">酷克数据<span class="caret"></span></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="http://www.hashdata.cn/#block-aboutus-img">关于我们</a></li>
                                <li><a href="http://www.hashdata.cn/aboutus">加入我们</a></li>
                                <li> <a href="http://www.greenplum.net.cn/" target=_blank>社区</a></li>
                            </ul>
                        </li>
                        <li class="try">
			    <a target="_blank" href="https://appcenter.qingcloud.com/apps/app-iwacxg9z">点击试用</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>
    </div>

        <div id="m-header">
	    <nav id="m-nav">
		<button id="m-nav-btn">
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span>
		</button>
            <div class="wy-nav-top-search">
                
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <img src="../_static/img/search-icon.png" alt="search" />
    <input type="text" name="q" placeholder="搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
            </div>
	    </nav>
	    <div id="m-index">
		<ul>
		    <li class=""><a href="http://www.hashdata.cn/">首页</a></li>
		    <li class=""><a href="http://www.hashdata.cn/product">产品</a></li>
		    <li class=""><a href="http://www.hashdata.cn/case">案例</a></li>
		    <li class=""><a href="http://www.hashdata.cn/blog">博客</a></li>
		    <li class="active"><a href="http://www.hashdata.cn/docs">文档</a></li>
		    <li class=""><a href="http://www.hashdata.cn/#block-aboutus-img">关于我们</a></li>
		    <li class=""><a href="http://www.hashdata.cn/aboutus">加入我们</a></li>
		</ul>
	    </div>
	</div>


    <div id="content">

<div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="topLevel">
                
                
                
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started-guide/hashdata_warehouse_guide.html">1. 入门指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cluster-management-guide/cluster-management-guide.html">2. 管理指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer-guide/index.html">3. 开发指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../best-practices/index.html">4. 最佳实践</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">5. 数据订阅服务</a></li>
</ul>

                
                
            </div>

            <div class="wy-side-nav-search">
                

                <!---->
                <!--<a href="../index.html" class="icon icon-home"> HashData Warehouse Document-->
                <!---->

                <!---->
                <!--</a>-->

                <!---->
                <!---->
                <!---->
                <!---->
                <!--<div class="version">-->
                <!--1.0.0-->
                <!--</div>-->
                <!---->
                <!---->

                
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <img src="../_static/img/search-icon.png" alt="search" />
    <input type="text" name="q" placeholder="搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

                
            </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                
                
                
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started-guide/hashdata_warehouse_guide.html">1. 入门指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cluster-management-guide/cluster-management-guide.html">2. 管理指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer-guide/index.html">3. 开发指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../best-practices/index.html">4. 最佳实践</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">5. 数据订阅服务</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#id2">5.1. 数据订阅服务</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">5.1.1. 数据订阅服务 入门指南</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_developer_guide.html">5.1.2. 数据订阅服务 开发指南</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                
                
            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

        
        
        
        
        
        
        


        
        <div class="topLevel m-topLevel">
            
            
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started-guide/hashdata_warehouse_guide.html">1. 入门指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cluster-management-guide/cluster-management-guide.html">2. 管理指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer-guide/index.html">3. 开发指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../best-practices/index.html">4. 最佳实践</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">5. 数据订阅服务</a></li>
</ul>

            
        </div>

        
        <div class="wy-nav-content">
            <div class="rst-content">
                

<!-- -->
<!---->
<!---->

<!--<div role="navigation" aria-label="breadcrumbs navigation">-->
  <!--<ul class="wy-breadcrumbs">-->
    <!--<li><a href="../index.html">Docs</a> &raquo;</li>-->
      <!---->
          <!--<li><a href="index.html">5. 数据订阅服务</a> &raquo;</li>-->
      <!---->
    <!--<li>5.1.1. 数据订阅服务 入门指南</li>-->
      <!--<li class="wy-breadcrumbs-aside">-->
        <!---->
          <!---->
            <!--<a href="../_sources/data-subscription-guide/data_user_guide.rst.txt" rel="nofollow"> View page source</a>-->
          <!---->
        <!---->
      <!--</li>-->
  <!--</ul>-->
  <!--<hr/>-->
<!--</div>-->
                <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
                    <div itemprop="articleBody">
                        
  <div class="section" id="data-user-guide">
<span id="id1"></span><h1>5.1.1. 数据订阅服务 入门指南<a class="headerlink" href="#data-user-guide" title="永久链接至标题">¶</a></h1>
<p>欢迎来到 数据订阅服务 入门指南。
这个指南的目的是指导你如何启动一个 数据订阅服务。在这个教程中，你将执行如下步骤:</p>
<ul class="simple">
<li>步骤1：准备工作</li>
<li>步骤2：启动 数据订阅服务</li>
</ul>
<div class="section" id="id2">
<h2>5.1.1.1. 准备工作<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>在你启动第一个 数据订阅服务 前，确保在这个章节中完成如下准备工作:</p>
<ul class="simple">
<li>注册青云账号</li>
<li>设置 MySQL</li>
</ul>
<div class="section" id="id3">
<h3>5.1.1.1.1. 注册青云账号<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h3>
<p>你首先需要注册一个青云账号，如果还没有的话。如果你已经拥有了一个青云账号，那么你可以使用这个号
进行接下来的操作，跳过这个步骤。</p>
<ol class="arabic simple">
<li>打开链接<a class="reference external" href="http://qingcloud.com">http://qingcloud.com</a>，点击注册。</li>
<li>按照页面提示完成注册流程。</li>
</ol>
</div>
<div class="section" id="mysql">
<h3>5.1.1.1.2. 设置MySQL<a class="headerlink" href="#mysql" title="永久链接至标题">¶</a></h3>
<p>在 数据订阅服务 成功启动前，需要对你的 MySQL 服务器进行相应设置。</p>
<ol class="arabic simple">
<li>日志模式必须被设置为采用 row-level binary logging 的模式。</li>
<li>需要一个拥有 SELECT，RELOAD，SHOW DATABASES，REPLICATION SLAVE，REPLICATION CLIENT 权限的数据库用户。</li>
</ol>
</div>
</div>
<div class="section" id="id4">
<h2>5.1.1.2. 启动 数据订阅服务<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<p>完成上面的前提步骤后，现在你能够开始启动一个 数据订阅服务。</p>
<ol class="arabic simple">
<li>打开青云 AppCenter 中的<a class="reference external" href="https://appcenter.qingcloud.com/apps/app-o511zoe9">数据订阅</a>服务主页。</li>
<li>点击部署到 QingCloud，你可以选择在哪个数据中心启动你的 数据订阅服务。在这个教程中，我们选择了北京3区。</li>
<li>创建依赖资源：你需要有一个已连接到 VPC 的私有网络。如果您没有创建好依赖资源，点击创建后，可以按照提示完成下面的步骤：</li>
</ol>
<ul class="simple">
<li>创建私有网络：计算机与网络 -&gt; 私有网络，点击创建</li>
<li>创建 VPC 网络：计算机与网络 -&gt; VPC网络，点击创建</li>
<li>连接私有网络到 VPC 网络：计算机与网络 -&gt; VPC网络，点击创建完成的VPC网络，将上面创建完成的私有网络添加到VPC中</li>
</ul>
<ol class="arabic simple" start="4">
<li>创建好私有网络后，就可以启动 数据订阅服务 了：</li>
</ol>
<ul>
<li><p class="first">填写基本信息，选择服务版本</p>
<img alt="../_images/start_step_1.png" src="../_images/start_step_1.png" />
</li>
<li><p class="first">配置节点参数</p>
<img alt="../_images/start_step_2.png" src="../_images/start_step_2.png" />
</li>
<li><p class="first">选择之前创建的私有网络</p>
</li>
<li><p class="first">选择依赖的 Kafka 服务</p>
</li>
<li><p class="first">设置服务环境参数：必填项包括要同步的 MySQL 数据库ip地址，用户名，密码；选填项包括 MySQL Namespace，要同步的 MySQL 数据库的名字，和要同步的 MySQL 表的名字，其中：</p>
<ul class="simple">
<li>MySQL Namespace：用户自定义的 MySQL 数据库的逻辑名称，用来提供给被监控的 MySQL 数据库一个 namespace。这个 namespace 对每一个 数据订阅服务 应当是唯一的，因为它会作为这个 数据订阅服务 产生消息到 Kafka topic 中的 topic 前缀。默认值是该青云服务的集群id，但我们推荐用户填写一个合理且有意义的名字。</li>
<li>要同步的 MySQL 数据库的名字：即数据库的白名单，填写在这里的数据库会被监控。数据库的名字用逗号分隔，例如：demo1,demo2。错误的输入格式可能会导致服务错误。不指定数据库名等价于所有数据库都要被同步。</li>
<li>要同步的 MySQL 表的名字：即数据库表的白名单，填写在这里的表会被监控。表名用逗号分隔，例如：part1,part2。错误的输入格式可能会导致服务错误。不指定表名等价于所有表都要被同步。</li>
</ul>
<img alt="../_images/start_step_3.png" src="../_images/start_step_3.png" />
</li>
</ul>
<ol class="arabic simple" start="5">
<li>配置完以上参数，点击提交后，新的服务将会在几分钟之内启动完毕。下图是服务启动时的状态：</li>
</ol>
<blockquote>
<div><img alt="../_images/start_step_4.png" src="../_images/start_step_4.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li>在 AppCenter 控制面板中，选择新启动的服务并且查看服务状态信息。正确启动的服务，服务状态为正常，下方显示四个监控项。</li>
</ol>
<blockquote>
<div><img alt="../_images/start_step_5.png" src="../_images/start_step_5.png" />
</div></blockquote>
<p>完成以上步骤后，你已经成功启动了你的 数据订阅服务。</p>
</div>
</div>


                    </div>
                </div>
                <footer> 

</footer>

            </div>
        </div>

    </section>

</div>


</div>



<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'../',
        VERSION:'1.0.0',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
    };
</script>
<script type="text/javascript" src="../_static/jquery.js"></script>
<script type="text/javascript" src="../_static/underscore.js"></script>
<script type="text/javascript" src="../_static/doctools.js"></script>
<script type="text/javascript" src="../_static/translations.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>





<script type="text/javascript" src="../_static/js/theme.js"></script>

<script src="../_static/js/bootstrap/bootstrap.min.js"></script>
<script>

$(function() {
    var triIcon = "../_static/img/tri-icon.png";
    $('.document .section h2').append( '<img src=' + triIcon + ' />' );
    $('.document .section h2').click(function() {
        $(this).parent().toggleClass('closed');
    });
});

$(function(){
    $('#m-nav-btn, #m-index li').click(function(e){
            $('#m-index').slideToggle(300, function(){
                $('#m-index').css('display') == "block" ?
                $('#m-header').css('background-color','#fff') :
                $('#m-header').css('background-color','rgba(255,255,255,0.9)');
            });
        });
        $('#content, #m-footer').click(function(){
            $('#m-index').slideUp();
            $('#m-header').css('background-color','rgba(255,255,255,0.9)')
        });

    /*
    $('.topLevel .toctree-l1 a.reference').each(function(index, ele) {
        var contentStr = ele. innerHTML;
        var aSet = new Set(['1.', '2.', '3.']);
        if (aSet.has(contentStr.substr(0,2)))
            ele.innerHTML = contentStr.substr(2);
    });
    */

});

</script>



<script type="text/javascript">
    jQuery(function () {
        SphinxRtdTheme.StickyNav.enable();
    });
</script>



<div id="footer">
    <footer id="footer-1">
	<div class="container">
	    <div class="footer-block col-lg-3 col-lg-offset-2 col-md-4 col-md-offset-1 col-sm-5 col-xs-5">
		<div class="logo">
		    <img src="../_static/img/footer-logo.png"/>
		</div>
		<p>北京酷克数据科技有限公司</p>
		<p>地址：北京市朝阳区望京洛娃大厦C座6层1603室</p>
	    </div>
	    <div class="footer-block col-lg-3 col-md-4 col-sm-5 col-xs-5">
		<p class="title">联系地址</p>
		<p>电话：010-64710206</p>
		<p>微博：@HashData</p>
		<p>邮件：business@hashdata.cn</p>
	    </div>
	    <div class="footer-block qrcode col-lg-3 col-md-3">
		<p class="title">微信公众号</p>
		<img src="../_static/img/qrcode.png"/>
	    </div>
	</div>
    </footer>
    <footer id="footer-2">
	<p>Copyright © 2016 HashData Ltd. 京ICP备16019672号-1</p>
	<p><span class="emblem"></span>京公安网备11010502031309号</p>
    </footer>
</div>

<div id="m-footer">
    <div id="m-footer-bg"></div>
    <footer id="footer-1">
	<div class="logo"><img src="../_static/img/footer-logo.png" /></div>
	<div class="address">
	    <p>北京酷克数据科技有限公司</p>
	    <p>地址：北京市朝阳区望京洛娃大厦C座6层1603室</p>
	</div>
	<div class="connect">
	    <p class="title">联系地址</p>
	    <p>电话：010-64710206</p>
	    <p>微博：@HashData</p>
	    <p>邮件：business@hashdata.cn</p>
	    <p>扫描二维码关注公众号：</p>
	    <div class="qrcode">
		<img src="../_static/img/qrcode.png"/>
	    </div>
	</div>
    </footer>
    <footer id="footer-2">
	<div class="copyright">
	    <p>Copyright © 2016 HashData Ltd. 京ICP备16019672号-1</p>
	    <p><span></span>京公安网备11010502031309号</p>
	</div>
    </footer>
</div>




</body>
</html>