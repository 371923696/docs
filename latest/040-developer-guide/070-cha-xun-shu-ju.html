
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>5.6 查询数据 · HashData</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-versions/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
        

    

    
    
    
        <link rel="stylesheet" 
            href="//cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
    

    
        <link rel="stylesheet" href="../gitbook/hashdata.css">
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="060-dao-ru-he-dao-chu-shu-ju.html" />
    

    </head>
    <body>
        


<div id="header">
        <header class="navbar navbar-static-top navbar-fixed-top" id="top" role="banner">
            <div class="container">
                <div class="navbar-header">
                    <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="http://www.hashdata.cn">
                        <img alt="Brand" src="../gitbook/images/logo.png">
                    </a>
                </div>
                <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
                    <ul class="nav navbar-nav navbar-right">
                        <li id="nav-index">
                            <a href="http://www.hashdata.cn">首页</a>
                        </li>
                        <li id="nav-product">
                            <a href="http://www.hashdata.cn/product">产品</a>
                        </li>
                        <li id="nav-case">
                            <a href="http://www.hashdata.cn/case">案例</a>
                        </li>
                        <li id="nav-blog">
                            <a href="http://www.hashdata.cn/blog">博客</a>
                        </li>
                        <li id="nav-doc" class="active">
                            <a href="http://www.hashdata.cn/docs">文档</a>
                        </li>
                        <li class="dropdown" id="nav-aboutus">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">酷克数据<span class="caret"></span></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="http://www.hashdata.cn/#block-aboutus-img">关于我们</a></li>
                                <li><a href="http://www.hashdata.cn/aboutus">加入我们</a></li>
                                <li> <a href="http://www.greenplum.net.cn/" target=_blank>社区</a></li>
                            </ul>
                        </li>
                        <li class="try">
			    <a target="_blank" href="https://appcenter.qingcloud.com/apps/app-iwacxg9z">点击试用</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>
    </div>


<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    1 文档目录
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../010-getting-started-guide/">
            
                <a href="../010-getting-started-guide/">
            
                    
                    2 入门指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../010-getting-started-guide/020-zhun-bei-gong-zuo.html">
            
                <a href="../010-getting-started-guide/020-zhun-bei-gong-zuo.html">
            
                    
                    2.1 步骤1: 准备工作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../010-getting-started-guide/030-qi-dong-ji-qun.html">
            
                <a href="../010-getting-started-guide/030-qi-dong-ji-qun.html">
            
                    
                    2.2 步骤2: 启动 HashData 数据仓库样例集群
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../010-getting-started-guide/040-shou-quan-lian-jie.html">
            
                <a href="../010-getting-started-guide/040-shou-quan-lian-jie.html">
            
                    
                    2.3 步骤3: 授权连接样例集群
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="../010-getting-started-guide/050-lian-jie-ji-qun.html">
            
                <a href="../010-getting-started-guide/050-lian-jie-ji-qun.html">
            
                    
                    2.4 步骤4: 连接样例集群
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.5" data-path="../010-getting-started-guide/060-jia-zai-shu-ju.html">
            
                <a href="../010-getting-started-guide/060-jia-zai-shu-ju.html">
            
                    
                    2.5 步骤5: 将样例数据从对象存储加载到 HashData 数据仓库中
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.6" data-path="../010-getting-started-guide/070-shan-chu-ji-qun.html">
            
                <a href="../010-getting-started-guide/070-shan-chu-ji-qun.html">
            
                    
                    2.6 步骤6: 寻找额外的资料和重设你的环境
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../020-admin-guide/">
            
                <a href="../020-admin-guide/">
            
                    
                    3 管理指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../020-admin-guide/020-ji-qun-cao-zuo.html">
            
                <a href="../020-admin-guide/020-ji-qun-cao-zuo.html">
            
                    
                    3.1 管理概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="../020-admin-guide/030-ji-qun-jian-kong.html">
            
                <a href="../020-admin-guide/030-ji-qun-jian-kong.html">
            
                    
                    3.2 集群性能监控
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="../020-admin-guide/040-ji-qun-kuo-rong.html">
            
                <a href="../020-admin-guide/040-ji-qun-kuo-rong.html">
            
                    
                    3.3 扩容和缩容
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="../020-admin-guide/050-pai-cha-xi-tong-wen-ti.html">
            
                <a href="../020-admin-guide/050-pai-cha-xi-tong-wen-ti.html">
            
                    
                    3.4 排查系统问题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../030-best-practices/">
            
                <a href="../030-best-practices/">
            
                    
                    4 最佳实践
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../030-best-practices/010-zui-jia-shi-jian-ti-gang.html">
            
                <a href="../030-best-practices/010-zui-jia-shi-jian-ti-gang.html">
            
                    
                    4.1 最佳实践提纲
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../030-best-practices/030-shu-ju-ku-mo-shi-she-ji.html">
            
                <a href="../030-best-practices/030-shu-ju-ku-mo-shi-she-ji.html">
            
                    
                    4.2 数据类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../030-best-practices/031-cun-chu-mo-xing.html">
            
                <a href="../030-best-practices/031-cun-chu-mo-xing.html">
            
                    
                    4.3 存储模型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="../030-best-practices/032-ya-suo.html">
            
                <a href="../030-best-practices/032-ya-suo.html">
            
                    
                    4.4 压缩
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.5" data-path="../030-best-practices/033-fen-bu.html">
            
                <a href="../030-best-practices/033-fen-bu.html">
            
                    
                    4.5 分布
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.6" data-path="../030-best-practices/034-fen-qu.html">
            
                <a href="../030-best-practices/034-fen-qu.html">
            
                    
                    4.6 分区
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.7" data-path="../030-best-practices/035-suo-yin.html">
            
                <a href="../030-best-practices/035-suo-yin.html">
            
                    
                    4.7 索引
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.8" data-path="../030-best-practices/036-zi-duan-shun-xu.html">
            
                <a href="../030-best-practices/036-zi-duan-shun-xu.html">
            
                    
                    4.8 字段顺序和字节对齐
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.9" data-path="../030-best-practices/040-nei-cun-he-fu-zai-guan-li.html">
            
                <a href="../030-best-practices/040-nei-cun-he-fu-zai-guan-li.html">
            
                    
                    4.9 内存管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.10" data-path="../030-best-practices/050-xi-tong-jian-kong-he-wei-hu.html">
            
                <a href="../030-best-practices/050-xi-tong-jian-kong-he-wei-hu.html">
            
                    
                    4.10 监控
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.11" data-path="../030-best-practices/060-jia-zai-shu-ju.html">
            
                <a href="../030-best-practices/060-jia-zai-shu-ju.html">
            
                    
                    4.11 数据加载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.12" data-path="../030-best-practices/070-sqlcha-xun-diao-you.html">
            
                <a href="../030-best-practices/070-sqlcha-xun-diao-you.html">
            
                    
                    4.12 查询计划
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.13" data-path="../030-best-practices/080-dao-ru-shu-ju-dao-hashdata.html">
            
                <a href="../030-best-practices/080-dao-ru-shu-ju-dao-hashdata.html">
            
                    
                    4.13 数据库导入
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="./">
            
                <a href="./">
            
                    
                    5 开发指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="020-hashdata-shu-ju-cang-ku-xi-tong-gai-shu.html">
            
                <a href="020-hashdata-shu-ju-cang-ku-xi-tong-gai-shu.html">
            
                    
                    5.1 系统概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="030-fang-wen-hashdata-shu-ju-cang-ku.html">
            
                <a href="030-fang-wen-hashdata-shu-ju-cang-ku.html">
            
                    
                    5.2 访问数据仓库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.3" data-path="040-ding-yi-shu-ju-ku-dui-xiang.html">
            
                <a href="040-ding-yi-shu-ju-ku-dui-xiang.html">
            
                    
                    5.3 定义数据库对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4" data-path="050-shu-ju-de-guan-li.html">
            
                <a href="050-shu-ju-de-guan-li.html">
            
                    
                    5.4 数据的管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5" data-path="060-dao-ru-he-dao-chu-shu-ju.html">
            
                <a href="060-dao-ru-he-dao-chu-shu-ju.html">
            
                    
                    5.5 导入导出数据
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="5.1.6" data-path="070-cha-xun-shu-ju.html">
            
                <a href="070-cha-xun-shu-ju.html">
            
                    
                    5.6 查询数据
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >5.6 查询数据</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="&#x67E5;&#x8BE2;&#x6570;&#x636E;">&#x67E5;&#x8BE2;&#x6570;&#x636E;</h1>
<p>&#x672C;&#x7AE0;&#x8282;&#x5411;&#x60A8;&#x4ECB;&#x7ECD;&#x4F7F;&#x7528; SQL &#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x3002;</p>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EA4;&#x4E92;&#x5F0F; SQL &#x5BA2;&#x6237;&#x7AEF;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;psql&#xFF09;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x5BA2;&#x6237;&#x7AEF;&#x5DE5;&#x5177;&#x5411;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x5E93;&#x8F93;&#x5165; SQL &#x8BED;&#x8A00;&#xFF0C;&#x6765;&#x67E5;&#x9605;&#xFF0C;&#x4FEE;&#x6539;&#x548C;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5206;&#x6790;&#x3002;</p>
<ul>
<li>&#x6570;&#x636E;&#x5904;&#x7406;&#x7B80;&#x4ECB;</li>
<li>&#x67E5;&#x8BE2;&#x7684;&#x5B9A;&#x4E49;</li>
<li>&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;</li>
</ul>
<h2 id="&#x6570;&#x636E;&#x5904;&#x7406;&#x7B80;&#x4ECB;">&#x6570;&#x636E;&#x5904;&#x7406;&#x7B80;&#x4ECB;</h2>
<p>&#x672C;&#x4E3B;&#x9898;&#x4E3A;&#x60A8;&#x4ECB;&#x7ECD; HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x662F;&#x5982;&#x4F55;&#x5904;&#x7406;&#x67E5;&#x8BE2;&#x8BF7;&#x6C42;&#x7684;&#x3002;&#x7406;&#x89E3;&#x67E5;&#x8BE2;&#x5904;&#x7406;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5BF9;&#x60A8;&#x7F16;&#x5199;&#x548C;&#x4F18;&#x5316;&#x67E5;&#x8BE2;&#x6709;&#x975E;&#x5E38;&#x5DE8;&#x5927;&#x7684;&#x5E2E;&#x52A9;&#x3002;</p>
<p>&#x7528;&#x6237;&#x5411; HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x53D1;&#x9001;&#x67E5;&#x8BE2;&#x547D;&#x4EE4;&#x548C;&#x4F7F;&#x7528;&#x5176;&#x5B83;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x3002; &#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x5BA2;&#x6237;&#x7AEF;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;psql&#xFF09;&#x8FDE;&#x63A5; HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E3B;&#x8282;&#x70B9;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B; SQL &#x8BED;&#x53E5;&#x547D;&#x4EE4;&#x3002;</p>
<h3 id="&#x7406;&#x89E3;&#x67E5;&#x8BE2;&#x4F18;&#x5316;&#x548C;&#x67E5;&#x8BE2;&#x5206;&#x53D1;">&#x7406;&#x89E3;&#x67E5;&#x8BE2;&#x4F18;&#x5316;&#x548C;&#x67E5;&#x8BE2;&#x5206;&#x53D1;</h3>
<p>&#x4E3B;&#x8282;&#x70B9;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#xFF0C;&#x5206;&#x6790;&#x548C;&#x4F18;&#x5316;&#x7528;&#x6237;&#x67E5;&#x8BE2;&#x3002;&#x6700;&#x7EC8;&#x7684;&#x6267;&#x884C;&#x8BA1;&#x5212;&#x53EF;&#x4EE5;&#x662F;&#x5B8C;&#x5168;&#x5E76;&#x884C;&#x7684;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x8FD0;&#x884C;&#x5728;&#x7279;&#x5B9A;&#x8282;&#x70B9;&#x7684;&#x3002; &#x5982; <a href="#pic1">&#x56FE;1</a> &#x5BF9;&#x4E8E;&#x5E76;&#x884C;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#xFF0C;&#x4E3B;&#x8282;&#x70B9;&#x5C06;&#x5176;&#x53D1;&#x9001;&#x5230;&#x6240;&#x6709;&#x7684;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x4E0A;&#x3002;&#x5982; <a href="#pic2">&#x56FE;2</a> &#x6240;&#x793A;&#xFF0C; &#x5BF9;&#x4E8E;&#x8FD0;&#x884C;&#x5728;&#x7279;&#x5B9A;&#x8282;&#x70B9;&#x7684;&#x6267;&#x884C;&#x8BA1;&#x5212;&#xFF0C;&#x4E3B;&#x8282;&#x70B9;&#x5C06;&#x4F1A;&#x53D1;&#x9001;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5230;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x8282;&#x70B9;&#x8FD0;&#x884C;&#x3002; &#x6BCF;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x53EA;&#x8D1F;&#x8D23;&#x5728;&#x81EA;&#x5DF1;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x4E0A;&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#x3002;</p>
<p>&#x5927;&#x591A;&#x6570;&#x7684;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x662F;&#x5728;&#x6240;&#x6709;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x5E76;&#x884C;&#x8FDB;&#x884C;&#x7684;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x626B;&#x63CF;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x8FDE;&#x63A5;&#x8FD0;&#x7B97;&#xFF0C;&#x805A;&#x5408;&#x8FD0;&#x7B97;&#x548C;&#x6392;&#x5E8F;&#x64CD;&#x4F5C;&#x3002; &#x6BCF;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x4E0D;&#x4F9D;&#x8D56;&#x5B58;&#x50A8;&#x5728;&#x5176;&#x5B83;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x3002;</p>
<p><img src="assets/figure-1-dispatching-parallel-query-plan.jpg" alt=""></p>
<h5 id="&#x56FE;1&#xFF1A;&#x5206;&#x53D1;&#x5E76;&#x884C;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;
&#x4E00;&#x4E9B;&#x67E5;&#x8BE2;&#x53EF;&#x80FD;&#x53EA;&#x8BBF;&#x95EE;&#x7279;&#x5B9A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x5355;&#x884C;&#x63D2;&#x5165;&#xFF0C;&#x66F4;&#x65B0;&#xFF0C;&#x5220;&#x9664;&#x6216;&#x8005;&#x662F;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#x53EA;&#x6D89;&#x53CA;&#x8868;&#x4E2D;&#x7279;&#x5B9A;&#x6570;&#x636E;-&#xFF08;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6;&#x6B63;&#x597D;&#x662F;&#x8868;&#x7684;&#x6570;&#x636E;&#x5206;&#x5E03;&#x952E;&#x503C;&#xFF09;&#x3002;&#x5BF9;&#x4E8E;&#x4E0A;&#x8FF0;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x4E0D;&#x4F1A;&#x53D1;&#x9001;&#x7ED9;&#x6240;&#x6709;&#x7684;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#xFF0C;-&#x800C;&#x662F;&#x5C06;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x53D1;&#x9001;&#x7ED9;&#x8BE5;&#x67E5;&#x8BE2;&#x5F71;&#x54CD;&#x7684;&#x8282;&#x70B9;&#x3002;

-&#x56FE;2&#xFF1A;&#x5206;&#x53D1;&#x7279;&#x5B9A;&#x8282;&#x70B9;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;
&#x7406;&#x89E3;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;
&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5C31;&#x662F;-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E3A;&#x4E86;&#x8BA1;&#x7B97;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x64CD;&#x4F5C;&#x7684;&#x6B65;&#x9AA4;&#x3002;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x6B65;&#x9AA4;&#xFF08;&#x8282;&#x70B9;&#xFF09;&#x4EE3;&#x8868;&#x4E86;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x8868;&#x626B;&#x63CF;&#xFF0C;&#x8FDE;&#x63A5;&#x8FD0;&#x7B97;&#xFF0C;&#x805A;&#x5408;&#x8FD0;&#x7B97;&#x6216;&#x8005;&#x6392;&#x5E8F;&#x64CD;&#x4F5C;&#x3002;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x8BFB;&#x53D6;&#x548C;&#x6267;&#x884C;&#x90FD;&#x662F;&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x7684;&#x3002;
&#x9664;&#x4E86;&#x5E38;&#x89C1;&#x7684;&#x64CD;&#x4F5C;&#x5916;&#xFF0C;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x8FD8;&#x652F;&#x6301;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x7684;&#x64CD;&#x4F5C;&#xFF1A;motion-&#x8282;&#x70B9;&#xFF08;&#x79FB;&#x52A8;&#xFF09;&#x3002;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#x5C31;&#x662F;&#x67E5;&#x8BE2;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5728;&#x4E0D;&#x540C;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x76F4;&#x63A5;&#x79FB;&#x52A8;&#x6570;&#x636E;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x9700;&#x8981;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x7684;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x8FD0;&#x884C;&#x5728;&#x7279;&#x5B9A;&#x8282;&#x70B9;&#x7684;&#x67E5;&#x8BE2;&#x662F;&#x4E0D;&#x9700;&#x8981;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x7684;&#x3002;
&#x4E3A;&#x4E86;&#x80FD;&#x8BA9;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x83B7;&#x5F97;&#x6700;&#x5927;&#x7684;&#x5E76;&#x884C;&#x7C92;&#x5EA6;&#xFF0C;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x901A;&#x8FC7;&#x5C06;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x8FDB;&#x884C;&#x5207;&#x7247;&#x6765;&#x8FDB;&#x4E00;&#x6B65;&#x5206;&#x89E3;&#x4EFB;&#x52A1;&#x3002;&#x6BCF;&#x4E2A;&#x5207;&#x7247;&#x90FD;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x4E00;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x72EC;&#x7ACB;&#x6267;&#x884C;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5B50;&#x96C6;&#x3002;&#x5F53;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#x65F6;&#xFF0C;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5C31;&#x662F;&#x88AB;&#x5206;&#x7247;&#x7684;&#x3002;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#x7684;&#x4E0A;&#x4E0B;&#x4E24;&#x90E8;&#x5206;&#x5404;&#x81EA;&#x662F;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x5206;&#x7247;&#x3002;
&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4E24;&#x5F20;&#x8868;&#x8FDE;&#x63A5;&#x7684;&#x8FD0;&#x7B97;&#xFF1A;
select-customer-amount
from-sales-join-customer-using-custid
where-datecol--04-30-2008
&#x56FE;3-&#x5C55;&#x793A;&#x4E86;&#x4E0A;&#x9762;&#x67E5;&#x8BE2;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x3002;&#x6BCF;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x90FD;&#x4F1A;&#x6536;&#x5230;&#x4E00;&#x4EFD;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x62F7;&#x8D1D;&#xFF0C;&#x5E76;&#x4E14;&#x5E76;&#x884C;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;
&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x91CD;&#x5206;&#x5E03;&#x7684;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#xFF0C;&#x8BE5;&#x8282;&#x70B9;&#x7528;&#x6765;&#x5728;&#x4E0D;&#x540C;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x76F4;&#x63A5;&#x79FB;&#x52A8;&#x8BB0;&#x5F55;&#x4F7F;&#x5F97;&#x8FDE;&#x63A5;&#x8FD0;&#x7B97;&#x5F97;&#x610F;&#x5B8C;&#x6210;&#x3002;&#x8FD9;&#x91CC;&#x4E4B;&#x6240;&#x6709;&#x9700;&#x8981;&#x6570;&#x636E;&#x91CD;&#x5206;&#x5E03;&#x7684;&#x8282;&#x70B9;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;-customer-&#x8868;&#xFF08;&#x7528;&#x6237;&#x8868;&#xFF09;&#x7684;&#x6570;&#x636E;&#x5206;&#x5E03;&#x662F;&#x901A;&#x8FC7;-custid-&#x6765;&#x8FDB;&#x884C;&#x7684;&#xFF0C;&#x800C;-sales-&#x8868;&#xFF08;&#x9500;&#x552E;&#x8868;&#xFF09;&#x662F;&#x6839;&#x636E;-saleid-&#x8FDB;&#x884C;&#x7684;&#x3002;&#x4E3A;&#x4E86;&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x64CD;&#x4F5C;&#xFF0C;sales-&#x8868;&#x7684;&#x6570;&#x636E;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x6839;&#x636E;-custid-&#x6765;&#x5206;&#x5E03;&#x3002;&#x56E0;&#x6B64;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5728;&#x6570;&#x636E;&#x91CD;&#x5206;&#x5E03;&#x8282;&#x70B9;&#x4E24;&#x4FA7;&#x88AB;&#x5207;&#x7247;&#xFF0C;&#x5206;&#x522B;&#x662F;-slice-1-&#x548C;-slice-2&#x3002;
&#x8FD9;&#x4E2A;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x8FD8;&#x5305;&#x62EC;&#x4E86;&#x53E6;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#xFF1A;&#x6570;&#x636E;&#x805A;&#x5408;&#x8282;&#x70B9;&#x3002;&#x6570;&#x636E;&#x805A;&#x5408;&#x8282;&#x70B9;&#x662F;&#x4E3A;&#x4E86;&#x8BA9;&#x6240;&#x6709;&#x7684;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x5C06;&#x7ED3;&#x679C;&#x53D1;&#x9001;&#x7ED9;&#x4E3B;&#x8282;&#x70B9;&#xFF0C;&#x6700;&#x540E;&#x4ECE;&#x4E3B;&#x8282;&#x70B9;&#x53D1;&#x9001;&#x7ED9;&#x7528;&#x6237;&#x5F15;&#x5165;&#x7684;&#x3002;&#x7531;&#x4E8E;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x603B;&#x662F;&#x5728;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#x51FA;&#x73B0;&#x65F6;&#x88AB;&#x5207;&#x7247;&#xFF0C;&#x8FD9;&#x4E2A;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x8FD8;&#x5305;&#x62EC;&#x4E86;&#x4E00;&#x4E2A;&#x9690;&#x85CF;&#x7684;&#x5207;&#x7247;&#xFF0C;&#x8BE5;&#x5207;&#x7247;&#x4F4D;&#x4E8E;&#x67E5;&#x8BE2;&#x7684;&#x6700;&#x9876;&#x5C42;&#xFF08;slice3&#xFF09;&#x3002;&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x5305;&#x542B;&#x6570;&#x636E;&#x805A;&#x5408;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;
create-table-x-as
select-
&#x8BED;&#x53E5;&#x4E0D;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x805A;&#x5408;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x6570;&#x636E;&#x5C06;&#x4F1A;&#x79FB;&#x52A8;&#x5230;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x6570;&#x636E;&#x8868;&#x4E2D;&#xFF0C;&#x800C;&#x975E;&#x4E3B;&#x8282;&#x70B9;&#x3002;

-&#x56FE;3&#xFF1A;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5207;&#x7247;
&#x7406;&#x89E3;&#x5E76;&#x884C;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x6267;&#x884C;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5C06;&#x4F1A;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x7A0B;&#x6765;&#x5904;&#x7406;&#x67E5;&#x8BE2;&#x7684;&#x76F8;&#x5173;&#x5DE5;&#x4F5C;&#x3002;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x67E5;&#x8BE2;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x88AB;&#x79F0;&#x4E3A;&#x67E5;&#x8BE2;&#x5206;&#x6D3E;&#x5668;&#xFF08;qd&#xFF09;&#x3002;qd-&#x8D1F;&#x8D23;&#x521B;&#x5EFA;&#x548C;&#x5206;&#x6D3E;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x3002;&#x5B83;&#x540C;&#x65F6;&#x8D1F;&#x8D23;&#x6536;&#x96C6;&#x548C;&#x5C55;&#x793A;&#x6700;&#x7EC8;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x3002;-&#x5728;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x67E5;&#x8BE2;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x88AB;&#x79F0;&#x4F5C;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x5668;&#xFF08;qe&#xFF09;&#x3002;qe-&#x8D1F;&#x8D23;&#x6267;&#x884C;&#x5206;&#x914D;&#x7ED9;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5E76;&#x901A;&#x8FC7;&#x901A;&#x4FE1;&#x6A21;&#x5757;&#x5C06;&#x4E2D;&#x95F4;&#x7ED3;&#x679C;&#x53D1;&#x9001;&#x7ED9;&#x5176;&#x5B83;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x3002;
&#x6BCF;&#x4E2A;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x5207;&#x7247;&#x90FD;&#x81F3;&#x5C11;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x4E0E;&#x4E4B;&#x5BF9;&#x5E94;&#x8D1F;&#x8D23;&#x6267;&#x884C;&#x3002;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x8D4B;&#x4E88;&#x4E0D;&#x4F1A;&#x4E92;&#x76F8;&#x4F9D;&#x8D56;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7247;&#x6BB5;&#x3002;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x90FD;&#x4F1A;&#x6709;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x5E76;&#x884C;&#x5730;&#x53C2;&#x4E0E;&#x67E5;&#x8BE2;&#x7684;&#x5904;&#x7406;&#x5DE5;&#x4F5C;&#x3002;
&#x5728;&#x4E0D;&#x540C;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x4E0A;&#x6267;&#x884C;&#x76F8;&#x540C;&#x5207;&#x7247;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x88AB;&#x79F0;&#x4E3A;&#x8FDB;&#x7A0B;&#x7EC4;&#x3002;&#x968F;&#x7740;&#x4E00;&#x90E8;&#x5206;&#x5DE5;&#x4F5C;&#x7684;&#x5B8C;&#x6210;&#xFF0C;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x5C06;&#x4F1A;&#x4ECE;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7EC4;&#x6D41;&#x5411;&#x5176;&#x5B83;&#x8FDB;&#x7A0B;&#x7EC4;&#x3002;&#x8FD9;&#x79CD;&#x5728;&#x6570;&#x636E;&#x8282;&#x70B9;&#x4E4B;&#x95F4;&#x7684;&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;&#x88AB;&#x79F0;&#x4E3A;&#x4E92;&#x8054;&#x7EC4;&#x4EF6;&#x3002;
&#x56FE;4-&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5BF9;&#x4E8E;-&#x56FE;3-&#x4E2D;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x548C;&#x4E24;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x4E0A;&#x7684;&#x8FDB;&#x7A0B;&#x5206;&#x5E03;&#x60C5;&#x51B5;&#x3002;

-&#x56FE;4&#xFF1A;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;
&#x67E5;&#x8BE2;&#x7684;&#x5B9A;&#x4E49;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x67E5;&#x8BE2;&#x547D;&#x4EE4;&#x662F;&#x57FA;&#x4E8E;-postgresql-&#x5F00;&#x53D1;&#xFF0C;&#x800C;-postgresql-&#x662F;&#x5B9E;&#x73B0;&#x4E86;-sql-&#x6807;&#x51C6;&#x3002;
&#x672C;&#x5C0F;&#x7ED3;&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x5728;-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E2D;&#x7F16;&#x5199;-sql-&#x67E5;&#x8BE2;&#x3002;

sql-&#x8BCD;&#x6CD5;&#x5143;&#x7D20;
sql-&#x503C;&#x8868;&#x8FBE;&#x5F0F;

sql-&#x8BCD;&#x6CD5;&#x5143;&#x7D20;
sql-&#x662F;&#x4E00;&#x79CD;&#x6807;&#x51C6;&#x5316;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8BBF;&#x95EE;&#x8BED;&#x8A00;&#x3002;&#x4E0D;&#x540C;&#x5143;&#x7D20;&#x7EC4;&#x6784;&#x6210;&#x7684;&#x8BED;&#x8A00;&#x5141;&#x8BB8;&#x63A7;&#x5236;&#x6570;&#x636E;&#x5B58;&#x50A8;&#xFF0C;&#x6570;&#x636E;&#x83B7;&#x53D6;&#xFF0C;&#x6570;&#x636E;&#x5206;&#x6790;&#xFF0C;-&#x6570;&#x636E;&#x53D8;&#x6362;&#x548C;&#x6570;&#x636E;&#x4FEE;&#x6539;&#x7B49;&#x3002;&#x4F60;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x4F7F;&#x7528;-sql-&#x547D;&#x4EE4;&#x6765;&#x7F16;&#x5199;-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x7406;&#x89E3;&#x7684;&#x67E5;&#x8BE2;&#x548C;&#x547D;&#x4EE4;&#x3002;sql-&#x67E5;&#x8BE2;&#x7531;&#x4E00;&#x6761;&#x6216;&#x591A;&#x6761;&#x547D;&#x4EE4;&#x987A;&#x5E8F;&#x7EC4;&#x6210;&#x3002;&#x6BCF;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x662F;&#x7531;&#x591A;&#x4E2A;&#x8BCD;&#x6CD5;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x6B63;&#x786E;&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#x6784;&#x6210;&#x7684;&#xFF0C;-&#x6BCF;&#x6761;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x5206;&#x53F7;&#xFF08;&#xFF09;&#x5206;&#x9694;&#x3002;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5728;-postgresql-&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#x4E0A;&#x8FDB;&#x884C;&#x4E86;&#x4E00;&#x4E9B;&#x6269;&#x5C55;&#xFF0C;&#x5E76;&#x6839;&#x636E;&#x5206;&#x5E03;&#x5F0F;&#x73AF;&#x5883;&#x589E;&#x52A0;&#x4E86;&#x90E8;&#x5206;&#x7684;&#x9650;&#x5236;&#x3002;&#x5982;&#x679C;&#x60A8;&#x5E0C;&#x671B;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x5173;&#x4E8E;-postgresql-&#x4E2D;&#x7684;-sql-&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x548C;&#x6982;&#x5FF5;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x53C2;&#x8003;-postgresql82&#x82F1;&#x6587;&#x624B;&#x518C;&#x4E2D;sql&#x8BED;&#x6CD5;&#x7AE0;&#x8282;-&#x6216;&#x8005;-postgresql93&#x4E2D;&#x6587;&#x624B;&#x518C;&#x4E2D;-sql-&#x8BED;&#x6CD5;&#x7AE0;&#x8282;&#x3002;&#x7531;&#x4E8E;&#x4E2D;&#x6587;&#x7F51;&#x7AD9;&#x6CA1;&#x6709;-82-&#x624B;&#x518C;&#xFF0C;&#x8BF7;&#x60A8;&#x6CE8;&#x610F;&#x76F8;&#x5173;&#x8D44;&#x6599;&#x4E2D;&#x7684;&#x8BED;&#x6CD5;&#x53D8;&#x52A8;&#x3002;
sql-&#x503C;&#x8868;&#x8FBE;&#x5F0F;
sql-&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x503C;&#xFF0C;&#x7B26;&#x53F7;&#xFF0C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;sql-&#x51FD;&#x6570;&#x548C;&#x6570;&#x636E;&#x7EC4;&#x6210;&#x3002;&#x8868;&#x8FBE;&#x5F0F;&#x901A;&#x8FC7;&#x6BD4;&#x8F83;&#x6570;&#x636E;&#xFF0C;&#x6267;&#x884C;&#x8BA1;&#x7B97;&#x75C5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x3002;&#x8868;&#x8FBE;&#x5F0F;&#x8BA1;&#x7B97;&#x5305;&#x62EC;&#xFF1A;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#xFF0C;&#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x548C;&#x96C6;&#x5408;&#x8FD0;&#x7B97;&#x3002;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7C7B;&#x522B;&#xFF1A;

&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;
&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x5217;&#x5F15;&#x7528;
&#x5E38;&#x4EAE;&#x6216;&#x5B57;&#x9762;&#x503C;
&#x76F8;&#x5173;&#x81EA;&#x67E5;&#x8BE2;
&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;
&#x51FD;&#x6570;&#x8C03;&#x7528;
insert-&#x6216;-update-&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x4E3A;&#x5217;&#x63D0;&#x4F9B;&#x7684;&#x503C;
&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;
&#x5217;&#x5F15;&#x7528;
&#x5728;&#x51FD;&#x6570;&#x4F53;&#x5185;&#x6216;-prepared-&#x8BED;&#x53E5;&#x4E2D;&#x5F15;&#x7528;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;
where-&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x641C;&#x7D22;&#x6761;&#x4EF6;
select-&#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x8FD4;&#x56DE;&#x5217;&#x8868;
&#x7C7B;&#x578B;&#x8F6C;&#x6362;
&#x62EC;&#x53F7;&#x4FDD;&#x62A4;&#x7684;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;

&#x50CF;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x8FD9;&#x6837;&#x7684;-sql-&#x7ED3;&#x6784;&#x867D;&#x7136;&#x5C5E;&#x4E8E;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x4E0E;&#x666E;&#x901A;&#x7684;&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x4E0D;&#x76F8;&#x540C;&#x3002;&#x8BF7;&#x53C2;&#x8003;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x5217;&#x5F15;&#x7528;
&#x5217;&#x5F15;&#x7528;&#x7684;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;
correlationcolumnname
&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;correlation-&#x662F;&#x8868;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF1A;&#x5728;&#x8868;&#x540D;&#x524D;&#x9762;&#x6DFB;&#x52A0;&#x6A21;&#x5F0F;&#x540D;&#xFF09;&#x6216;&#x8005;&#x5B9A;&#x4E49;&#x5728;-from-&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x8868;&#x7684;&#x522B;&#x540D;&#x3002;&#x5982;&#x679C;&#x5217;&#x540D;&#x5728;&#x67E5;&#x8BE2;&#x8BBF;&#x95EE;&#x7684;&#x8868;&#x4E2D;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF0C;&#x90A3;&#x4E48;-correlation-&#x90E8;&#x5206;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x7701;&#x7565;&#x7684;&#x3002;
&#x4F4D;&#x7F6E;&#x53C2;&#x6570;
&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x662F;&#x6307;&#x901A;&#x8FC7;&#x6307;&#x5B9A;&#x4F20;&#x9012;&#x7ED9;-sql-&#x8BED;&#x53E5;&#x6216;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;&#x6765;&#x5F15;&#x7528;&#x7684;&#x53C2;&#x6570;&#x3002;&#x4F8B;&#x5982;&#xFF1A;1-&#x5F15;&#x7528;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;2-&#x5F15;&#x7528;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4F9D;&#x6B64;&#x7C7B;&#x63A8;&#x3002;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x7684;&#x503C;&#x662F;&#x901A;&#x8FC7;&#x5728;-sql-&#x8BED;&#x53E5;&#x7684;&#x5916;&#x90E8;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x6216;&#x8005;&#x901A;&#x8FC7;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x4F20;&#x9012;&#x3002;-&#x4E00;&#x4E9B;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x53E3;&#x5E93;&#x51FD;&#x6570;&#x652F;&#x6301;&#x5728;-sql-&#x547D;&#x4EE4;&#x4E4B;&#x5916;&#x6307;&#x5B9A;&#x6570;&#x503C;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x53C2;&#x6570;&#x5F15;&#x7528;&#x7684;&#x662F;-sql-&#x4E4B;&#x5916;&#x7684;&#x5B9E;&#x9645;&#x503C;&#x3002;
&#x5F15;&#x7528;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x7684;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;
number
&#x793A;&#x4F8B;
create-function-depttext-returns-dept
----as--select--from-dept-where-name--1-
----language-sql
&#x8FD9;&#x91CC;-1-&#x5F15;&#x7528;&#x7684;&#x662F;&#x5728;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x4F20;&#x9012;&#x7ED9;&#x51FD;&#x6570;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x503C;&#x3002;
&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;
&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x4EA7;&#x751F;&#x4E86;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x7C7B;&#x578B;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x6570;&#x7EC4;&#x4E2D;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x5143;&#x7D20;&#x503C;&#xFF1A;
expressionsubscript
&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x591A;&#x4E2A;&#x76F8;&#x8FDE;&#x7684;&#x5143;&#x7D20;&#x503C;&#xFF0C;&#x79F0;&#x4E3A;&#x6570;&#x7EC4;&#x5206;&#x7247;&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;
expressionlowersubscriptuppersubscript
&#x4E0B;&#x6807;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8BE5;&#x8868;&#x8FBE;&#x5F0F;&#x5FC5;&#x987B;&#x8FD4;&#x56DE;&#x6574;&#x6570;&#x503C;&#x7C7B;&#x578B;&#x3002;
&#x5927;&#x90E8;&#x5206;&#x65F6;&#x5019;&#xFF0C;&#x6570;&#x7EC4;&#x8868;&#x8FBE;&#x5F0F;&#x5FC5;&#x987B;&#x5728;&#x62EC;&#x53F7;&#x4E2D;&#x4F7F;&#x7528;&#x3002;&#x5982;&#x679C;&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;&#x8BBF;&#x95EE;&#x5217;&#x5F15;&#x7528;&#x6216;&#x8005;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x62EC;&#x53F7;&#x662F;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x7684;&#x3002;-&#x5BF9;&#x4E8E;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8FDE;&#x63A5;&#x591A;&#x4E2A;&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;
mytablearraycolumn4
mytabletwodcolumn1734
11042
arrayfunctionab42
&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;
&#x5982;&#x679C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#xFF09;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x9009;&#x62E9;&#x8BE5;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x4E2D;&#x7684;&#x7279;&#x5B9A;&#x6210;&#x5458;&#x503C;&#xFF1A;
expressionfieldname
&#x8BB0;&#x5F55;&#x8868;&#x8FBE;&#x5F0F;&#x901A;&#x5E38;&#x9700;&#x8981;&#x5728;&#x62EC;&#x53F7;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x88AB;&#x8BBF;&#x95EE;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x8868;&#x5F15;&#x7528;&#x6216;&#x8005;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x62EC;&#x53F7;&#x662F;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x7684;&#x3002;&#x793A;&#x4F8B;&#xFF1A;
mytablemycolumn
1somecolumn
rowfunctionabcol3
&#x4E00;&#x4E2A;&#x9650;&#x5B9A;&#x7684;&#x5217;&#x5F15;&#x7528;&#x662F;&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7279;&#x4F8B;&#x3002;
&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;
&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x7684;&#x51E0;&#x79CD;&#x8BED;&#x6CD5;&#xFF1A;
expression-operator-expressionbinary-infix-operator
operator-expressionunary-prefix-operator
expression-operatorunary-postfix-operator
&#x793A;&#x4F8B;&#x4E2D;&#x7684;-operator-&#x5B9E;&#x9645;&#x662F;&#x8FD0;&#x7B97;&#x7B26;&#x7B26;&#x53F7;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;and&#xFF0C;or&#xFF0C;-&#x7B49;&#x3002;&#x8FD0;&#x7B97;&#x7B26;&#x4E5F;&#x6709;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;
operatorschemaoperatorname
&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x4EE5;&#x53CA;&#x4ED6;&#x4EEC;&#x7A76;&#x7ADF;&#x662F;&#x4E00;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#x8FD8;&#x662F;&#x4E8C;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x53D6;&#x51B3;&#x4E8E;&#x7CFB;&#x7EDF;&#x548C;&#x7528;&#x6237;&#x7684;&#x5B9A;&#x4E49;&#x3002;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x5185;&#x5EFA;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x51FD;&#x6570;&#x8C03;&#x7528;
&#x51FD;&#x6570;&#x8C03;&#x7528;&#x7684;&#x8BED;&#x6CD5;&#x662F;&#x51FD;&#x6570;&#x540D;&#xFF08;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF1A;&#x5728;&#x51FD;&#x6570;&#x540D;&#x5F00;&#x5934;&#x6DFB;&#x52A0;&#x6A21;&#x5F0F;&#x540D;&#xFF09;&#x8DDF;&#x968F;&#x7740;&#x4F7F;&#x7528;&#x62EC;&#x53F7;&#x4FDD;&#x62A4;&#x7684;&#x53C2;&#x6570;&#x5217;&#x8868;&#xFF1A;
function-expression--expression--
&#x4E0B;&#x9762;&#x793A;&#x4F8B;&#x662F;&#x901A;&#x8FC7;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x8BA1;&#x7B97;2&#x7684;&#x5E73;&#x65B9;&#x6839;&#xFF1A;
sqrt2
&#x53C2;&#x8003;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x805A;&#x96C6;&#x8868;&#x8FBE;&#x5F0F;
&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x6307;&#x5BF9;&#x4E8E;&#x67E5;&#x8BE2;&#x9009;&#x62E9;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x4E0A;&#x5E94;&#x7528;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x51FD;&#x6570;&#x3002;&#x805A;&#x5408;&#x51FD;&#x6570;&#x5728;&#x4E00;&#x7EC4;&#x503C;&#x4E0A;&#x8FDB;&#x884C;&#x8FD0;&#x7B97;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x5BF9;&#x4E00;&#x7EC4;&#x503C;&#x8FDB;&#x884C;&#x6C42;&#x548C;&#x8FD0;&#x7B97;&#x6216;&#x8005;&#x8BA1;&#x7B97;&#x5E73;&#x5747;&#x503C;&#x3002;&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#xFF1A;

aggregatenameexpression------&#x2014;-&#x5904;&#x7406;&#x6240;&#x6709;&#x503C;&#x4E3A;&#x975E;&#x7A7A;&#x7684;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#x3002;
aggregatenameall-expression------&#x2014;-&#x548C;&#x4E0A;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x884C;&#x4E3A;&#x4E00;&#x81F4;&#xFF0C;&#x56E0;&#x4E3A;-all-&#x662F;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x3002;
aggregatenamedistinct-expression------&#x2014;-&#x5904;&#x7406;&#x6240;&#x6709;&#x53BB;&#x9664;&#x91CD;&#x590D;&#x540E;&#x7684;&#x975E;&#x7A7A;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#x3002;
aggregatename-&#x2014;-&#x5904;&#x7406;&#x6240;&#x6709;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#xFF0C;&#x975E;&#x7A7A;&#x503C;&#x548C;&#x7A7A;&#x503C;&#x90FD;&#x4F1A;&#x88AB;&#x5904;&#x7406;&#x3002;&#x901A;&#x5E38;&#x8FD9;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x90FD;&#x662F;&#x4E3A;count&#x670D;&#x52A1;&#x7684;&#x3002;

&#x4E0A;&#x9762;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;-aggregatename-&#x662F;&#x4E00;&#x4E2A;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x540D;&#x79F0;&#xFF08;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6A21;&#x5F0F;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF09;&#x3002;&#x4E0A;&#x9762;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;-expression-&#x53EF;&#x4EE5;&#x662F;&#x9664;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x81EA;&#x8EAB;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x503C;&#x5408;&#x6CD5;&#x8868;&#x8FBE;&#x5F0F;&#x3002;
&#x4F8B;&#x5982;&#xFF0C;count-&#x8FD4;&#x56DE;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x7684;&#x603B;&#x6570;&#x91CF;&#xFF0C;countf1-&#x8FD4;&#x56DE;-f1-&#x503C;&#x4E2D;&#x975E;&#x7A7A;&#x7684;&#x603B;&#x6570;&#x91CF;&#xFF0C;countdistinct-f1-&#x8FD4;&#x56DE;&#x7684;&#x662F;-f1-&#x503C;&#x4E2D;&#x975E;&#x7A7A;&#x5E76;&#x53BB;&#x9664;&#x91CD;&#x590D;&#x503C;&#x540E;&#x7684;&#x603B;&#x6570;&#x91CF;&#x3002;
&#x8981;&#x4E86;&#x89E3;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x3002;&#x9664;&#x4E86;&#x9884;&#x5B9A;&#x4E49;&#x805A;&#x5408;&#x51FD;&#x6570;&#x5916;&#xFF0C;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x3002;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x63D0;&#x4F9B;-median-&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x8FD4;&#x56DE;-percentilecont-&#x7684;-50-&#x5206;&#x4F4D;&#x6570;&#x7ED3;&#x679C;&#x3002;-&#x4E0B;&#x9762;&#x662F;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x652F;&#x6301;&#x7684;&#x7279;&#x6B8A;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;
percentilecontpercentage-within-group-order-by-expression
percentilediscpercentage-within-group-order-by-expression
&#x76EE;&#x524D;&#x53EA;&#x6709;&#x4E0A;&#x9762;&#x4E24;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5173;&#x952E;&#x5B57;-within-group&#x3002;
&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x9650;&#x5236;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x4E86;&#x76EE;&#x524D;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x9650;&#x5236;&#xFF1A;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x5173;&#x952E;&#x5B57;&#xFF1A;all&#xFF0C;distinct&#xFF0C;filter-&#x548C;-over&#x3002;&#x8BF7;&#x53C2;&#x8003;-&#x8868;5-&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x53EA;&#x80FD;&#x51FA;&#x73B0;&#x5728;-select-&#x547D;&#x4EE4;&#x7684;&#x7ED3;&#x679C;&#x5217;&#x8868;&#x6216;&#x8005;-having-&#x5B50;&#x53E5;&#x4E2D;&#x3002;&#x5728;&#x5176;&#x5B83;&#x4F4D;&#x7F6E;&#x7D27;&#x81F4;&#x8BBF;&#x95EE;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;where&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5728;&#x5176;&#x5B83;&#x5176;&#x5B83;&#x4F4D;&#x7F6E;&#x7684;&#x8BA1;&#x7B97;&#x65E9;&#x4E8E;&#x805A;&#x5408;&#x6570;&#x636E;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x6B64;&#x9650;&#x5236;&#x7279;&#x6307;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x6240;&#x5C5E;&#x7684;&#x67E5;&#x8BE2;&#x5C42;&#x6B21;&#x3002;
&#x5F53;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x51FA;&#x73B0;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x805A;&#x5408;&#x64CD;&#x4F5C;&#x76F8;&#x5F53;&#x4E8E;&#x4F5C;&#x7528;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x53EA;&#x5305;&#x542B;&#x5916;&#x5C42;&#x53D8;&#x91CF;&#xFF0C;&#x8BE5;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x5C5E;&#x4E8E;&#x6700;&#x8FD1;&#x4E00;&#x5C42;&#x7684;&#x5916;&#x90E8;&#x8868;&#x67E5;&#x8BE2;&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x5728;&#x8BE5;&#x67E5;&#x8BE2;&#x7ED3;-&#x679C;&#x4E0A;&#x8FDB;&#x884C;&#x805A;&#x5408;&#x8FD0;&#x7B97;&#x3002;&#x8BE5;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x5BF9;&#x4E8E;&#x51FA;&#x73B0;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x6765;&#x8BF4;&#xFF0C;&#x5C06;&#x4F1A;&#x5F53;&#x6210;&#x4E00;&#x4E2A;&#x5916;&#x90E8;&#x5F15;&#x7528;&#xFF0C;&#x5E76;&#x4EE5;&#x5E38;&#x91CF;&#x503C;&#x5904;&#x7406;&#x3002;&#x8BF7;&#x53C2;&#x8003;-&#x8868;2-&#x4E86;&#x89E3;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x3002;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x5728;&#x591A;&#x4E2A;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;&#x4E0A;&#x4F7F;&#x7528;-distinct&#x3002;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x5141;&#x8BB8;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x66F4;&#x52A0;&#x7B80;&#x5355;&#x5730;&#x901A;&#x8FC7;&#x6807;&#x51C6;sql&#x8BED;&#x8A00;&#xFF0C;&#x6765;&#x6784;&#x5EFA;&#x590D;&#x6742;&#x7684;&#x5728;&#x7EBF;&#x5206;&#x6790;&#x5904;&#x7406;&#xFF08;olap&#xFF09;&#x3002;-&#x4F8B;&#x5982;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x8BA1;&#x7B97;&#x79FB;&#x52A8;&#x5E73;&#x5747;&#x503C;&#xFF0C;&#x67D0;&#x4E2A;&#x8303;&#x56F4;&#x5185;&#x7684;&#x603B;&#x548C;&#xFF0C;&#x6839;&#x636E;&#x67D0;&#x4E9B;&#x5217;&#x503C;&#x7684;&#x53D8;&#x5316;&#x91CD;&#x7F6E;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x6216;&#x6392;&#x540D;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x7B80;&#x5355;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x8868;&#x8FF0;&#x590D;&#x6742;&#x7684;&#x6BD4;&#x4F8B;&#x5173;&#x7CFB;&#x3002;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x8868;&#x793A;&#x5728;&#x7A97;&#x53E3;&#x5E27;&#x4E0A;&#x5E94;&#x7528;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#xFF0C;&#x7A97;&#x53E3;&#x5E27;&#x662F;&#x901A;&#x8FC7;&#x975E;&#x5E38;&#x7279;&#x522B;&#x7684;-over-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x7684;&#x3002;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x662F;&#x5206;&#x7EC4;&#x540E;&#x7684;&#x5E94;&#x7528;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x96C6;&#x5408;&#x3002;&#x4E0E;&#x805A;&#x5408;&#x51FD;&#x6570;&#x9488;&#x5BF9;&#x6BCF;&#x4E2A;&#x5206;&#x7EC4;&#x7684;&#x8BB0;&#x5F55;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x4E0D;&#x540C;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x771F;&#x5BF9;&#x6BCF;&#x884C;&#x90FD;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;&#x4F46;&#x662F;&#x8BE5;&#x503C;&#x7684;&#x8BA1;&#x7B97;&#x662F;&#x5B8C;&#x5168;&#x771F;&#x5BF9;&#x6839;&#x636E;&#x8BB0;&#x5F55;&#x5BF9;&#x5E94;&#x7684;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x8FDB;&#x884C;&#x7684;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;&#x5206;&#x533A;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5C31;&#x4F1A;&#x5728;&#x6574;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x8D4F;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x3002;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8BED;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;
windowfunction--expression----over--windowspecification-
&#x8FD9;&#x91CC;&#x7684;-windowfunction-&#x662F;&#x8868;-3-&#x5217;&#x51FA;&#x7684;&#x51FD;&#x6570;&#x4E4B;&#x4E00;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x4EFB;&#x4F55;&#x4E0D;&#x5305;&#x542B;&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5408;&#x6CD5;&#x503C;&#x3002;windowspecification-&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;
windowname
partition-by-expression--
order-by-expression-asc--desc--using-operator--
----range--rows
--------unbounded-preceding
--------expression-preceding
--------current-row
--------between-windowframebound-and-windowframebound-
&#x4E0A;&#x9762;&#x7684;-windowframebound-&#x5B9A;&#x4E49;&#x5982;&#x4E0B;
unbounded-preceding
expression-preceding
current-row
expression-following
unbounded-following
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x53EA;&#x80FD;&#x5728;-select-&#x7684;&#x8FD4;&#x56DE;&#x91CC;&#x8868;&#x4E2D;&#x51FA;&#x73B0;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-count-overpartition-by-customerid--from-sales
over-&#x5B50;&#x53E5;&#x662F;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x4E0E;&#x5176;&#x4ED6;&#x805A;&#x5408;&#x51FD;&#x6570;&#x6216;&#x62A5;&#x8868;&#x51FD;&#x6570;&#x6700;&#x5927;&#x7684;&#x533A;&#x522B;&#x3002;over-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x7684;-windowspecification-&#x786E;&#x5B9A;&#x4E86;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5E94;&#x7528;&#x7684;&#x8303;&#x56F4;&#x3002;&#x7A97;&#x53E3;&#x8BF4;&#x660E;&#x5305;&#x542B;&#x4E0B;&#x9762;&#x7279;&#x5F81;&#xFF1A;
partition-by-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x5E94;&#x7528;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x4E0A;&#x7684;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x3002;&#x5982;&#x679C;&#x7701;&#x7565;&#x6B64;&#x53C2;&#x6570;&#xFF0C;&#x6574;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x5206;&#x533A;&#x4F7F;&#x7528;&#x3002;
order-by-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x5728;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E2D;&#x7528;&#x4E8E;&#x6392;&#x5E8F;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x7A97;&#x53E3;&#x8BF4;&#x660E;&#x4E2D;&#x7684;-order-by-&#x5B50;&#x53E5;&#x548C;&#x4E3B;&#x67E5;&#x8BE2;&#x4E2D;&#x7684;-order-by-&#x5B50;&#x53E5;&#x662F;&#x76F8;&#x4E92;&#x72EC;&#x7ACB;&#x7684;&#x3002;order-by-&#x5B50;&#x53E5;&#x5BF9;&#x4E8E;&#x8BA1;&#x7B97;&#x6392;&#x540D;&#x7684;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x6765;&#x8BF4;&#x662F;&#x5FC5;&#x9700;&#x7684;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x6392;&#x5E8F;&#x540E;&#x624D;&#x80FD;&#x83B7;&#x5F97;&#x6392;&#x540D;&#x503C;&#x3002;-&#x5BF9;&#x4E8E;&#x5728;&#x7EBF;&#x5206;&#x6790;&#x5904;&#x7406;&#x805A;&#x5408;&#x64CD;&#x4F5C;&#xFF0C;&#x7A97;&#x53E3;&#x5E27;&#xFF08;rows-&#x6216;-range-&#x5B50;&#x53E5;&#xFF09;&#x9700;&#x8981;-order-by-&#x5B50;&#x53E5;&#x624D;&#x80FD;&#x4F7F;&#x7528;&#x3002;
rowsrange-&#x5B50;&#x53E5;&#x4E3A;&#x805A;&#x5408;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#xFF08;&#x975E;&#x6392;&#x540D;&#x64CD;&#x4F5C;&#xFF09;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7A97;&#x53E3;&#x5E27;&#x3002;&#x7A97;&#x53E3;&#x5E27;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5206;&#x533A;&#x5185;&#x7684;&#x4E00;&#x7EC4;&#x8BB0;&#x5F55;&#x3002;-&#x5B9A;&#x4E49;&#x4E86;&#x7A97;&#x53E3;&#x5E27;&#x4E4B;&#x540E;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5C06;&#x4F1A;&#x5728;&#x79FB;&#x52A8;&#x7A97;&#x53E3;&#x5E27;&#x4E0A;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#x5728;&#x6574;&#x4E2A;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E0A;&#x8FDB;&#x884C;&#x3002;-&#x7A97;&#x53E3;&#x5E27;&#x53EF;&#x4EE5;&#x662F;&#x57FA;&#x4E8E;&#x8BB0;&#x5F55;&#x5206;&#x9694;&#x7684;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x57FA;&#x4E8E;&#x503C;&#x5206;&#x9694;&#x7684;&#x3002;
&#x7C7B;&#x578B;&#x8F6C;&#x6362;
&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x4E24;&#x79CD;&#x7B49;&#x4EF7;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8BED;&#x6CD5;&#xFF1A;
cast--expression-as-type-
expressiontype
cast-&#x7684;&#x8BED;&#x6CD5;&#x662F;&#x7B26;&#x5408;-sql-&#x6807;&#x51C6;&#x7684;&#x7684;&#xFF1B;&#x800C;&#x8BED;&#x6CD5;--&#x662F;-postgresql-&#x5386;&#x53F2;&#x9057;&#x7559;&#x7684;&#x4E60;&#x60EF;&#x3002;
&#x5BF9;&#x4E8E;&#x5DF2;&#x77E5;&#x7C7B;&#x578B;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x64CD;&#x4F5C;&#x662F;&#x8FD0;&#x884C;&#x65F6;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x3002;&#x53EA;&#x6709;&#x5F53;&#x7CFB;&#x7EDF;&#x4E2D;&#x9002;&#x7528;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x51FD;&#x6570;&#xFF0C;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x624D;&#x53EF;&#x80FD;&#x6210;&#x529F;&#x3002;-&#x8FD9;&#x4E0E;&#x76F4;&#x63A5;&#x5728;&#x5E38;&#x91CF;&#x4E0A;&#x5E94;&#x7528;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5E76;&#x4E0D;&#x76F8;&#x540C;&#x3002;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x5B57;&#x9762;&#x503C;&#x4E0A;&#x5E94;&#x7528;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x4EE3;&#x8868;&#x4E86;&#x7528;&#x5B57;&#x9762;&#x503C;&#x5E38;&#x91CF;&#x5BF9;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x8D4B;&#x503C;&#x3002;-&#x56E0;&#x6B64;&#xFF0C;&#x8BE5;&#x5B57;&#x7B26;&#x4E32;&#x5B57;&#x9762;&#x503C;&#x53EA;&#x8981;&#x662F;&#x8BE5;&#x7C7B;&#x578B;&#x63A5;&#x6536;&#x7684;&#x5408;&#x6CD5;&#x8F93;&#x5165;&#xFF0C;&#x8BE5;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x90FD;&#x4F1A;&#x6210;&#x529F;&#x3002;
&#x5728;&#x4E00;&#x4E9B;&#x4F4D;&#x7F6E;&#x4E0A;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x7C7B;&#x578B;&#x5982;&#x679C;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x6B67;&#x4E49;&#x65F6;&#xFF0C;&#x663E;&#x793A;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x7701;&#x7565;&#x7684;&#x3002;-&#x4F8B;&#x5982;&#xFF0C;&#x5F53;&#x4E3A;&#x4E00;&#x5F20;&#x8868;&#x7684;&#x67D0;&#x4E2A;&#x5217;&#x8D4B;&#x503C;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x5E94;&#x7528;&#x6B63;&#x786E;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x3002;-&#x7CFB;&#x7EDF;&#x8981;&#x5E94;&#x7528;&#x81EA;&#x52A8;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x89C4;&#x5219;&#x7684;&#x524D;&#x63D0;&#x662F;&#xFF0C;&#x5F53;&#x4E14;&#x4EC5;&#x5F53;&#x7CFB;&#x7EDF;&#x8868;&#x4E2D;&#x5B9A;&#x4E49;&#x9690;&#x5F0F;&#x5730;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x662F;&#x5408;&#x6CD5;&#x7684;&#x3002;-&#x5176;&#x4ED6;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#xFF0C;&#x5FC5;&#x9700;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8BED;&#x6CD5;&#x663E;&#x793A;&#x5730;&#x8FDB;&#x884C;&#x8C03;&#x7528;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x53EF;&#x4EE5;&#x963B;&#x6B62;&#x4E00;&#x90E8;&#x5206;&#x7528;&#x6237;&#x610F;&#x6599;&#x4E4B;&#x5916;&#x7684;&#x975E;&#x671F;&#x671B;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x7684;&#x53D1;&#x751F;&#x3002;
&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;
&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x4E00;&#x4E2A;&#x62EC;&#x53F7;&#x4E2D;&#x7684;-select-&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#xFF0C;&#x5E76;&#x4E14;&#x8BE5;&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x884C;&#x4E00;&#x5217;&#xFF08;&#x4E00;&#x4E2A;&#x503C;&#xFF09;&#x3002;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x4E0D;&#x652F;&#x6301;&#x4F7F;&#x7528;&#x8FD4;&#x56DE;&#x591A;&#x884C;&#x6216;&#x591A;&#x5217;&#x7684;-select-&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x3002;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x8FD0;&#x884C;&#x5E76;&#x4F7F;&#x7528;&#x76F8;&#x5173;&#x81EA;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;&#x76F8;&#x5173;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x5F15;&#x7528;&#x4E86;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x53D8;&#x91CF;&#x7684;&#x67E5;&#x8BE2;&#x3002;
&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;
&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x4E00;&#x4E2A;-select-&#x67E5;&#x8BE2;&#x4F4D;&#x4E8E;-&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x6216;-where-&#x6761;&#x4EF6;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x5E76;&#x5F15;&#x7528;&#x4E86;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x3002;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x5141;&#x8BB8;&#x66F4;&#x9AD8;&#x6548;&#x7684;&#x8868;&#x793A;&#x51FA;&#x5F15;&#x7528;&#x5176;&#x4ED6;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x80FD;&#x591F;&#x652F;&#x6301;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x7279;&#x6027;&#xFF0C;&#x6B64;&#x7279;&#x6027;&#x80FD;&#x591F;&#x5141;&#x8BB8;&#x517C;&#x5BB9;&#x5F88;&#x591A;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;-&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x8FD4;&#x56DE;&#x8BB0;&#x5F55;&#x662F;&#x4E00;&#x6761;&#x8FD8;&#x662F;&#x591A;&#x6761;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x662F;&#x6807;&#x91CF;&#x6216;&#x8005;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;-&#x8FD9;&#x53D6;&#x51B3;&#x4E8E;&#x5B83;&#x8FD4;&#x56DE;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x4E00;&#x6761;&#x8FD8;&#x662F;&#x591A;&#x6761;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x76EE;&#x524D;&#x4E0D;&#x652F;&#x6301;&#x5F15;&#x7528;&#x8DE8;&#x5C42;&#x7684;&#x53D8;&#x91CF;&#xFF08;&#x4E0D;&#x652F;&#x6301;&#x95F4;&#x63A5;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF09;&#x3002;
&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x793A;&#x4F8B;-
&#x793A;&#x4F8B;-1-&#x2013;-&#x6807;&#x91CF;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;
select--from-t1-where-t1x
-------------select-maxt2x-from-t2-where-t2y--t1y
&#x793A;&#x4F8B;-2-&#x2013;-&#x76F8;&#x5173;-exists-&#x5B50;&#x67E5;&#x8BE2;
select--from-t1-where
exists-select-1-from-t2-where-t2x--t1x
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5229;&#x7528;&#x4E0B;&#x9762;&#x4E24;&#x4E2A;&#x7B97;&#x6CD5;&#x6765;&#x8FD0;&#x884C;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF1A;
&#x5C06;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x5C55;&#x5F00;&#x6210;&#x4E3A;&#x8FDE;&#x63A5;&#x8FD0;&#x7B97;&#xFF1A;&#x8FD9;&#x79CD;&#x7B97;&#x662F;&#x662F;&#x6700;&#x9AD8;&#x6548;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5BF9;&#x4E8E;&#x5927;&#x90E8;&#x5206;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x4F7F;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x4E00;&#x4E9B;-tpc-h-&#x6D4B;&#x8BD5;&#x96C6;&#x4E2D;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6B64;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x4F18;&#x5316;&#x3002;
&#x5BF9;&#x4E8E;&#x5F15;&#x7528;&#x7684;&#x67E5;&#x8BE2;&#x7684;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x90FD;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF1A;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x76F8;&#x5BF9;&#x6765;&#x8BF4;&#x4F4E;&#x6548;&#x7684;&#x7B97;&#x6CD5;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5BF9;&#x4E8E;&#x4F4D;&#x4E8E;-select-&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x548C;-where-&#x6761;&#x4EF6;&#x4E2D;-or-&#x8FDE;&#x63A5;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x7B97;&#x6CD5;&#x3002;
&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5BF9;&#x4E8E;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x67E5;&#x8BE2;&#x91CD;&#x5199;&#x6765;&#x6539;&#x8FDB;&#x6027;&#x80FD;&#x3002;
&#x793A;&#x4F8B;-3---select-&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;
&#x539F;&#x59CB;&#x67E5;&#x8BE2;
select-t1a
------select-countdistinct-t2z-from-t2-where-t1x--t2y-dt2
from-t1
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x9996;&#x5148;&#x4E0E;&#x8868;-t1-&#x6267;&#x884C;&#x5185;&#x8FDE;&#x63A5;&#xFF0C;&#x518D;&#x6267;&#x884C;&#x5DE6;&#x5916;&#x8FDE;&#x63A5;&#x3002;&#x67E5;&#x8BE2;&#x91CD;&#x5199;&#x53EA;&#x80FD;&#x5BF9;&#x7B49;&#x503C;&#x8FDE;&#x63A5;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x6761;&#x4EF6;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;
select-t1a-dt2-from-t1
-------left-join
--------select-t2y-as-csqy-countdistinct-t2z-as-dt2
--------------from-t1-t2-where-t1x--t2y
--------------group-by-t1x
-------on-t1x--csqy
&#x793A;&#x4F8B;-4---or-&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;-&#x539F;&#x59CB;&#x67E5;&#x8BE2;
select--from-t1
where
x--select-count-from-t2-where-t1x--t2x
or-x--select-count-from-t3-where-t1y--t3y
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x662F;&#x6839;&#x636E;-or-&#x6761;&#x4EF6;&#xFF0C;&#x5C06;&#x539F;&#x6765;&#x67E5;&#x8BE2;&#x5206;&#x6210;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;-union-&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x3002;
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;
select--from-t1
where-x--select-count-from-t2-where-t1x--t2x
union
select--from-t1
where-x--select-count-from-t3-where-t1y--t3y
&#x8981;&#x67E5;&#x770B;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-explain-select-&#x6216;&#x8005;-explain-analyze-select&#x3002;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x4E2D;&#x7684;-subplan-&#x8282;&#x70B9;&#x4EE3;&#x8868;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x5BF9;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x7684;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x90FD;&#x5904;&#x7406;&#x4E00;&#x6B21;&#xFF0C;&#x56E0;&#x6B64;&#x6697;&#x793A;&#x7740;&#x67E5;&#x8BE2;&#x53EF;&#x80FD;&#x53EF;&#x4EE5;&#x88AB;&#x91CD;&#x5199;&#x548C;&#x4F18;&#x5316;&#x3002;
&#x9AD8;&#x7EA7;&#x8868;&#x8868;&#x8FBE;&#x5F0F;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x80FD;&#x591F;&#x5C06;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x5BF9;&#x8F93;&#x5165;&#x9AD8;&#x7EA7;&#x8868;&#x51FD;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x4F7F;&#x7528;-order-by-&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-scatter-by-&#x5B50;&#x53E5;&#x5E76;&#x6307;&#x5B9A;&#x4E00;&#x5217;&#x6216;&#x591A;&#x5217;&#xFF08;&#x6216;&#x8868;&#x8FBE;&#x5F0F;&#xFF09;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x91CD;&#x65B0;&#x5206;&#x5E03;&#x3002;&#x8FD9;&#x79CD;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x4E0E;&#x521B;&#x5EFA;&#x8868;&#x7684;&#x65F6;&#x5019;&#xFF0C;distributed-by-&#x5B50;&#x53E5;&#x5341;&#x5206;&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x6B64;&#x5904;&#x91CD;&#x65B0;&#x5206;&#x5E03;&#x7684;&#x64CD;&#x4F5C;&#x662F;&#x5728;&#x67E5;&#x8BE2;&#x8FD0;&#x884C;&#x65F6;&#x53D1;&#x751F;&#x7684;&#x3002;

&#x6CE8;&#x610F;&#xFF1A;&#x6839;&#x636E;&#x6570;&#x636E;&#x7684;&#x5206;&#x5E03;&#xFF0C;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x5730;&#x5728;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x5E76;&#x884C;&#x7684;&#x8FD0;&#x884C;-&#x8868;-&#x8868;&#x8FBE;&#x5F0F;&#x3002;

&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x6570;&#x636E;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x901A;&#x8FC7;&#x63D0;&#x4F9B;&#x6210;&#x5458;&#x503C;&#x7684;&#x65B9;&#x5F0F;&#x6784;&#x9020;&#x6570;&#x7EC4;&#x503C;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#xFF1A;&#x5173;&#x952E;&#x5B57;-array&#xFF0C;&#x5DE6;&#x65B9;&#x62EC;&#x53F7;&#xFF08;&#xFF09;&#xFF0C;&#x7528;&#x6765;&#x7EC4;&#x6210;&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x503C;&#x7684;&#x901A;&#x8FC7;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x4E00;&#x4E2A;&#x591A;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x548C;&#x4E00;&#x4E2A;&#x53F3;&#x65B9;&#x62EC;&#x53F7;&#xFF08;&#xFF09;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-array1234
--array
---------
-127
&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x7684;&#x7C7B;&#x578B;&#x5C31;&#x662F;&#x5176;&#x6210;&#x5458;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x516C;&#x5171;&#x7C7B;&#x578B;&#xFF0C;&#x786E;&#x5B9A;&#x7684;&#x65B9;&#x5F0F;&#x548C;-union&#xFF0C;case-&#x6784;&#x9020;&#x5668;&#x89C4;&#x5219;&#x76F8;&#x540C;&#x3002;
&#x901A;&#x8FC7;&#x5D4C;&#x5957;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x503C;&#x3002;&#x5185;&#x90E8;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x5173;&#x952E;&#x5B57;-array&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E0B;&#x9762;&#x4E24;&#x4E2A;-select-&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#xFF1A;
select-arrayarray12-array34
select-array1234
-----array
---------------
-1234
&#x7531;&#x4E8E;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x4E00;&#x5B9A;&#x662F;&#x77E9;&#x5F62;&#xFF08;&#x957F;&#x65B9;&#x5F62;&#xFF09;&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x5C42;&#x7684;&#x5185;&#x90E8;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x4EA7;&#x751F;&#x7684;&#x5B50;&#x6570;&#x7EC4;&#x5FC5;&#x987B;&#x62E5;&#x6709;&#x76F8;&#x540C;&#x7684;&#x7EF4;&#x5EA6;&#x3002;
&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5668;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x5B50;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x4EA7;&#x751F;&#x9002;&#x5F53;&#x7C7B;&#x578B;&#x6570;&#x7EC4;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
create-table-arrf1-int-f2-int
insert-into-arr-values-array1234
array5678
select-arrayf1-f2-9101112int-from-arr
---------------------array
------------------------------------------------
-123456789101112
&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x6765;&#x6784;&#x9020;&#x6570;&#x7EC4;&#x3002;&#x8FD9;&#x91CC;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x5173;&#x952E;&#x5B57;-array-&#x5F00;&#x5934;&#xFF0C;&#x540E;&#x9762;&#x8DDF;&#x7740;&#x5728;&#x5706;&#x62EC;&#x53F7;&#x4E2D;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-arrayselect-oid-from-pgproc-where-proname-like-bytea
--------------------------column
-----------------------------------------------------------
-2011195419481952195112441950200519491953200631
&#x8FD9;&#x91CC;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x53EA;&#x80FD;&#x8FD4;&#x56DE;&#x5355;&#x5217;&#x3002;&#x751F;&#x6210;&#x7684;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x5BF9;&#x5E94;&#x7740;&#x5B50;&#x67E5;&#x8BE2;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x7684;&#x7C7B;&#x578B;&#x662F;&#x5B50;&#x67E5;&#x8BE2;&#x8F93;&#x51FA;&#x5217;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x901A;&#x8FC7;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x5F97;&#x5230;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x4E0B;&#x6807;&#x603B;&#x662F;&#x4ECE;-1-&#x5F00;&#x59CB;&#x7F16;&#x53F7;&#x3002;
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x5668;&#x662F;&#x4E00;&#x79CD;&#x7528;&#x6765;&#x4ECE;&#x6210;&#x5458;&#x503C;&#x6784;&#x5EFA;&#x8BB0;&#x5F55;&#x503C;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;&#x8BB0;&#x5F55;&#x8868;&#x8FBE;&#x5F0F;&#x4E5F;&#x88AB;&#x79F0;&#x4E3A;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF09;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-row125this-is-a-test
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x8FD8;&#x652F;&#x6301;&#x8BED;&#x6CD5;-rowvalue-&#xFF0C;&#x8BE5;&#x8868;&#x8FBE;&#x5F0F;&#x80FD;&#x591F;&#x5C06;&#x8BB0;&#x5F55;&#x503C;&#x7684;&#x6210;&#x5458;&#x5C55;&#x5F00;&#x6210;&#x5217;&#x8868;&#xFF0C;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x7C7B;&#x4F3C;&#x4E8E;&#x5F53;&#x4F60;&#x5728;-select-&#x76EE;&#x6807;&#x5217;&#x8868;&#x65F6;&#x4F7F;&#x7528;&#x7684;--&#x8BED;&#x6CD5;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x8868;-t-&#x6709;&#x4E24;&#x5217;-f1-&#x548C;-f2&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x662F;&#x7B49;&#x4EF7;&#x7684;&#xFF1A;
select-rowt-42-from-t
select-rowtf1-tf2-42-from-t
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x9ED8;&#x8BA4;&#x521B;&#x5EFA;&#x7684;&#x8BB0;&#x5F55;&#x503C;&#x5177;&#x6709;&#x533F;&#x540D;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#x3002;&#x6839;&#x636E;&#x9700;&#x8981;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x8BE5;&#x503C;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8F6C;&#x6362;&#x6210;&#x4E00;&#x4E2A;&#x547D;&#x540D;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF1A;&#x6570;&#x636E;&#x8868;&#x7684;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#x6216;&#x8005;&#x662F;&#x901A;&#x8FC7;-create-type-as-&#x547D;&#x4EE4;&#x521B;&#x5EFA;&#x7684;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x5730;&#x63D0;&#x4F9B;&#x7C7B;&#x578B;&#x8F6C;&#x6765;&#x907F;&#x514D;&#x51FA;&#x73B0;&#x6B67;&#x4E49;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
create-table-mytablef1-int-f2-float-f3-text
create-function-getf1mytable-returns-int-as-select-1f1
language-sql
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x5168;&#x5C40;&#x53EA;&#x6709;&#x4E00;&#x4E2A;-getf1-&#x51FD;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x4E0D;&#x4EA7;&#x751F;&#x4EFB;&#x4F55;&#x7684;&#x6B67;&#x4E49;&#xFF0C;&#x60A8;&#x4E5F;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x7684;&#x5904;&#x7406;&#xFF1A;
select-getf1row125this-is-a-test
-getf1
-------
-----1
create-type-myrowtype-as-f1-int-f2-text-f3-numeric
create-function-getf1myrowtype-returns-int-as-select
1f1-language-sql
&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x6765;&#x6307;&#x5B9A;&#x5177;&#x4F53;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;&#xFF1A;
select-getf1row125this-is-a-test
error--function-getf1record-is-not-unique
select-getf1row125this-is-a-testmytable
-getf1
-------
-----1
select-getf1castrow11this-is-a-test25-as
myrowtype
-getf1
-------
----11
&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x5668;&#x6765;&#x6784;&#x5EFA;&#x590D;&#x5408;&#x503C;&#xFF0C;&#x5C06;&#x5176;&#x5B58;&#x50A8;&#x5728;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x7684;&#x5217;&#x4E2D;&#x6216;&#x8005;&#x5C06;&#x5176;&#x4F20;&#x7ED9;&#x63A5;&#x53D7;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#x3002;
&#x8868;&#x8FBE;&#x5F0F;&#x6C42;&#x503C;&#x89C4;&#x5219;
&#x81EA;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x662F;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x3002;&#x8FD0;&#x7B97;&#x7B26;&#x6216;&#x8005;&#x51FD;&#x6570;&#x7684;&#x6C42;&#x503C;&#x4E0D;&#x4E00;&#x5B9A;&#x9075;&#x5B88;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x4E5F;&#x4E0D;&#x4FDD;&#x8BC1;&#x6309;&#x7167;&#x4EFB;&#x4F55;&#x7279;&#x5B9A;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x3002;
&#x5982;&#x679C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x80FD;&#x591F;&#x7531;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x786E;&#x5B9A;&#xFF0C;&#x90A3;&#x4E48;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x7684;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x88AB;&#x6C42;&#x503C;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;
select-true-or-somefunc
somefunc-&#x51FD;&#x6570;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x7C7B;&#x4F3C;&#x7684;&#x60C5;&#x51B5;&#x5BF9;&#x4E0B;&#x9762;&#x4F8B;&#x5B50;&#x4E5F;&#x9002;&#x7528;&#xFF1A;
select-somefunc-or-true
&#x8FD9;&#x4E2A;&#x7279;&#x70B9;&#x548C;&#x5927;&#x591A;&#x6570;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E2D;&#xFF0C;&#x5E03;&#x5C14;&#x8FD0;&#x7B97;&#x7B26;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x603B;&#x662F;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x4E0D;&#x592A;&#x4E00;&#x6837;&#x3002;
&#x4E0D;&#x8981;&#x5728;&#x590D;&#x6742;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x4F7F;&#x7528;&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x50CF;-where-&#x6216;&#x8005;-having-&#x5B50;&#x53E5;&#x3002;&#x56E0;&#x4E3A;&#x8FD9;&#x91CC;&#x8BED;&#x53E5;&#x5728;&#x751F;&#x6210;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x88AB;&#x591A;&#x6B21;&#x5904;&#x7406;&#x3002;&#x5728;&#x4E0A;&#x9762;&#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x5E03;&#x5C14;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;andornot-&#x7EC4;&#x5408;&#xFF09;&#x5C06;&#x4F1A;&#x6839;&#x636E;&#x5E03;&#x5C14;&#x4EE3;&#x6570;&#x89C4;&#x5219;&#x91CD;&#x65B0;&#x6392;&#x5217;&#x6210;&#x4E3A;&#x4EFB;&#x4F55;&#x6700;&#x4F18;&#x5408;&#x6CD5;&#x7ED3;&#x6784;&#x3002;
&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-case-&#x7ED3;&#x6784;&#x6765;&#x4FDD;&#x8BC1;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x907F;&#x514D;&#x9664;0&#x9519;&#x8BEF;&#x7684;&#x60C5;&#x51B5;&#xFF1A;
select--where-x--0-and-yx--15
&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x80FD;&#x591F;&#x4FDD;&#x8BC1;&#x907F;&#x514D;&#x9664;0&#x9519;&#x8BEF;&#xFF1A;
select--where-case-when-x--0-then-yx--15-else-false-end
&#x8FD9;&#x79CD;-case-&#x7ED3;&#x6784;&#x5C06;&#x4F1A;&#x963B;&#x6B62;&#x67E5;&#x8BE2;&#x4F18;&#x5316;&#xFF0C;&#x56E0;&#x6B64;&#x8BF7;&#x5C0F;&#x5FC3;&#x4F7F;&#x7528;&#x3002;
&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5728;-sql-&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x5BF9;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x8FDB;&#x884C;&#x6C42;&#x503C;&#x3002;&#x4E00;&#x4E9B;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x53EA;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x8FD0;&#x884C;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x7ED3;&#x679C;&#x51FA;&#x73B0;&#x4E0D;&#x4E00;&#x81F4;&#x72B6;&#x6001;&#x3002;
&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x51FD;&#x6570;
&#x8868;1-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E2D;&#x7684;&#x51FD;&#x6570;



&#x51FD;&#x6570;&#x7C7B;&#x578B;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x60C5;&#x51B5;
&#x8BF4;&#x660E;
&#x5907;&#x6CE8;




immutable
&#x5B8C;&#x5168;&#x652F;&#x6301;
&#x51FD;&#x6570;&#x53EA;&#x76F4;&#x63A5;&#x4F9D;&#x8D56;&#x53C2;&#x6570;&#x5217;&#x8868;&#x4E2D;&#x63D0;&#x4F9B;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x5BF9;&#x4E8E;&#x76F8;&#x540C;&#x7684;&#x53C2;&#x6570;&#x503C;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4E0D;&#x53D8;&#x3002;



stable
&#x5927;&#x90E8;&#x5206;&#x60C5;&#x51B5;&#x652F;&#x6301;
&#x5728;&#x4E00;&#x6B21;&#x7684;&#x8868;&#x626B;&#x63CF;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5176;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5BF9;&#x76F8;&#x540C;&#x8F93;&#x5165;&#x53C2;&#x6570;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#xFF0C;&#x4F46;&#x662F;&#x7ED3;&#x679C;&#x5728;&#x4E0D;&#x540C;-sql-&#x8BED;&#x53E5;&#x4E4B;&#x95F4;&#x4F1A;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x3002;
&#x5176;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x53D6;&#x51B3;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x6216;&#x53C2;&#x6570;&#x503C;&#x3002;&#x4F8B;&#x5982;&#xFF1A;-currenttimestamp-&#x5BB6;&#x65CF;&#x7684;&#x51FD;&#x6570;&#x90FD;&#x662F;-stable-&#x7684;&#x3002;&#x5728;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x4E2D;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x503C;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#x3002;


volatile
&#x9650;&#x5236;&#x6027;&#x7684;&#x4F7F;&#x7528;
&#x5728;&#x4E00;&#x6B21;&#x8868;&#x626B;&#x63CF;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x51FD;&#x6570;&#x503C;&#x4E5F;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002;-&#x4F8B;&#x5982;&#xFF1A;random-currval-timeofday&#x3002;
&#x5373;&#x4F7F;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x9884;&#x6D4B;&#xFF0C;&#x4EFB;&#x4F55;&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;&#xFF08;side-effects&#xFF09;&#x7684;&#x51FD;&#x6570;&#x4ECD;&#x7136;&#x5C5E;&#x4E8E;&#x6613;&#x53D8;&#x51FD;&#x6570;&#x3002;&#x4F8B;&#x5982;&#xFF1A;-setval&#x3002;



hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x8868;&#x5F15;&#x7528;&#xFF08;rangefuncs&#xFF09;&#x6216;&#x8005;&#x51FD;&#x6570;&#x4F7F;&#x7528;-refcursor-&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;
&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;
&#x6B64;&#x529F;&#x80FD;&#x6B63;&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x672A;&#x6765;&#x7248;&#x672C;&#x5C06;&#x4F1A;&#x5F00;&#x653E;&#x3002;
&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;
&#x4E0B;&#x8868;&#x5217;&#x51FA;&#x4E86;-postgresql-&#x652F;&#x6301;&#x7684;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x79CD;&#x7C7B;&#x3002;
-&#x8868;2-&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;



operatorfunction-category
volatile-&#x51FD;&#x6570;
stable-&#x51FD;&#x6570;
&#x4F7F;&#x7528;&#x9650;&#x5236;




logical-operators





comparison-operators





mathematical-functions-and-operators
random&#x3001;setseed




string-functions-and-operators
all-built-in-conversion-functions
convert&#x3001;pgclientencoding



binary-string-functions-and-operators





bit-string-functions-and-operators





pattern-matching





data-type-formatting-functions

tochar&#x3001;totimestamp



datetime-functions-and-operators
timeofday
age&#x3001;currentdate&#x3001;currenttime&#x3001;currenttimestamp&#x3001;localtime&#x3001;localtimestamp&#x3001;now



geometric-functions-and-operators





network-address-functions-and-operators





sequence-manipulation-functions
currval&#x3001;lastval&#x3001;nextval&#x3001;setval




conditional-expressions





array-functions-and-operators

all-array-functions



aggregate-functions





subquery-expressions





row-and-array-comparisons





set-returning-functions
generateseries




system-information-functions

all-session-information-functions&#x3001;all-access-privilege-inquiry-functions&#x3001;all-schema-visibility-inquiry-functions&#x3001;all-system-catalog-information-functions&#x3001;all-comment-information-functions



system-administration-functions
setconfig&#x3001;pgcancelbackend&#x3001;pgreloadconf&#x3001;pgrotatelogfile&#x3001;pgstartbackup&#x3001;pgstopbackup&#x3001;pgsizepretty&#x3001;pglsdir&#x3001;pgreadfile&#x3001;pgstatfile
currentsetting&#x3001;all-database-object-size-functions
note-the-function-pgcolumnsize-the-value-perhaps-with-toast-compression


xml-functions

xmlaggxml&#x3001;xmlexiststext-xml&#x3001;xmliswellformedtext&#x3001;xmliswellformeddocumenttext&#x3001;xmliswellformedcontenttext&#x3001;xpathtext-xml&#x3001;xpathtext-xml-text&#x3001;xpathexiststext-xml&#x3001;xpathexiststext-xml-text&#x3001;xmltext&#x3001;textxml&#x3001;xmlcommentxml&#x3001;xmlconcat2xml-xml




&#x7A97;&#x53E3;&#x51FD;&#x6570;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x5185;&#x7F6E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x662F;-hashdata-database-&#x5BF9;-postgresql-&#x7684;&#x6269;&#x5C55;&#x3002;-&#x6240;&#x6709;&#x7684;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x90FD;&#x662F;-immutable-&#x7684;&#x3002;&#x8981;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x5173;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;-&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;-&#x3002;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




cumedist
double-precision
cumedist-over--partition-by-expr--order-by-expr-
&#x8BA1;&#x7B97;&#x6570;&#x503C;&#x5728;&#x4E00;&#x4E2A;&#x7EC4;&#x6570;&#x503C;&#x7684;&#x7D2F;&#x79EF;&#x5206;&#x5E03;&#x3002;&#x76F8;&#x540C;&#x503C;&#x7684;&#x8BB0;&#x5F55;&#x6C42;&#x503C;&#x7ED3;&#x679C;&#x603B;&#x4F1A;&#x5F97;&#x5230;&#x76F8;&#x540C;&#x7684;&#x7D2F;&#x79EF;&#x5206;&#x5E03;&#x503C;&#x3002;


denserank
bigint
denserank-over--partition-by-expr--order-by-expr
&#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7EC4;&#x4E2D;&#xFF0C;&#x8BB0;&#x5F55;&#x7684;&#x6392;&#x540D;&#xFF0C;&#x6392;&#x540D;&#x503C;&#x8FDE;&#x7EED;&#x5206;&#x914D;&#x3002;&#x8BB0;&#x5F55;-&#x503C;&#x76F8;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5206;&#x914D;&#x76F8;&#x540C;&#x7684;&#x6392;&#x540D;&#x3002;


firstvalueexpr
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
firstvalue-expr--over--partition-by-expr--order-by-expr-rows-range-frameexpr--
&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7684;&#x503C;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x503C;&#x3002;


lagexpr-offset-default
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;&#x7C7B;&#x578B;&#x76F8;&#x540C;
lag-expr--offset---default--over--partition-by-expr--order-by-expr-
&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x4E0D;&#x4F7F;&#x7528;&#x81EA;&#x8FDE;&#x63A5;&#x8BBF;&#x95EE;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x591A;&#x884C;&#x8BB0;&#x5F55;&#x3002;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;-&#x65F6;&#x6BCF;&#x4E2A;&#x8BB0;&#x5F55;&#x6709;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x4F4D;&#x7F6E;&#xFF0C;lag-&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x4ECE;&#x5F53;&#x524D;&#x7269;&#x7406;&#x4F4D;-&#x7F6E;&#x5411;&#x524D;-offset-&#x7684;&#x8BB0;&#x5F55;&#x3002;offset-&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;-1-&#x3002;-default-&#x503C;&#x4F1A;&#x5728;-offset-&#x503C;&#x8D85;&#x51FA;&#x7A97;&#x53E3;&#x8303;&#x56F4;&#x540E;&#x88AB;&#x8FD4;&#x56DE;&#x3002;-&#x5982;&#x679C;-default-&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;-null&#x3002;


lastvalueexpr
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
lastvalueexpr-over--partition-by-expr-order-by-expr-rows-range-frameexpr-
&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7684;&#x503C;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x503C;&#x3002;


leadexpr-offset-default
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
leadexpr-offset-default-over--partition-by-expr-order-by-expr-
&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x4E0D;&#x4F7F;&#x7528;&#x81EA;&#x8FDE;&#x63A5;&#x8BBF;&#x95EE;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x591A;&#x884C;&#x8BB0;&#x5F55;&#x3002;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;-&#x65F6;&#x6BCF;&#x4E2A;&#x8BB0;&#x5F55;&#x6709;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x4F4D;&#x7F6E;&#xFF0C;lag-&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x4ECE;&#x5F53;&#x524D;&#x7269;&#x7406;&#x4F4D;-&#x7F6E;&#x5411;&#x540E;-offset-&#x7684;&#x8BB0;&#x5F55;&#x3002;offset-&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;-1-&#x3002;-default-&#x503C;&#x4F1A;&#x5728;-offset-&#x503C;&#x8D85;&#x51FA;&#x7A97;&#x53E3;&#x8303;&#x56F4;&#x540E;&#x88AB;&#x8FD4;&#x56DE;&#x3002;-&#x5982;&#x679C;-default-&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;-null&#x3002;


ntileexpr
bigint
ntileexpr-over--partition-by-expr-order-by-expr-
&#x5C06;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x6570;&#x636E;&#x96C6;&#x5212;&#x5206;&#x5230;&#x591A;&#x4E2A;&#x6876;&#xFF08;buckets&#xFF09;&#x4E2D;&#xFF0C;&#x6876;&#x7684;&#x6570;&#x91CF;-&#x7531;&#x53C2;&#x6570;&#x51B3;&#x5B9A;&#xFF0C;&#x5E76;&#x4E3A;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x6876;&#x7F16;&#x53F7;&#x3002;


percentrank
double-precision
percentrank--over--partition-by-expr-order-by-expr-
&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x516C;&#x5F0F;&#x8BA1;&#x7B97;&#x6392;&#x540D;&#xFF1A;&#x8BB0;&#x5F55;&#x6392;&#x540D;---1-&#x9664;&#x4EE5;&#x603B;&#x6392;&#x540D;&#x8BB0;&#x5F55;-&#x6570;---1-&#x3002;


rank
bigint
rank--over--partition-by-expr-order-by-expr-
&#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7EC4;&#x4E2D;&#xFF0C;&#x8BB0;&#x5F55;&#x7684;&#x6392;&#x540D;&#x3002;&#x8BB0;&#x5F55;&#x503C;&#x76F8;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;-&#x5206;&#x914D;&#x76F8;&#x540C;&#x7684;&#x6392;&#x540D;&#x3002;&#x5206;&#x914D;&#x5230;&#x76F8;&#x540C;&#x6392;&#x540D;&#x7684;&#x6BCF;&#x7EC4;&#x8BB0;&#x5F55;&#x7684;&#x6570;&#x91CF;&#x5C06;&#x4F1A;-&#x88AB;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x4E0B;&#x4E2A;&#x5206;&#x914D;&#x7684;&#x6392;&#x540D;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6392;&#x540D;&#x7684;&#x5206;&#x914D;&#x53EF;-&#x80FD;&#x4E0D;&#x662F;&#x8FDE;&#x7EED;&#x3002;


rownumber
bigint
rownumber--over--partition-by-expr-order-by-expr-----&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x7F16;&#x53F7;&#x3002;&#xFF08;&#x53EF;&#x4EE5;&#x662F;&#x6574;&#x4E2A;&#x67E5;&#x8BE2;&#x7684;-&#x7ED3;&#x679C;&#x8BB0;&#x5F55;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#xFF09;&#x3002;




&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x5185;&#x7F6E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x662F;-hashdata-database-&#x5BF9;-postgresql-&#x7684;&#x6269;&#x5C55;&#x3002;-&#x5206;&#x6790;&#x51FD;&#x6570;&#x662F;-immutable-&#x3002;
&#x8868;4-&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




matrixadd-array-array
smallint-int-bigint-float
matrixaddarray1122-array3456
&#x5C06;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x76F8;&#x52A0;&#x3002;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x5FC5;&#x987B;&#x4E00;&#x81F4;&#x3002;


matrixmultiply-array-array
smallintint-bigint-float
matrixmultiply-array200020002-array303030003
&#x5C06;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x76F8;&#x4E58;&#x3002;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x5FC5;&#x987B;&#x4E00;&#x81F4;&#x3002;


matrixmultiply-array-expr
int-float
matrixmultiplyarray111-222-333-2
&#x5C06;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x4E0E;&#x4E00;&#x4E2A;&#x6807;&#x91CF;&#x6570;&#x503C;&#x76F8;&#x4E58;&#x3002;


matrixtranspose-array
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
matrixtransposearray-111-222
&#x5C06;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x8F6C;&#x7F6E;&#x3002;


pinvarray-
smallintint-bigint-float
pinvarray2500-010005
&#x8BA1;&#x7B97;&#x77E9;&#x9635;&#x7684;-moore-penrose-pseudoinverse-&#x3002;


unnestarray
set-of-anyelement
unnestarrayone-row-per-item
&#x5C06;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x8F6C;&#x5316;&#x4E3A;&#x591A;&#x884C;&#x3002;&#x8FD4;&#x56DE;-anyelement-&#x7684;&#x96C6;&#x5408;&#x3002;&#x8BE5;&#x7C7B;&#x578B;&#x662F;-postgresql-&#x4E2D;&#x7684;&#x591A;&#x6001;&#x4F2A;&#x7C7B;&#x578B;&#x3002;



-&#x8868;5-&#x9AD8;&#x7EA7;&#x805A;&#x5408;&#x51FD;&#x6570;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




median-expr
timestamp-timestampz-interval-float
median-expression-exampleselect-departmentid-mediansalary-from-employees-group-by-departmentid
&#x8BA1;&#x7B97;&#x4E2D;&#x4F4D;&#x6570;&#x3002;


percentilecont-expr-within-group-order-by-expr-descasc
timestamp-timestampz-interval-float
percentilecontpercentage-within-group-order-by-expression-exampleselect-departmentidpercentilecont-05-within-group-order-by-salary-desc-mediancont-from-employees-group-by-departmentid
&#x5728;&#x8FDE;&#x7EED;&#x5206;&#x5E03;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x8FD0;&#x7B97;&#x3002;&#x51FD;&#x6570;&#x8F93;&#x5165;-&#x4E00;&#x4E2A;&#x5206;&#x4F4D;&#x6BD4;&#x4F8B;&#x548C;&#x6392;&#x5E8F;&#x4FE1;&#x606F;&#xFF0C;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x662F;&#x8BA1;&#x7B97;&#x6570;&#x636E;&#x7684;&#x7C7B;-&#x578B;&#x3002;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x8FDB;&#x884C;&#x7EBF;&#x6027;&#x63D2;&#x503C;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x3002;-&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D;-null-&#x503C;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;


percentiledisc-expr-within-group-order-by-expr-descasc
timestamp-timestampz-interval-float
percentilediscpercentage-within-group-order-by-expression-exampleselect-departmentidpercentiledisc-05-within-group-order-by-salary-desc-mediancont-from-employees-group-by-departmentid
&#x5728;&#x8FDE;&#x7EED;&#x5206;&#x5E03;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x8FD0;&#x7B97;&#x3002;&#x51FD;&#x6570;&#x8F93;&#x5165;-&#x4E00;&#x4E2A;&#x5206;&#x4F4D;&#x6BD4;&#x4F8B;&#x548C;&#x6392;&#x5E8F;&#x4FE1;&#x606F;&#x3002;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x8F93;&#x5165;&#x96C6;&#x5408;&#x4E2D;-&#x7684;&#x503C;&#x3002;&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D;-null-&#x503C;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;


sumarray
smallint-int-bigint-float
sumarray1234-example-create-table-mymatrix-myvalue-int-insert-into-mymatrix-values--array1234-insert-into-mymatrix-values--array0110-select--summyvalue-from-mymatrix
&#x6267;&#x884C;&#x77E9;&#x9635;&#x52A0;&#x6CD5;&#x8FD0;&#x7B97;&#x3002;&#x5C06;&#x8F93;&#x5165;&#x7684;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;&#x5F53;&#x4F5C;&#x77E9;&#x9635;&#x5904;&#x7406;&#x3002;


pivotsum-label-label-expr
int-bigint-float
pivotsum-arraya1a2-attr-value
&#x900F;&#x89C6;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x901A;&#x8FC7;&#x805A;&#x5408;&#x6C42;&#x6765;&#x6D88;&#x9664;&#x91CD;&#x590D;&#x9879;&#x3002;


mregrcoef-expr-array
float
mregrcoefy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrcoef-&#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7CFB;&#x6570;&#x3002;-mregrcoef-&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x5305;&#x542B;&#x6BCF;&#x4E2A;&#x81EA;&#x53D8;&#x91CF;&#x7684;&#x56DE;&#x5F52;&#x7CFB;&#x6570;&#xFF0C;-&#x56E0;&#x6B64;&#x5927;&#x5C0F;&#x4E0E;&#x8F93;&#x5165;&#x7684;&#x81EA;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#x5927;&#x5C0F;&#x76F8;&#x7B49;&#x3002;


mregrr2-expr-array
float
mregrr2y-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrr2-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-r-&#x5E73;&#x65B9;&#x503C;&#x3002;


mregrpvalues-expr-array
float
mregrpvaluesy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrpvalues-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-p-&#x503C;&#x3002;


mregrtstats-expr-array
float
mregrtstatsy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrtstats-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-t-&#x7EDF;&#x8BA1;&#x91CF;&#x503C;&#x3002;


nbclassify-text-bigint-bigint-biggint
text
nbclassifyclasses-attrcount-classcount-classtotal
&#x4F7F;&#x7528;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x5668;&#x5BF9;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x3002;&#x6B64;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;-&#x7528;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x57FA;&#x7EBF;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x9884;&#x6D4B;&#xFF0C;&#x8FD4;&#x56DE;-&#x8BE5;&#x8BB0;&#x5F55;&#x6700;&#x6709;&#x53EF;&#x80FD;&#x51FA;&#x7EBF;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x3002;


nbprobabilities-text-bigint-bigint-biggint
text
nbprobabilitiesclasses-attrcount-classcount-classtotal
&#x4F7F;&#x7528;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x5668;&#x8BA1;&#x7B97;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x3002;&#x6B64;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x57FA;&#x7EBF;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x9884;&#x6D4B;&#xFF0C;&#x8FD4;&#x56DE;&#x8BE5;&#x8BB0;&#x5F55;&#x51FA;&#x73B0;&#x5728;&#x5404;&#x4E2A;&#x5206;&#x7C7B;&#x4E2D;&#x7684;&#x6982;&#x7387;&#x3002;



&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x793A;&#x4F8B;
&#x672C;&#x7AE0;&#x8282;&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5728;&#x7B80;&#x5316;&#x7684;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x4E0A;&#x5E94;&#x7528;&#x4E0A;&#x9762;&#x90E8;&#x5206;&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x7684;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#x3002;-&#x793A;&#x4F8B;&#x5305;&#x62EC;&#xFF1A;&#x591A;&#x5143;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x548C;&#x4F7F;&#x7528;-nbclassify-&#x7684;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x3002;
&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x793A;&#x4F8B;
&#x4E0B;&#x9762;&#x793A;&#x4F8B;&#x4F7F;&#x7528;&#x56DB;&#x4E2A;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF1A;mregrcoef&#xFF0C;mregrr2&#xFF0C;mregrpvalues-&#x548C;-mregrtstats-&#x5728;&#x793A;&#x4F8B;&#x8868;-regrexample-&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x3002;-&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x56E0;&#x53D8;&#x91CF;&#xFF08;dependent-variable&#xFF09;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x81EA;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#xFF08;independent-variable&#xFF09;&#x3002;
select-mregrcoefy-array1-x1-x2
-------mregrr2y-array1-x1-x2
-------mregrpvaluesy-array1-x1-x2
-------mregrtstatsy-array1-x1-x2
from-regrexample
&#x8868;-regrexample-&#x4E2D;&#x7684;&#x6570;&#x636E;
-id--y---x1--x2
----------------
--1---5---2---1
--2--10---4---2
--3---6---3---1
--4---8---3---1
&#x5728;&#x8868;&#x4E0A;&#x8FD0;&#x884C;&#x524D;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x884C;&#x6570;&#x636E;&#xFF0C;&#x5305;&#x542B;&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x503C;&#xFF1A;
mregrcoef

-7105427357601e-152000000000000030999999999999943
mregrr2

086440677966103
mregrpvalues

099999999999999904543710516569920783653104061216
mregrtstats

-224693341988919e-15115470053837932035355339059327
&#x5982;&#x679C;&#x4E0A;&#x9762;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x672A;&#x5B9A;&#x4E49;&#xFF0C;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;-nan&#xFF08;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x503C;&#xFF09;&#x3002;&#x5F53;&#x6570;&#x636E;&#x91CF;&#x592A;&#x5C11;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x9047;&#x5230;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;

&#x6CE8;&#x610F;-&#x5982;&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x6240;&#x793A;&#xFF0C;&#x53D8;&#x91CF;&#x53C2;&#x6570;&#x4F30;&#x8BA1;&#x503C;&#xFF08;intercept&#xFF09;&#x662F;&#x901A;&#x8FC7;&#x5C06;&#x4E00;&#x4E2A;&#x81EA;&#x53D8;&#x91CF;&#x8BBE;&#x7F6E;&#x4E3A;-1-&#x8BA1;&#x7B97;&#x5F97;&#x5230;&#x7684;&#x3002;

&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;
&#x4F7F;&#x7528;-nbclassify-&#x548C;-nbprobabilities-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6D89;&#x53CA;&#x5230;&#x56DB;&#x6B65;&#x7684;&#x5206;&#x7C7B;&#x8FC7;&#x7A0B;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x4E3A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x7684;&#x8868;&#x548C;&#x89C6;&#x56FE;&#x3002;-&#x4E0B;&#x9762;&#x7684;&#x4E24;&#x4E2A;&#x793A;&#x4F8B;&#x5C55;&#x793A;&#x4E86;&#x8FD9;&#x56DB;&#x4E2A;&#x6B65;&#x9AA4;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x968F;&#x610F;&#x6784;&#x9020;&#x7684;&#x6570;&#x636E;&#x96C6;&#x4E0A;&#x5C55;&#x793A;&#x3002;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;-hashdata-database-&#x6839;&#x636E;&#x5929;&#x6C14;&#x6761;&#x4EF6;&#x4F7F;&#x7528;&#x975E;&#x5E38;&#x53D7;&#x6B22;&#x8FCE;&#x7684;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x793A;&#x4F8B;&#x3002;
&#x603B;&#x89C8;
&#x4E0B;&#x9762;&#x5411;&#x4F60;&#x4ECB;&#x7ECD;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x503C;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x5217;&#x540D;&#xFF09;&#x5C06;&#x4F1A;&#x505A;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x4F7F;&#x7528;&#xFF1A;

&#x5C06;&#x6570;&#x636E;&#x9006;&#x900F;&#x89C6;&#xFF08;unpivot&#xFF09;

&#x5982;&#x679C;&#x6570;&#x636E;&#x662F;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x6240;&#x6709;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x9006;&#x900F;&#x89C6;&#xFF0C;&#x8FDE;&#x540C;&#x6807;&#x8BC6;&#x5B57;&#x6BB5;&#x548C;&#x5206;&#x7C7B;&#x5B57;&#x6BB5;&#x521B;&#x5EFA;&#x89C6;&#x56FE;&#x3002;-&#x5982;&#x679C;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x662F;&#x975E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#xFF0C;&#x8BF7;&#x8DF3;&#x8FC7;&#x6B64;&#x6B65;&#x3002;

&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;

&#x8BAD;&#x7EC3;&#x8868;&#x5C06;&#x6570;&#x636E;&#x89C6;&#x56FE;&#x53D8;&#x5316;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x3002;

&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;

&#x4F7F;&#x7528;-nbclassify&#xFF0C;nbprobabilities-&#x6216;&#x5C06;-nbclassify-&#x548C;-nbprobabilities-&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;
&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;1---&#x5C0F;&#x89C4;&#x6A21;&#x6570;&#x636E;
&#x4F8B;&#x5B50;&#x5C06;&#x4ECE;&#x5305;&#x542B;&#x8303;&#x5F0F;&#x5316;&#x6570;&#x636E;&#x7684;&#x793A;&#x4F8B;&#x8868;-classexample-&#x5F00;&#x59CB;&#xFF0C;&#x901A;&#x8FC7;&#x56DB;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x6B65;&#x9AA4;&#x5B8C;&#x6210;&#xFF1A;
&#x8868;-classexample-&#x4E2D;&#x7684;&#x6570;&#x636E;
-id--class--a1--a2--a3
-----------------------
--1--c1------1---2---3
--2--c1------1---4---3
--3--c2------0---2---2
--4--c1------1---2---1
--5--c2------1---2---2
--6--c2------0---1---3
&#x5C06;&#x6570;&#x636E;&#x9006;&#x900F;&#x89C6;&#xFF08;unpivot&#xFF09;
&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x7528;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x9700;&#x8981;&#x5BF9;-classexample-&#x4E2D;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x9006;&#x900F;&#x89C6;&#x64CD;&#x4F5C;&#x3002;
&#x5728;&#x4E0B;&#x9762;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x7684;&#x9879;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A;&#x65B0;&#x589E;&#x7684;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x7684;&#x503C;&#x4F7F;&#x7528;&#x3002;&#x4E60;&#x60EF;&#x4E0A;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4E0E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x8868;&#x5217;&#x540D;&#x76F8;&#x540C;&#x3002;-&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x66F4;&#x5BB9;&#x6613;&#x7684;&#x4ECE;&#x547D;&#x4EE4;&#x4E2D;&#x627E;&#x5230;&#x8FD9;&#x4E9B;&#x503C;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4EE5;&#x5927;&#x5199;&#x65B9;&#x5F0F;&#x4E66;&#x5199;&#x3002;
create-view-classexampleunpivot-as
select-id-class
--unnestarraya1-a2-a3-as-attr
--unnestarraya1a2a3-as-value
from-classexample
&#x4F7F;&#x7528;&#x540E;&#x9762;&#x7684;-sql-&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x975E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x6570;&#x636E;-select--from-classexampleunpivot&#xFF1A;
-id--class--attr--value
------------------------
--2--c1-----a1--------1
--2--c1-----a2--------2
--2--c1-----a3--------1
--4--c2-----a1--------1
--4--c2-----a2--------2
--4--c2-----a3--------2
--6--c2-----a1--------0
--6--c2-----a2--------1
--6--c2-----a3--------3
--1--c1-----a1--------1
--1--c1-----a2--------2
--1--c1-----a3--------3
--3--c1-----a1--------1
--3--c1-----a2--------4
--3--c1-----a3--------3
--5--c2-----a1--------0
--5--c2-----a2--------2
--5--c2-----a3--------2
18-rows
&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;
&#x4E0B;&#x9762;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x7684;&#x9879;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x805A;&#x5408;&#x7684;&#x9879;&#x3002;&#x901A;&#x8FC7;&#x6570;&#x7EC4;&#x5F62;&#x5F0F;&#x4F20;&#x9012;&#x7ED9;-pivtosum-&#x51FD;&#x6570;&#x7684;&#x9879;&#x5FC5;&#x987B;&#x548C;&#x539F;&#x59CB;&#x6570;&#x636E;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x548C;&#x6570;&#x91CF;&#x76F8;&#x7B26;&#x3002;-&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x5206;&#x7C7B;&#x4E3A;-c1-&#x548C;-c2&#xFF1A;
create-table-classexamplenbtraining-as
select-attr-value
--pivotsumarrayc1-c2-class-1-as-classcount
from---classexampleunpivot
group-by-attr-value
distributed-by-attr
&#x4E0B;&#x9762;&#x662F;&#x8BAD;&#x7EC3;&#x8868;&#x7684;&#x7ED3;&#x679C;&#xFF1A;
-attr--value--classcount
--------------------------
-a3--------1--10
-a3--------3--21
-a1--------1--31
-a1--------0--02
-a3--------2--02
-a2--------2--22
-a2--------4--10
-a2--------1--01
8-rows
&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;
create-view-classexamplenbclassifyfunctions-as
select-attr-value-classcount
--arrayc1-c2-as-classes
--sumclasscount-over-wainteger-as-classtotal
--countdistinct-value-over-wa-as-attrcount
from-classexamplenbtraining
window-wa-as-partition-by-attr
&#x4E0B;&#x9762;&#x662F;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x7684;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#xFF1A;
-attr-value--classcount-classes--classtotal-attrcount
-------------------------------------------------------
-a2-------2--22-------c1c2--33----------------3
-a2-------4--10-------c1c2--33----------------3
-a2-------1--01-------c1c2--33----------------3
-a1-------0--02-------c1c2--33----------------2
-a1-------1--31-------c1c2--33----------------2
-a3-------2--02-------c1c2--33----------------3
-a3-------3--21-------c1c2--33----------------3
-a3-------1--10-------c1c2--33----------------3
8-rows
&#x4F7F;&#x7528;-nbclassify-&#x5BF9;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x4EE5;&#x53CA;&#x4F7F;&#x7528;-nbprobabilities-&#x663E;&#x793A;&#x5F52;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;
&#x5728;&#x51C6;&#x5907;&#x597D;&#x6458;&#x8981;&#x89C6;&#x56FE;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x4E3A;&#x5BF9;&#x65B0;&#x8BB0;&#x5F55;&#x5206;&#x7C7B;&#x7684;&#x57FA;&#x7EBF;&#x4E86;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x901A;&#x8FC7;-nbclassify-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6765;&#x9884;&#x6D4B;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5C5E;&#x4E8E;-c1-&#x8FD8;&#x662F;-c2&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
from-classexamplenbclassifyfunctions
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E0B;&#x9762;&#x7B26;&#x5408;&#x671F;&#x671B;&#x7684;&#x5355;&#x884C;&#x7ED3;&#x679C;&#xFF1A;
class
-------
c2
1-row
&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-nbprobabilities-&#x663E;&#x793A;&#x5404;&#x4E2A;&#x5217;&#x522B;&#x7684;&#x6982;&#x7387;&#x3002;&#x5728;&#x51C6;&#x5907;&#x597D;&#x89C6;&#x56FE;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x4E3A;&#x5BF9;&#x65B0;&#x8BB0;&#x5F55;&#x5206;&#x7C7B;&#x7684;&#x57FA;&#x7EBF;&#x4E86;&#x3002;-&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x901A;&#x8FC7;-nbprobabilities-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6765;&#x9884;&#x6D4B;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5C5E;&#x4E8E;-c1-&#x8FD8;&#x662F;-c2&#x3002;
select-nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-classexamplenbclassifyfunctions
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x60C5;&#x51B5;&#xFF0C;&#x7B2C;&#x4E00;&#x503C;&#x662F;-c1-&#x7684;&#x6982;&#x7387;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x503C;&#x662F;-c2-&#x7684;&#x6982;&#x7387;&#xFF1A;
probability
-------------
-0406
1-row
&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x540C;&#x65F6;&#x663E;&#x793A;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x548C;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-classexamplenbclassify
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x5982;&#x4E0B;&#x7ED3;&#x679C;&#xFF1A;
-class--probability
--------------------
----c2--0406
-1-row
&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x76F8;&#x6BD4;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x66F4;&#x52A0;&#x5168;&#x9762;&#xFF0C;&#x56E0;&#x6B64;&#x9884;&#x6D4B;&#x6548;&#x679C;&#x66F4;&#x597D;&#x3002;-&#x5F53;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;-nbclassify-&#x548C;-nbprobabilities-&#x7684;&#x5F52;&#x7C7B;&#x51C6;&#x786E;&#x5EA6;&#x5C06;&#x4F1A;&#x663E;&#x8457;&#x63D0;&#x9AD8;&#x3002;
&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;2-&#x2013;-&#x5929;&#x6C14;&#x548C;&#x6237;&#x5916;&#x8FD0;&#x52A8;
&#x5728;&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x5C06;&#x4F1A;&#x6839;&#x636E;&#x5929;&#x60C5;&#x51B5;&#x6765;&#x8BA1;&#x7B97;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x9AD8;&#x5C14;&#x592B;&#x7403;&#x6216;&#x8005;&#x7F51;&#x7403;&#x3002;-&#x8868;-weatherexample-&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E9B;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x3002;&#x8868;&#x7684;&#x6807;&#x793A;&#x5B57;&#x6BB5;&#x662F;-day&#x3002;-&#x7528;&#x4E8E;&#x5206;&#x7C7B;&#x7684;&#x5B57;&#x6BB5;-play-&#x5305;&#x542B;&#x4E24;&#x4E2A;&#x503C;&#xFF1A;yes-&#x6216;-no&#x3002;&#x5929;&#x6C14;&#x5305;&#x542B;&#x56DB;&#x79CD;&#x5C5E;&#x6027;&#xFF1A;&#x72B6;&#x51B5;&#xFF0C;&#x6E29;&#x5EA6;&#xFF0C;&#x6E7F;&#x5EA6;&#xFF0C;&#x98CE;&#x529B;&#x3002;-&#x6570;&#x636E;&#x6309;&#x7167;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x3002;
-day--play--outlook---temperature--humidity--wind
----------------------------------------------------
-2----no----sunny-----hot----------high------strong
-4----yes---rain------mild---------high------weak
-6----no----rain------cool---------normal----strong
-8----no----sunny-----mild---------high------weak
10----yes---rain------mild---------normal----weak
12----yes---overcast--mild---------high------strong
14----no----rain------mild---------high------strong
-1----no----sunny-----hot----------high------weak
-3----yes---overcast--hot----------high------weak
-5----yes---rain------cool---------normal----weak
-7----yes---overcast--cool---------normal----strong
-9----yes---sunny-----cool---------normal----weak
11----yes---sunny-----mild---------normal----strong
13----yes---overcast--hot----------normal----weak
-14-rows
&#x7531;&#x4E8E;&#x8FD9;&#x91CC;&#x7684;&#x6570;&#x636E;&#x662F;&#x6309;&#x7167;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x56DB;&#x4E2A;&#x6B65;&#x9AA4;&#x90FD;&#x662F;&#x9700;&#x8981;&#x7684;&#x3002;
&#x9006;&#x900F;&#x89C6;&#x5316;&#x6570;&#x636E;
create-view-weatherexampleunpivot-as
select-day-play
--unnestarrayoutlooktemperature-humiditywind-as-attr
--unnestarrayoutlooktemperaturehumiditywind-as-value
from-weatherexample
&#x8BF7;&#x6CE8;&#x610F;&#x4E0A;&#x9762;&#x5355;&#x5F15;&#x53F7;&#x7684;&#x4F7F;&#x7528;&#x3002;
&#x8BED;&#x53E5;-select--from-weatherexampleunpivot-&#x5C06;&#x4F1A;&#x663E;&#x793A;&#x7ECF;&#x8FC7;&#x9006;&#x900F;&#x89C6;&#x5316;&#x540E;&#x7684;&#x975E;&#x8303;&#x5F0F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6570;&#x636E;&#x4E00;&#x5171;-56-&#x884C;&#x3002;
-day--play--attr---------value
----------------------------------
---2--no----outlook------sunny
---2--no----temperature--hot
---2--no----humidity-----high
---2--no----wind---------strong
---4--yes---outlook------rain
---4--yes---temperature--mild
---4--yes---humidity-----high
---4--yes---wind---------weak
---6--no----outlook------rain
---6--no----temperature--cool
---6--no----humidity-----normal
---6--no----wind---------strong
---8--no----outlook------sunny
---8--no----temperature--mild
---8--no----humidity-----high
---8--no----wind---------weak
--10--yes---outlook------rain
--10--yes---temperature--mild
--10--yes---humidity-----normal
--10--yes---wind---------weak
--12--yes---outlook------overcast
--12--yes---temperature--mild
--12--yes---humidity-----high
--12--yes---wind---------strong
--14--no----outlook------rain
--14--no----temperature--mild
--14--no----humidity-----high
--14--no----wind---------strong
---1--no----outlook------sunny
---1--no----temperature--hot
---1--no----humidity-----high
---1--no----wind---------weak
---3--yes---outlook------overcast
---3--yes---temperature--hot
---3--yes---humidity-----high
---3--yes---wind---------weak
---5--yes---outlook------rain
---5--yes---temperature--cool
---5--yes---humidity-----normal
---5--yes---wind---------weak
---7--yes---outlook------overcast
---7--yes---temperature--cool
---7--yes---humidity-----normal
---7--yes---wind---------strong
---9--yes---outlook------sunny
---9--yes---temperature--cool
---9--yes---humidity-----normal
---9--yes---wind---------weak
--11--yes---outlook------sunny
--11--yes---temperature--mild
--11--yes---humidity-----normal
--11--yes---wind---------strong
--13--yes---outlook------overcast
--13--yes---temperature--hot
--13--yes---humidity-----normal
--13--yes---wind---------weak
--56-rows
&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;
create-table-weatherexamplenbtraining-as
select-attr-value-pivotsumarrayyesno-play-1-as-classcount
from-weatherexampleunpivot
group-by-attr-value
distributed-by-attr
&#x8BED;&#x53E5;-select--from-weatherexamplenbtraining-&#x663E;&#x793A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x4E00;&#x5171;-10-&#x884C;&#xFF1A;
-attr---------value-----classcount
------------------------------------
outlook-------rain------32
humidity------high------34
outlook-------overcast--40
humidity------normal----61
outlook-------sunny-----23
wind----------strong----33
temperature---hot-------22
temperature---cool------31
temperature---mild------42
wind----------weak------62
10-rows
&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;
create-view-weatherexamplenbclassifyfunctions-as
select-attr-value-classcount
--arrayyesno-as-classes
--sumclasscount-over-wainteger-as-classtotal
--countdistinct-value-over-wa-as-attrcount
from-weatherexamplenbtraining
window-wa-as-partition-by-attr
&#x8BED;&#x53E5;-select--from-weatherexamplenbclassifyfunction-&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;-10-&#x884C;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x3002;
attr----------value---classcount-classes--classtotal-attrcount
-----------------------------------------------------------------
temperature--mild-----42-------yesno-95---------------3
temperature--cool-----31-------yesno-95---------------3
temperature--hot------22-------yesno-95---------------3
wind---------weak-----62-------yesno-95---------------2
wind---------strong---33-------yesno-95---------------2
humidity-----high-----34-------yesno-95---------------2
humidity-----normal---61-------yesno-95---------------2
outlook------sunny----23-------yesno-95---------------3
outlook------overcast-40-------yesno-95---------------3
outlook------rain-----32-------yesno-95---------------3
10-rows
&#x4F7F;&#x7528;-nbclassify&#xFF0C;nbprobabilities-&#x6216;&#x5C06;-nbclassify-&#x548C;-nbprobabilities-&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;
&#x9996;&#x5148;&#x8981;&#x51B3;&#x5B9A;&#x5BF9;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x4F8B;&#x5982;&#x5BF9;&#x4E0B;&#x9762;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;
temperature--wind--humidity--outlook
-------------------------------------
cool---------weak--high------overcast
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x3002;&#x7ED3;&#x679C;&#x5C06;&#x4F1A;&#x7ED9;&#x51FA;&#x5224;&#x65AD;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;-yes-&#x548C;-no-&#x7684;&#x6982;&#x7387;&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-weatherexamplenbclassifyfunctions
where
--attr--temperature-and-value--cool-or
--attr--wind--------and-value--weak-or
--attr--humidity----and-value--high-or
--attr--outlook-----and-value--overcast
&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF1A;
class----------------probability
----------------------------------------------
-yes----08581033539207260141896646079274
1-row
&#x8981;&#x5BF9;&#x4E00;&#x7EC4;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x4ED6;&#x4EEC;&#x5B58;&#x50A8;&#x5230;&#x8868;&#x4E2D;&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x4F8B;&#x5982;&#x4E0B;&#x9762;&#x7684;&#x8868;-t1-&#x5305;&#x542B;&#x4E86;&#x8981;&#x5206;&#x7C7B;&#x7684;&#x8BB0;&#x5F55;&#xFF1A;
-day--outlook---temperature--humidity---wind
----------------------------------------------
--15--sunny-----mild---------high------strong
--16--rain------cool---------normal----strong
--17--overcast--hot----------normal----weak
--18--rain------hot----------high------weak
4-rows
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7528;&#x6765;&#x5BF9;&#x6574;&#x5F20;&#x8868;&#x8BA1;&#x7B97;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x3002;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x5BF9;&#x8868;&#x4E2D;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x5224;&#x65AD;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;-yes-&#x548C;-no-&#x7684;&#x6982;&#x7387;&#x3002;-&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;-nbclassify-&#x548C;-nbprobabilities-&#x4E24;&#x4E2A;&#x805A;&#x5408;&#x51FD;&#x6570;&#x90FD;&#x53C2;&#x4E0E;&#x4E86;&#x8FD0;&#x7B97;&#x3002;
select-t1day
-------t1temperature-t1wind-t1humidity-t1outlook
-------nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-t1-weatherexamplenbclassifyfunctions
where
--attr--temperature-and-value--t1temperature-or
--attr--wind--------and-value--t1wind-or
--attr--humidity----and-value--t1humidity-or
--attr--outlook-----and-value--t1outlook
group-by-t1day-t1temperature-t1wind-t1humidity-t1outlook
&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x56DB;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x5206;&#x522B;&#x5BF9;&#x5E94;-t1-&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x3002;
day-temp-wind----humidity--outlook---class--probability
---------------------------------------------------------
15--mild-strong--high------sunny-----no-----02446941323345820755305867665418
16--cool-strong--normal----rain------yes----07514719978091190248528002190881
18--hot--weak----high------rain------no-----04463875388901310553612461109869
17--hot--weak----normal----overcast--yes----0929719264278800702807357212004
4-rows
"><h5 id="pic1"> &#x56FE;1&#xFF1A;&#x5206;&#x53D1;&#x5E76;&#x884C;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;</h5>
<p>&#x4E00;&#x4E9B;&#x67E5;&#x8BE2;&#x53EF;&#x80FD;&#x53EA;&#x8BBF;&#x95EE;&#x7279;&#x5B9A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x5355;&#x884C;&#x63D2;&#x5165;&#xFF0C;&#x66F4;&#x65B0;&#xFF0C;&#x5220;&#x9664;&#x6216;&#x8005;&#x662F;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#x53EA;&#x6D89;&#x53CA;&#x8868;&#x4E2D;&#x7279;&#x5B9A;&#x6570;&#x636E; &#xFF08;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6;&#x6B63;&#x597D;&#x662F;&#x8868;&#x7684;&#x6570;&#x636E;&#x5206;&#x5E03;&#x952E;&#x503C;&#xFF09;&#x3002;&#x5BF9;&#x4E8E;&#x4E0A;&#x8FF0;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x4E0D;&#x4F1A;&#x53D1;&#x9001;&#x7ED9;&#x6240;&#x6709;&#x7684;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#xFF0C; &#x800C;&#x662F;&#x5C06;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x53D1;&#x9001;&#x7ED9;&#x8BE5;&#x67E5;&#x8BE2;&#x5F71;&#x54CD;&#x7684;&#x8282;&#x70B9;&#x3002;</p>
<p><img src="assets/figure-2-dispatching-targeted-query-plan.jpg" alt=""></p>
<h5 id="&#x56FE;2&#xFF1A;&#x5206;&#x53D1;&#x7279;&#x5B9A;&#x8282;&#x70B9;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;
&#x7406;&#x89E3;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;
&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5C31;&#x662F;-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E3A;&#x4E86;&#x8BA1;&#x7B97;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x64CD;&#x4F5C;&#x7684;&#x6B65;&#x9AA4;&#x3002;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x6B65;&#x9AA4;&#xFF08;&#x8282;&#x70B9;&#xFF09;&#x4EE3;&#x8868;&#x4E86;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x8868;&#x626B;&#x63CF;&#xFF0C;&#x8FDE;&#x63A5;&#x8FD0;&#x7B97;&#xFF0C;&#x805A;&#x5408;&#x8FD0;&#x7B97;&#x6216;&#x8005;&#x6392;&#x5E8F;&#x64CD;&#x4F5C;&#x3002;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x8BFB;&#x53D6;&#x548C;&#x6267;&#x884C;&#x90FD;&#x662F;&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x7684;&#x3002;
&#x9664;&#x4E86;&#x5E38;&#x89C1;&#x7684;&#x64CD;&#x4F5C;&#x5916;&#xFF0C;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x8FD8;&#x652F;&#x6301;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x7684;&#x64CD;&#x4F5C;&#xFF1A;motion-&#x8282;&#x70B9;&#xFF08;&#x79FB;&#x52A8;&#xFF09;&#x3002;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#x5C31;&#x662F;&#x67E5;&#x8BE2;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5728;&#x4E0D;&#x540C;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x76F4;&#x63A5;&#x79FB;&#x52A8;&#x6570;&#x636E;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x9700;&#x8981;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x7684;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x8FD0;&#x884C;&#x5728;&#x7279;&#x5B9A;&#x8282;&#x70B9;&#x7684;&#x67E5;&#x8BE2;&#x662F;&#x4E0D;&#x9700;&#x8981;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x7684;&#x3002;
&#x4E3A;&#x4E86;&#x80FD;&#x8BA9;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x83B7;&#x5F97;&#x6700;&#x5927;&#x7684;&#x5E76;&#x884C;&#x7C92;&#x5EA6;&#xFF0C;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x901A;&#x8FC7;&#x5C06;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x8FDB;&#x884C;&#x5207;&#x7247;&#x6765;&#x8FDB;&#x4E00;&#x6B65;&#x5206;&#x89E3;&#x4EFB;&#x52A1;&#x3002;&#x6BCF;&#x4E2A;&#x5207;&#x7247;&#x90FD;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x4E00;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x72EC;&#x7ACB;&#x6267;&#x884C;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5B50;&#x96C6;&#x3002;&#x5F53;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#x65F6;&#xFF0C;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5C31;&#x662F;&#x88AB;&#x5206;&#x7247;&#x7684;&#x3002;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#x7684;&#x4E0A;&#x4E0B;&#x4E24;&#x90E8;&#x5206;&#x5404;&#x81EA;&#x662F;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x5206;&#x7247;&#x3002;
&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4E24;&#x5F20;&#x8868;&#x8FDE;&#x63A5;&#x7684;&#x8FD0;&#x7B97;&#xFF1A;
select-customer-amount
from-sales-join-customer-using-custid
where-datecol--04-30-2008
&#x56FE;3-&#x5C55;&#x793A;&#x4E86;&#x4E0A;&#x9762;&#x67E5;&#x8BE2;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x3002;&#x6BCF;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x90FD;&#x4F1A;&#x6536;&#x5230;&#x4E00;&#x4EFD;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x62F7;&#x8D1D;&#xFF0C;&#x5E76;&#x4E14;&#x5E76;&#x884C;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;
&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x91CD;&#x5206;&#x5E03;&#x7684;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#xFF0C;&#x8BE5;&#x8282;&#x70B9;&#x7528;&#x6765;&#x5728;&#x4E0D;&#x540C;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x76F4;&#x63A5;&#x79FB;&#x52A8;&#x8BB0;&#x5F55;&#x4F7F;&#x5F97;&#x8FDE;&#x63A5;&#x8FD0;&#x7B97;&#x5F97;&#x610F;&#x5B8C;&#x6210;&#x3002;&#x8FD9;&#x91CC;&#x4E4B;&#x6240;&#x6709;&#x9700;&#x8981;&#x6570;&#x636E;&#x91CD;&#x5206;&#x5E03;&#x7684;&#x8282;&#x70B9;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;-customer-&#x8868;&#xFF08;&#x7528;&#x6237;&#x8868;&#xFF09;&#x7684;&#x6570;&#x636E;&#x5206;&#x5E03;&#x662F;&#x901A;&#x8FC7;-custid-&#x6765;&#x8FDB;&#x884C;&#x7684;&#xFF0C;&#x800C;-sales-&#x8868;&#xFF08;&#x9500;&#x552E;&#x8868;&#xFF09;&#x662F;&#x6839;&#x636E;-saleid-&#x8FDB;&#x884C;&#x7684;&#x3002;&#x4E3A;&#x4E86;&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x64CD;&#x4F5C;&#xFF0C;sales-&#x8868;&#x7684;&#x6570;&#x636E;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x6839;&#x636E;-custid-&#x6765;&#x5206;&#x5E03;&#x3002;&#x56E0;&#x6B64;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5728;&#x6570;&#x636E;&#x91CD;&#x5206;&#x5E03;&#x8282;&#x70B9;&#x4E24;&#x4FA7;&#x88AB;&#x5207;&#x7247;&#xFF0C;&#x5206;&#x522B;&#x662F;-slice-1-&#x548C;-slice-2&#x3002;
&#x8FD9;&#x4E2A;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x8FD8;&#x5305;&#x62EC;&#x4E86;&#x53E6;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#xFF1A;&#x6570;&#x636E;&#x805A;&#x5408;&#x8282;&#x70B9;&#x3002;&#x6570;&#x636E;&#x805A;&#x5408;&#x8282;&#x70B9;&#x662F;&#x4E3A;&#x4E86;&#x8BA9;&#x6240;&#x6709;&#x7684;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x5C06;&#x7ED3;&#x679C;&#x53D1;&#x9001;&#x7ED9;&#x4E3B;&#x8282;&#x70B9;&#xFF0C;&#x6700;&#x540E;&#x4ECE;&#x4E3B;&#x8282;&#x70B9;&#x53D1;&#x9001;&#x7ED9;&#x7528;&#x6237;&#x5F15;&#x5165;&#x7684;&#x3002;&#x7531;&#x4E8E;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x603B;&#x662F;&#x5728;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#x51FA;&#x73B0;&#x65F6;&#x88AB;&#x5207;&#x7247;&#xFF0C;&#x8FD9;&#x4E2A;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x8FD8;&#x5305;&#x62EC;&#x4E86;&#x4E00;&#x4E2A;&#x9690;&#x85CF;&#x7684;&#x5207;&#x7247;&#xFF0C;&#x8BE5;&#x5207;&#x7247;&#x4F4D;&#x4E8E;&#x67E5;&#x8BE2;&#x7684;&#x6700;&#x9876;&#x5C42;&#xFF08;slice3&#xFF09;&#x3002;&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x5305;&#x542B;&#x6570;&#x636E;&#x805A;&#x5408;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;
create-table-x-as
select-
&#x8BED;&#x53E5;&#x4E0D;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x805A;&#x5408;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x6570;&#x636E;&#x5C06;&#x4F1A;&#x79FB;&#x52A8;&#x5230;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x6570;&#x636E;&#x8868;&#x4E2D;&#xFF0C;&#x800C;&#x975E;&#x4E3B;&#x8282;&#x70B9;&#x3002;

-&#x56FE;3&#xFF1A;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5207;&#x7247;
&#x7406;&#x89E3;&#x5E76;&#x884C;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x6267;&#x884C;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5C06;&#x4F1A;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x7A0B;&#x6765;&#x5904;&#x7406;&#x67E5;&#x8BE2;&#x7684;&#x76F8;&#x5173;&#x5DE5;&#x4F5C;&#x3002;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x67E5;&#x8BE2;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x88AB;&#x79F0;&#x4E3A;&#x67E5;&#x8BE2;&#x5206;&#x6D3E;&#x5668;&#xFF08;qd&#xFF09;&#x3002;qd-&#x8D1F;&#x8D23;&#x521B;&#x5EFA;&#x548C;&#x5206;&#x6D3E;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x3002;&#x5B83;&#x540C;&#x65F6;&#x8D1F;&#x8D23;&#x6536;&#x96C6;&#x548C;&#x5C55;&#x793A;&#x6700;&#x7EC8;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x3002;-&#x5728;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x67E5;&#x8BE2;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x88AB;&#x79F0;&#x4F5C;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x5668;&#xFF08;qe&#xFF09;&#x3002;qe-&#x8D1F;&#x8D23;&#x6267;&#x884C;&#x5206;&#x914D;&#x7ED9;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5E76;&#x901A;&#x8FC7;&#x901A;&#x4FE1;&#x6A21;&#x5757;&#x5C06;&#x4E2D;&#x95F4;&#x7ED3;&#x679C;&#x53D1;&#x9001;&#x7ED9;&#x5176;&#x5B83;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x3002;
&#x6BCF;&#x4E2A;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x5207;&#x7247;&#x90FD;&#x81F3;&#x5C11;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x4E0E;&#x4E4B;&#x5BF9;&#x5E94;&#x8D1F;&#x8D23;&#x6267;&#x884C;&#x3002;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x8D4B;&#x4E88;&#x4E0D;&#x4F1A;&#x4E92;&#x76F8;&#x4F9D;&#x8D56;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7247;&#x6BB5;&#x3002;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x90FD;&#x4F1A;&#x6709;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x5E76;&#x884C;&#x5730;&#x53C2;&#x4E0E;&#x67E5;&#x8BE2;&#x7684;&#x5904;&#x7406;&#x5DE5;&#x4F5C;&#x3002;
&#x5728;&#x4E0D;&#x540C;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x4E0A;&#x6267;&#x884C;&#x76F8;&#x540C;&#x5207;&#x7247;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x88AB;&#x79F0;&#x4E3A;&#x8FDB;&#x7A0B;&#x7EC4;&#x3002;&#x968F;&#x7740;&#x4E00;&#x90E8;&#x5206;&#x5DE5;&#x4F5C;&#x7684;&#x5B8C;&#x6210;&#xFF0C;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x5C06;&#x4F1A;&#x4ECE;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7EC4;&#x6D41;&#x5411;&#x5176;&#x5B83;&#x8FDB;&#x7A0B;&#x7EC4;&#x3002;&#x8FD9;&#x79CD;&#x5728;&#x6570;&#x636E;&#x8282;&#x70B9;&#x4E4B;&#x95F4;&#x7684;&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;&#x88AB;&#x79F0;&#x4E3A;&#x4E92;&#x8054;&#x7EC4;&#x4EF6;&#x3002;
&#x56FE;4-&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5BF9;&#x4E8E;-&#x56FE;3-&#x4E2D;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x548C;&#x4E24;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x4E0A;&#x7684;&#x8FDB;&#x7A0B;&#x5206;&#x5E03;&#x60C5;&#x51B5;&#x3002;

-&#x56FE;4&#xFF1A;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;
&#x67E5;&#x8BE2;&#x7684;&#x5B9A;&#x4E49;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x67E5;&#x8BE2;&#x547D;&#x4EE4;&#x662F;&#x57FA;&#x4E8E;-postgresql-&#x5F00;&#x53D1;&#xFF0C;&#x800C;-postgresql-&#x662F;&#x5B9E;&#x73B0;&#x4E86;-sql-&#x6807;&#x51C6;&#x3002;
&#x672C;&#x5C0F;&#x7ED3;&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x5728;-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E2D;&#x7F16;&#x5199;-sql-&#x67E5;&#x8BE2;&#x3002;

sql-&#x8BCD;&#x6CD5;&#x5143;&#x7D20;
sql-&#x503C;&#x8868;&#x8FBE;&#x5F0F;

sql-&#x8BCD;&#x6CD5;&#x5143;&#x7D20;
sql-&#x662F;&#x4E00;&#x79CD;&#x6807;&#x51C6;&#x5316;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8BBF;&#x95EE;&#x8BED;&#x8A00;&#x3002;&#x4E0D;&#x540C;&#x5143;&#x7D20;&#x7EC4;&#x6784;&#x6210;&#x7684;&#x8BED;&#x8A00;&#x5141;&#x8BB8;&#x63A7;&#x5236;&#x6570;&#x636E;&#x5B58;&#x50A8;&#xFF0C;&#x6570;&#x636E;&#x83B7;&#x53D6;&#xFF0C;&#x6570;&#x636E;&#x5206;&#x6790;&#xFF0C;-&#x6570;&#x636E;&#x53D8;&#x6362;&#x548C;&#x6570;&#x636E;&#x4FEE;&#x6539;&#x7B49;&#x3002;&#x4F60;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x4F7F;&#x7528;-sql-&#x547D;&#x4EE4;&#x6765;&#x7F16;&#x5199;-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x7406;&#x89E3;&#x7684;&#x67E5;&#x8BE2;&#x548C;&#x547D;&#x4EE4;&#x3002;sql-&#x67E5;&#x8BE2;&#x7531;&#x4E00;&#x6761;&#x6216;&#x591A;&#x6761;&#x547D;&#x4EE4;&#x987A;&#x5E8F;&#x7EC4;&#x6210;&#x3002;&#x6BCF;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x662F;&#x7531;&#x591A;&#x4E2A;&#x8BCD;&#x6CD5;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x6B63;&#x786E;&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#x6784;&#x6210;&#x7684;&#xFF0C;-&#x6BCF;&#x6761;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x5206;&#x53F7;&#xFF08;&#xFF09;&#x5206;&#x9694;&#x3002;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5728;-postgresql-&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#x4E0A;&#x8FDB;&#x884C;&#x4E86;&#x4E00;&#x4E9B;&#x6269;&#x5C55;&#xFF0C;&#x5E76;&#x6839;&#x636E;&#x5206;&#x5E03;&#x5F0F;&#x73AF;&#x5883;&#x589E;&#x52A0;&#x4E86;&#x90E8;&#x5206;&#x7684;&#x9650;&#x5236;&#x3002;&#x5982;&#x679C;&#x60A8;&#x5E0C;&#x671B;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x5173;&#x4E8E;-postgresql-&#x4E2D;&#x7684;-sql-&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x548C;&#x6982;&#x5FF5;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x53C2;&#x8003;-postgresql82&#x82F1;&#x6587;&#x624B;&#x518C;&#x4E2D;sql&#x8BED;&#x6CD5;&#x7AE0;&#x8282;-&#x6216;&#x8005;-postgresql93&#x4E2D;&#x6587;&#x624B;&#x518C;&#x4E2D;-sql-&#x8BED;&#x6CD5;&#x7AE0;&#x8282;&#x3002;&#x7531;&#x4E8E;&#x4E2D;&#x6587;&#x7F51;&#x7AD9;&#x6CA1;&#x6709;-82-&#x624B;&#x518C;&#xFF0C;&#x8BF7;&#x60A8;&#x6CE8;&#x610F;&#x76F8;&#x5173;&#x8D44;&#x6599;&#x4E2D;&#x7684;&#x8BED;&#x6CD5;&#x53D8;&#x52A8;&#x3002;
sql-&#x503C;&#x8868;&#x8FBE;&#x5F0F;
sql-&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x503C;&#xFF0C;&#x7B26;&#x53F7;&#xFF0C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;sql-&#x51FD;&#x6570;&#x548C;&#x6570;&#x636E;&#x7EC4;&#x6210;&#x3002;&#x8868;&#x8FBE;&#x5F0F;&#x901A;&#x8FC7;&#x6BD4;&#x8F83;&#x6570;&#x636E;&#xFF0C;&#x6267;&#x884C;&#x8BA1;&#x7B97;&#x75C5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x3002;&#x8868;&#x8FBE;&#x5F0F;&#x8BA1;&#x7B97;&#x5305;&#x62EC;&#xFF1A;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#xFF0C;&#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x548C;&#x96C6;&#x5408;&#x8FD0;&#x7B97;&#x3002;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7C7B;&#x522B;&#xFF1A;

&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;
&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x5217;&#x5F15;&#x7528;
&#x5E38;&#x4EAE;&#x6216;&#x5B57;&#x9762;&#x503C;
&#x76F8;&#x5173;&#x81EA;&#x67E5;&#x8BE2;
&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;
&#x51FD;&#x6570;&#x8C03;&#x7528;
insert-&#x6216;-update-&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x4E3A;&#x5217;&#x63D0;&#x4F9B;&#x7684;&#x503C;
&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;
&#x5217;&#x5F15;&#x7528;
&#x5728;&#x51FD;&#x6570;&#x4F53;&#x5185;&#x6216;-prepared-&#x8BED;&#x53E5;&#x4E2D;&#x5F15;&#x7528;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;
where-&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x641C;&#x7D22;&#x6761;&#x4EF6;
select-&#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x8FD4;&#x56DE;&#x5217;&#x8868;
&#x7C7B;&#x578B;&#x8F6C;&#x6362;
&#x62EC;&#x53F7;&#x4FDD;&#x62A4;&#x7684;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;

&#x50CF;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x8FD9;&#x6837;&#x7684;-sql-&#x7ED3;&#x6784;&#x867D;&#x7136;&#x5C5E;&#x4E8E;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x4E0E;&#x666E;&#x901A;&#x7684;&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x4E0D;&#x76F8;&#x540C;&#x3002;&#x8BF7;&#x53C2;&#x8003;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x5217;&#x5F15;&#x7528;
&#x5217;&#x5F15;&#x7528;&#x7684;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;
correlationcolumnname
&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;correlation-&#x662F;&#x8868;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF1A;&#x5728;&#x8868;&#x540D;&#x524D;&#x9762;&#x6DFB;&#x52A0;&#x6A21;&#x5F0F;&#x540D;&#xFF09;&#x6216;&#x8005;&#x5B9A;&#x4E49;&#x5728;-from-&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x8868;&#x7684;&#x522B;&#x540D;&#x3002;&#x5982;&#x679C;&#x5217;&#x540D;&#x5728;&#x67E5;&#x8BE2;&#x8BBF;&#x95EE;&#x7684;&#x8868;&#x4E2D;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF0C;&#x90A3;&#x4E48;-correlation-&#x90E8;&#x5206;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x7701;&#x7565;&#x7684;&#x3002;
&#x4F4D;&#x7F6E;&#x53C2;&#x6570;
&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x662F;&#x6307;&#x901A;&#x8FC7;&#x6307;&#x5B9A;&#x4F20;&#x9012;&#x7ED9;-sql-&#x8BED;&#x53E5;&#x6216;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;&#x6765;&#x5F15;&#x7528;&#x7684;&#x53C2;&#x6570;&#x3002;&#x4F8B;&#x5982;&#xFF1A;1-&#x5F15;&#x7528;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;2-&#x5F15;&#x7528;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4F9D;&#x6B64;&#x7C7B;&#x63A8;&#x3002;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x7684;&#x503C;&#x662F;&#x901A;&#x8FC7;&#x5728;-sql-&#x8BED;&#x53E5;&#x7684;&#x5916;&#x90E8;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x6216;&#x8005;&#x901A;&#x8FC7;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x4F20;&#x9012;&#x3002;-&#x4E00;&#x4E9B;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x53E3;&#x5E93;&#x51FD;&#x6570;&#x652F;&#x6301;&#x5728;-sql-&#x547D;&#x4EE4;&#x4E4B;&#x5916;&#x6307;&#x5B9A;&#x6570;&#x503C;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x53C2;&#x6570;&#x5F15;&#x7528;&#x7684;&#x662F;-sql-&#x4E4B;&#x5916;&#x7684;&#x5B9E;&#x9645;&#x503C;&#x3002;
&#x5F15;&#x7528;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x7684;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;
number
&#x793A;&#x4F8B;
create-function-depttext-returns-dept
----as--select--from-dept-where-name--1-
----language-sql
&#x8FD9;&#x91CC;-1-&#x5F15;&#x7528;&#x7684;&#x662F;&#x5728;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x4F20;&#x9012;&#x7ED9;&#x51FD;&#x6570;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x503C;&#x3002;
&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;
&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x4EA7;&#x751F;&#x4E86;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x7C7B;&#x578B;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x6570;&#x7EC4;&#x4E2D;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x5143;&#x7D20;&#x503C;&#xFF1A;
expressionsubscript
&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x591A;&#x4E2A;&#x76F8;&#x8FDE;&#x7684;&#x5143;&#x7D20;&#x503C;&#xFF0C;&#x79F0;&#x4E3A;&#x6570;&#x7EC4;&#x5206;&#x7247;&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;
expressionlowersubscriptuppersubscript
&#x4E0B;&#x6807;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8BE5;&#x8868;&#x8FBE;&#x5F0F;&#x5FC5;&#x987B;&#x8FD4;&#x56DE;&#x6574;&#x6570;&#x503C;&#x7C7B;&#x578B;&#x3002;
&#x5927;&#x90E8;&#x5206;&#x65F6;&#x5019;&#xFF0C;&#x6570;&#x7EC4;&#x8868;&#x8FBE;&#x5F0F;&#x5FC5;&#x987B;&#x5728;&#x62EC;&#x53F7;&#x4E2D;&#x4F7F;&#x7528;&#x3002;&#x5982;&#x679C;&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;&#x8BBF;&#x95EE;&#x5217;&#x5F15;&#x7528;&#x6216;&#x8005;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x62EC;&#x53F7;&#x662F;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x7684;&#x3002;-&#x5BF9;&#x4E8E;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8FDE;&#x63A5;&#x591A;&#x4E2A;&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;
mytablearraycolumn4
mytabletwodcolumn1734
11042
arrayfunctionab42
&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;
&#x5982;&#x679C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#xFF09;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x9009;&#x62E9;&#x8BE5;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x4E2D;&#x7684;&#x7279;&#x5B9A;&#x6210;&#x5458;&#x503C;&#xFF1A;
expressionfieldname
&#x8BB0;&#x5F55;&#x8868;&#x8FBE;&#x5F0F;&#x901A;&#x5E38;&#x9700;&#x8981;&#x5728;&#x62EC;&#x53F7;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x88AB;&#x8BBF;&#x95EE;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x8868;&#x5F15;&#x7528;&#x6216;&#x8005;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x62EC;&#x53F7;&#x662F;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x7684;&#x3002;&#x793A;&#x4F8B;&#xFF1A;
mytablemycolumn
1somecolumn
rowfunctionabcol3
&#x4E00;&#x4E2A;&#x9650;&#x5B9A;&#x7684;&#x5217;&#x5F15;&#x7528;&#x662F;&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7279;&#x4F8B;&#x3002;
&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;
&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x7684;&#x51E0;&#x79CD;&#x8BED;&#x6CD5;&#xFF1A;
expression-operator-expressionbinary-infix-operator
operator-expressionunary-prefix-operator
expression-operatorunary-postfix-operator
&#x793A;&#x4F8B;&#x4E2D;&#x7684;-operator-&#x5B9E;&#x9645;&#x662F;&#x8FD0;&#x7B97;&#x7B26;&#x7B26;&#x53F7;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;and&#xFF0C;or&#xFF0C;-&#x7B49;&#x3002;&#x8FD0;&#x7B97;&#x7B26;&#x4E5F;&#x6709;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;
operatorschemaoperatorname
&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x4EE5;&#x53CA;&#x4ED6;&#x4EEC;&#x7A76;&#x7ADF;&#x662F;&#x4E00;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#x8FD8;&#x662F;&#x4E8C;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x53D6;&#x51B3;&#x4E8E;&#x7CFB;&#x7EDF;&#x548C;&#x7528;&#x6237;&#x7684;&#x5B9A;&#x4E49;&#x3002;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x5185;&#x5EFA;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x51FD;&#x6570;&#x8C03;&#x7528;
&#x51FD;&#x6570;&#x8C03;&#x7528;&#x7684;&#x8BED;&#x6CD5;&#x662F;&#x51FD;&#x6570;&#x540D;&#xFF08;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF1A;&#x5728;&#x51FD;&#x6570;&#x540D;&#x5F00;&#x5934;&#x6DFB;&#x52A0;&#x6A21;&#x5F0F;&#x540D;&#xFF09;&#x8DDF;&#x968F;&#x7740;&#x4F7F;&#x7528;&#x62EC;&#x53F7;&#x4FDD;&#x62A4;&#x7684;&#x53C2;&#x6570;&#x5217;&#x8868;&#xFF1A;
function-expression--expression--
&#x4E0B;&#x9762;&#x793A;&#x4F8B;&#x662F;&#x901A;&#x8FC7;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x8BA1;&#x7B97;2&#x7684;&#x5E73;&#x65B9;&#x6839;&#xFF1A;
sqrt2
&#x53C2;&#x8003;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x805A;&#x96C6;&#x8868;&#x8FBE;&#x5F0F;
&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x6307;&#x5BF9;&#x4E8E;&#x67E5;&#x8BE2;&#x9009;&#x62E9;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x4E0A;&#x5E94;&#x7528;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x51FD;&#x6570;&#x3002;&#x805A;&#x5408;&#x51FD;&#x6570;&#x5728;&#x4E00;&#x7EC4;&#x503C;&#x4E0A;&#x8FDB;&#x884C;&#x8FD0;&#x7B97;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x5BF9;&#x4E00;&#x7EC4;&#x503C;&#x8FDB;&#x884C;&#x6C42;&#x548C;&#x8FD0;&#x7B97;&#x6216;&#x8005;&#x8BA1;&#x7B97;&#x5E73;&#x5747;&#x503C;&#x3002;&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#xFF1A;

aggregatenameexpression------&#x2014;-&#x5904;&#x7406;&#x6240;&#x6709;&#x503C;&#x4E3A;&#x975E;&#x7A7A;&#x7684;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#x3002;
aggregatenameall-expression------&#x2014;-&#x548C;&#x4E0A;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x884C;&#x4E3A;&#x4E00;&#x81F4;&#xFF0C;&#x56E0;&#x4E3A;-all-&#x662F;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x3002;
aggregatenamedistinct-expression------&#x2014;-&#x5904;&#x7406;&#x6240;&#x6709;&#x53BB;&#x9664;&#x91CD;&#x590D;&#x540E;&#x7684;&#x975E;&#x7A7A;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#x3002;
aggregatename-&#x2014;-&#x5904;&#x7406;&#x6240;&#x6709;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#xFF0C;&#x975E;&#x7A7A;&#x503C;&#x548C;&#x7A7A;&#x503C;&#x90FD;&#x4F1A;&#x88AB;&#x5904;&#x7406;&#x3002;&#x901A;&#x5E38;&#x8FD9;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x90FD;&#x662F;&#x4E3A;count&#x670D;&#x52A1;&#x7684;&#x3002;

&#x4E0A;&#x9762;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;-aggregatename-&#x662F;&#x4E00;&#x4E2A;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x540D;&#x79F0;&#xFF08;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6A21;&#x5F0F;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF09;&#x3002;&#x4E0A;&#x9762;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;-expression-&#x53EF;&#x4EE5;&#x662F;&#x9664;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x81EA;&#x8EAB;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x503C;&#x5408;&#x6CD5;&#x8868;&#x8FBE;&#x5F0F;&#x3002;
&#x4F8B;&#x5982;&#xFF0C;count-&#x8FD4;&#x56DE;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x7684;&#x603B;&#x6570;&#x91CF;&#xFF0C;countf1-&#x8FD4;&#x56DE;-f1-&#x503C;&#x4E2D;&#x975E;&#x7A7A;&#x7684;&#x603B;&#x6570;&#x91CF;&#xFF0C;countdistinct-f1-&#x8FD4;&#x56DE;&#x7684;&#x662F;-f1-&#x503C;&#x4E2D;&#x975E;&#x7A7A;&#x5E76;&#x53BB;&#x9664;&#x91CD;&#x590D;&#x503C;&#x540E;&#x7684;&#x603B;&#x6570;&#x91CF;&#x3002;
&#x8981;&#x4E86;&#x89E3;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x3002;&#x9664;&#x4E86;&#x9884;&#x5B9A;&#x4E49;&#x805A;&#x5408;&#x51FD;&#x6570;&#x5916;&#xFF0C;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x3002;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x63D0;&#x4F9B;-median-&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x8FD4;&#x56DE;-percentilecont-&#x7684;-50-&#x5206;&#x4F4D;&#x6570;&#x7ED3;&#x679C;&#x3002;-&#x4E0B;&#x9762;&#x662F;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x652F;&#x6301;&#x7684;&#x7279;&#x6B8A;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;
percentilecontpercentage-within-group-order-by-expression
percentilediscpercentage-within-group-order-by-expression
&#x76EE;&#x524D;&#x53EA;&#x6709;&#x4E0A;&#x9762;&#x4E24;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5173;&#x952E;&#x5B57;-within-group&#x3002;
&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x9650;&#x5236;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x4E86;&#x76EE;&#x524D;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x9650;&#x5236;&#xFF1A;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x5173;&#x952E;&#x5B57;&#xFF1A;all&#xFF0C;distinct&#xFF0C;filter-&#x548C;-over&#x3002;&#x8BF7;&#x53C2;&#x8003;-&#x8868;5-&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x53EA;&#x80FD;&#x51FA;&#x73B0;&#x5728;-select-&#x547D;&#x4EE4;&#x7684;&#x7ED3;&#x679C;&#x5217;&#x8868;&#x6216;&#x8005;-having-&#x5B50;&#x53E5;&#x4E2D;&#x3002;&#x5728;&#x5176;&#x5B83;&#x4F4D;&#x7F6E;&#x7D27;&#x81F4;&#x8BBF;&#x95EE;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;where&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5728;&#x5176;&#x5B83;&#x5176;&#x5B83;&#x4F4D;&#x7F6E;&#x7684;&#x8BA1;&#x7B97;&#x65E9;&#x4E8E;&#x805A;&#x5408;&#x6570;&#x636E;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x6B64;&#x9650;&#x5236;&#x7279;&#x6307;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x6240;&#x5C5E;&#x7684;&#x67E5;&#x8BE2;&#x5C42;&#x6B21;&#x3002;
&#x5F53;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x51FA;&#x73B0;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x805A;&#x5408;&#x64CD;&#x4F5C;&#x76F8;&#x5F53;&#x4E8E;&#x4F5C;&#x7528;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x53EA;&#x5305;&#x542B;&#x5916;&#x5C42;&#x53D8;&#x91CF;&#xFF0C;&#x8BE5;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x5C5E;&#x4E8E;&#x6700;&#x8FD1;&#x4E00;&#x5C42;&#x7684;&#x5916;&#x90E8;&#x8868;&#x67E5;&#x8BE2;&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x5728;&#x8BE5;&#x67E5;&#x8BE2;&#x7ED3;-&#x679C;&#x4E0A;&#x8FDB;&#x884C;&#x805A;&#x5408;&#x8FD0;&#x7B97;&#x3002;&#x8BE5;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x5BF9;&#x4E8E;&#x51FA;&#x73B0;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x6765;&#x8BF4;&#xFF0C;&#x5C06;&#x4F1A;&#x5F53;&#x6210;&#x4E00;&#x4E2A;&#x5916;&#x90E8;&#x5F15;&#x7528;&#xFF0C;&#x5E76;&#x4EE5;&#x5E38;&#x91CF;&#x503C;&#x5904;&#x7406;&#x3002;&#x8BF7;&#x53C2;&#x8003;-&#x8868;2-&#x4E86;&#x89E3;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x3002;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x5728;&#x591A;&#x4E2A;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;&#x4E0A;&#x4F7F;&#x7528;-distinct&#x3002;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x5141;&#x8BB8;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x66F4;&#x52A0;&#x7B80;&#x5355;&#x5730;&#x901A;&#x8FC7;&#x6807;&#x51C6;sql&#x8BED;&#x8A00;&#xFF0C;&#x6765;&#x6784;&#x5EFA;&#x590D;&#x6742;&#x7684;&#x5728;&#x7EBF;&#x5206;&#x6790;&#x5904;&#x7406;&#xFF08;olap&#xFF09;&#x3002;-&#x4F8B;&#x5982;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x8BA1;&#x7B97;&#x79FB;&#x52A8;&#x5E73;&#x5747;&#x503C;&#xFF0C;&#x67D0;&#x4E2A;&#x8303;&#x56F4;&#x5185;&#x7684;&#x603B;&#x548C;&#xFF0C;&#x6839;&#x636E;&#x67D0;&#x4E9B;&#x5217;&#x503C;&#x7684;&#x53D8;&#x5316;&#x91CD;&#x7F6E;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x6216;&#x6392;&#x540D;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x7B80;&#x5355;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x8868;&#x8FF0;&#x590D;&#x6742;&#x7684;&#x6BD4;&#x4F8B;&#x5173;&#x7CFB;&#x3002;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x8868;&#x793A;&#x5728;&#x7A97;&#x53E3;&#x5E27;&#x4E0A;&#x5E94;&#x7528;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#xFF0C;&#x7A97;&#x53E3;&#x5E27;&#x662F;&#x901A;&#x8FC7;&#x975E;&#x5E38;&#x7279;&#x522B;&#x7684;-over-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x7684;&#x3002;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x662F;&#x5206;&#x7EC4;&#x540E;&#x7684;&#x5E94;&#x7528;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x96C6;&#x5408;&#x3002;&#x4E0E;&#x805A;&#x5408;&#x51FD;&#x6570;&#x9488;&#x5BF9;&#x6BCF;&#x4E2A;&#x5206;&#x7EC4;&#x7684;&#x8BB0;&#x5F55;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x4E0D;&#x540C;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x771F;&#x5BF9;&#x6BCF;&#x884C;&#x90FD;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;&#x4F46;&#x662F;&#x8BE5;&#x503C;&#x7684;&#x8BA1;&#x7B97;&#x662F;&#x5B8C;&#x5168;&#x771F;&#x5BF9;&#x6839;&#x636E;&#x8BB0;&#x5F55;&#x5BF9;&#x5E94;&#x7684;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x8FDB;&#x884C;&#x7684;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;&#x5206;&#x533A;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5C31;&#x4F1A;&#x5728;&#x6574;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x8D4F;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x3002;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8BED;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;
windowfunction--expression----over--windowspecification-
&#x8FD9;&#x91CC;&#x7684;-windowfunction-&#x662F;&#x8868;-3-&#x5217;&#x51FA;&#x7684;&#x51FD;&#x6570;&#x4E4B;&#x4E00;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x4EFB;&#x4F55;&#x4E0D;&#x5305;&#x542B;&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5408;&#x6CD5;&#x503C;&#x3002;windowspecification-&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;
windowname
partition-by-expression--
order-by-expression-asc--desc--using-operator--
----range--rows
--------unbounded-preceding
--------expression-preceding
--------current-row
--------between-windowframebound-and-windowframebound-
&#x4E0A;&#x9762;&#x7684;-windowframebound-&#x5B9A;&#x4E49;&#x5982;&#x4E0B;
unbounded-preceding
expression-preceding
current-row
expression-following
unbounded-following
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x53EA;&#x80FD;&#x5728;-select-&#x7684;&#x8FD4;&#x56DE;&#x91CC;&#x8868;&#x4E2D;&#x51FA;&#x73B0;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-count-overpartition-by-customerid--from-sales
over-&#x5B50;&#x53E5;&#x662F;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x4E0E;&#x5176;&#x4ED6;&#x805A;&#x5408;&#x51FD;&#x6570;&#x6216;&#x62A5;&#x8868;&#x51FD;&#x6570;&#x6700;&#x5927;&#x7684;&#x533A;&#x522B;&#x3002;over-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x7684;-windowspecification-&#x786E;&#x5B9A;&#x4E86;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5E94;&#x7528;&#x7684;&#x8303;&#x56F4;&#x3002;&#x7A97;&#x53E3;&#x8BF4;&#x660E;&#x5305;&#x542B;&#x4E0B;&#x9762;&#x7279;&#x5F81;&#xFF1A;
partition-by-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x5E94;&#x7528;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x4E0A;&#x7684;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x3002;&#x5982;&#x679C;&#x7701;&#x7565;&#x6B64;&#x53C2;&#x6570;&#xFF0C;&#x6574;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x5206;&#x533A;&#x4F7F;&#x7528;&#x3002;
order-by-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x5728;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E2D;&#x7528;&#x4E8E;&#x6392;&#x5E8F;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x7A97;&#x53E3;&#x8BF4;&#x660E;&#x4E2D;&#x7684;-order-by-&#x5B50;&#x53E5;&#x548C;&#x4E3B;&#x67E5;&#x8BE2;&#x4E2D;&#x7684;-order-by-&#x5B50;&#x53E5;&#x662F;&#x76F8;&#x4E92;&#x72EC;&#x7ACB;&#x7684;&#x3002;order-by-&#x5B50;&#x53E5;&#x5BF9;&#x4E8E;&#x8BA1;&#x7B97;&#x6392;&#x540D;&#x7684;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x6765;&#x8BF4;&#x662F;&#x5FC5;&#x9700;&#x7684;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x6392;&#x5E8F;&#x540E;&#x624D;&#x80FD;&#x83B7;&#x5F97;&#x6392;&#x540D;&#x503C;&#x3002;-&#x5BF9;&#x4E8E;&#x5728;&#x7EBF;&#x5206;&#x6790;&#x5904;&#x7406;&#x805A;&#x5408;&#x64CD;&#x4F5C;&#xFF0C;&#x7A97;&#x53E3;&#x5E27;&#xFF08;rows-&#x6216;-range-&#x5B50;&#x53E5;&#xFF09;&#x9700;&#x8981;-order-by-&#x5B50;&#x53E5;&#x624D;&#x80FD;&#x4F7F;&#x7528;&#x3002;
rowsrange-&#x5B50;&#x53E5;&#x4E3A;&#x805A;&#x5408;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#xFF08;&#x975E;&#x6392;&#x540D;&#x64CD;&#x4F5C;&#xFF09;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7A97;&#x53E3;&#x5E27;&#x3002;&#x7A97;&#x53E3;&#x5E27;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5206;&#x533A;&#x5185;&#x7684;&#x4E00;&#x7EC4;&#x8BB0;&#x5F55;&#x3002;-&#x5B9A;&#x4E49;&#x4E86;&#x7A97;&#x53E3;&#x5E27;&#x4E4B;&#x540E;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5C06;&#x4F1A;&#x5728;&#x79FB;&#x52A8;&#x7A97;&#x53E3;&#x5E27;&#x4E0A;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#x5728;&#x6574;&#x4E2A;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E0A;&#x8FDB;&#x884C;&#x3002;-&#x7A97;&#x53E3;&#x5E27;&#x53EF;&#x4EE5;&#x662F;&#x57FA;&#x4E8E;&#x8BB0;&#x5F55;&#x5206;&#x9694;&#x7684;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x57FA;&#x4E8E;&#x503C;&#x5206;&#x9694;&#x7684;&#x3002;
&#x7C7B;&#x578B;&#x8F6C;&#x6362;
&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x4E24;&#x79CD;&#x7B49;&#x4EF7;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8BED;&#x6CD5;&#xFF1A;
cast--expression-as-type-
expressiontype
cast-&#x7684;&#x8BED;&#x6CD5;&#x662F;&#x7B26;&#x5408;-sql-&#x6807;&#x51C6;&#x7684;&#x7684;&#xFF1B;&#x800C;&#x8BED;&#x6CD5;--&#x662F;-postgresql-&#x5386;&#x53F2;&#x9057;&#x7559;&#x7684;&#x4E60;&#x60EF;&#x3002;
&#x5BF9;&#x4E8E;&#x5DF2;&#x77E5;&#x7C7B;&#x578B;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x64CD;&#x4F5C;&#x662F;&#x8FD0;&#x884C;&#x65F6;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x3002;&#x53EA;&#x6709;&#x5F53;&#x7CFB;&#x7EDF;&#x4E2D;&#x9002;&#x7528;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x51FD;&#x6570;&#xFF0C;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x624D;&#x53EF;&#x80FD;&#x6210;&#x529F;&#x3002;-&#x8FD9;&#x4E0E;&#x76F4;&#x63A5;&#x5728;&#x5E38;&#x91CF;&#x4E0A;&#x5E94;&#x7528;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5E76;&#x4E0D;&#x76F8;&#x540C;&#x3002;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x5B57;&#x9762;&#x503C;&#x4E0A;&#x5E94;&#x7528;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x4EE3;&#x8868;&#x4E86;&#x7528;&#x5B57;&#x9762;&#x503C;&#x5E38;&#x91CF;&#x5BF9;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x8D4B;&#x503C;&#x3002;-&#x56E0;&#x6B64;&#xFF0C;&#x8BE5;&#x5B57;&#x7B26;&#x4E32;&#x5B57;&#x9762;&#x503C;&#x53EA;&#x8981;&#x662F;&#x8BE5;&#x7C7B;&#x578B;&#x63A5;&#x6536;&#x7684;&#x5408;&#x6CD5;&#x8F93;&#x5165;&#xFF0C;&#x8BE5;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x90FD;&#x4F1A;&#x6210;&#x529F;&#x3002;
&#x5728;&#x4E00;&#x4E9B;&#x4F4D;&#x7F6E;&#x4E0A;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x7C7B;&#x578B;&#x5982;&#x679C;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x6B67;&#x4E49;&#x65F6;&#xFF0C;&#x663E;&#x793A;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x7701;&#x7565;&#x7684;&#x3002;-&#x4F8B;&#x5982;&#xFF0C;&#x5F53;&#x4E3A;&#x4E00;&#x5F20;&#x8868;&#x7684;&#x67D0;&#x4E2A;&#x5217;&#x8D4B;&#x503C;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x5E94;&#x7528;&#x6B63;&#x786E;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x3002;-&#x7CFB;&#x7EDF;&#x8981;&#x5E94;&#x7528;&#x81EA;&#x52A8;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x89C4;&#x5219;&#x7684;&#x524D;&#x63D0;&#x662F;&#xFF0C;&#x5F53;&#x4E14;&#x4EC5;&#x5F53;&#x7CFB;&#x7EDF;&#x8868;&#x4E2D;&#x5B9A;&#x4E49;&#x9690;&#x5F0F;&#x5730;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x662F;&#x5408;&#x6CD5;&#x7684;&#x3002;-&#x5176;&#x4ED6;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#xFF0C;&#x5FC5;&#x9700;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8BED;&#x6CD5;&#x663E;&#x793A;&#x5730;&#x8FDB;&#x884C;&#x8C03;&#x7528;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x53EF;&#x4EE5;&#x963B;&#x6B62;&#x4E00;&#x90E8;&#x5206;&#x7528;&#x6237;&#x610F;&#x6599;&#x4E4B;&#x5916;&#x7684;&#x975E;&#x671F;&#x671B;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x7684;&#x53D1;&#x751F;&#x3002;
&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;
&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x4E00;&#x4E2A;&#x62EC;&#x53F7;&#x4E2D;&#x7684;-select-&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#xFF0C;&#x5E76;&#x4E14;&#x8BE5;&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x884C;&#x4E00;&#x5217;&#xFF08;&#x4E00;&#x4E2A;&#x503C;&#xFF09;&#x3002;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x4E0D;&#x652F;&#x6301;&#x4F7F;&#x7528;&#x8FD4;&#x56DE;&#x591A;&#x884C;&#x6216;&#x591A;&#x5217;&#x7684;-select-&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x3002;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x8FD0;&#x884C;&#x5E76;&#x4F7F;&#x7528;&#x76F8;&#x5173;&#x81EA;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;&#x76F8;&#x5173;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x5F15;&#x7528;&#x4E86;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x53D8;&#x91CF;&#x7684;&#x67E5;&#x8BE2;&#x3002;
&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;
&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x4E00;&#x4E2A;-select-&#x67E5;&#x8BE2;&#x4F4D;&#x4E8E;-&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x6216;-where-&#x6761;&#x4EF6;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x5E76;&#x5F15;&#x7528;&#x4E86;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x3002;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x5141;&#x8BB8;&#x66F4;&#x9AD8;&#x6548;&#x7684;&#x8868;&#x793A;&#x51FA;&#x5F15;&#x7528;&#x5176;&#x4ED6;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x80FD;&#x591F;&#x652F;&#x6301;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x7279;&#x6027;&#xFF0C;&#x6B64;&#x7279;&#x6027;&#x80FD;&#x591F;&#x5141;&#x8BB8;&#x517C;&#x5BB9;&#x5F88;&#x591A;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;-&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x8FD4;&#x56DE;&#x8BB0;&#x5F55;&#x662F;&#x4E00;&#x6761;&#x8FD8;&#x662F;&#x591A;&#x6761;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x662F;&#x6807;&#x91CF;&#x6216;&#x8005;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;-&#x8FD9;&#x53D6;&#x51B3;&#x4E8E;&#x5B83;&#x8FD4;&#x56DE;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x4E00;&#x6761;&#x8FD8;&#x662F;&#x591A;&#x6761;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x76EE;&#x524D;&#x4E0D;&#x652F;&#x6301;&#x5F15;&#x7528;&#x8DE8;&#x5C42;&#x7684;&#x53D8;&#x91CF;&#xFF08;&#x4E0D;&#x652F;&#x6301;&#x95F4;&#x63A5;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF09;&#x3002;
&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x793A;&#x4F8B;-
&#x793A;&#x4F8B;-1-&#x2013;-&#x6807;&#x91CF;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;
select--from-t1-where-t1x
-------------select-maxt2x-from-t2-where-t2y--t1y
&#x793A;&#x4F8B;-2-&#x2013;-&#x76F8;&#x5173;-exists-&#x5B50;&#x67E5;&#x8BE2;
select--from-t1-where
exists-select-1-from-t2-where-t2x--t1x
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5229;&#x7528;&#x4E0B;&#x9762;&#x4E24;&#x4E2A;&#x7B97;&#x6CD5;&#x6765;&#x8FD0;&#x884C;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF1A;
&#x5C06;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x5C55;&#x5F00;&#x6210;&#x4E3A;&#x8FDE;&#x63A5;&#x8FD0;&#x7B97;&#xFF1A;&#x8FD9;&#x79CD;&#x7B97;&#x662F;&#x662F;&#x6700;&#x9AD8;&#x6548;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5BF9;&#x4E8E;&#x5927;&#x90E8;&#x5206;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x4F7F;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x4E00;&#x4E9B;-tpc-h-&#x6D4B;&#x8BD5;&#x96C6;&#x4E2D;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6B64;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x4F18;&#x5316;&#x3002;
&#x5BF9;&#x4E8E;&#x5F15;&#x7528;&#x7684;&#x67E5;&#x8BE2;&#x7684;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x90FD;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF1A;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x76F8;&#x5BF9;&#x6765;&#x8BF4;&#x4F4E;&#x6548;&#x7684;&#x7B97;&#x6CD5;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5BF9;&#x4E8E;&#x4F4D;&#x4E8E;-select-&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x548C;-where-&#x6761;&#x4EF6;&#x4E2D;-or-&#x8FDE;&#x63A5;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x7B97;&#x6CD5;&#x3002;
&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5BF9;&#x4E8E;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x67E5;&#x8BE2;&#x91CD;&#x5199;&#x6765;&#x6539;&#x8FDB;&#x6027;&#x80FD;&#x3002;
&#x793A;&#x4F8B;-3---select-&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;
&#x539F;&#x59CB;&#x67E5;&#x8BE2;
select-t1a
------select-countdistinct-t2z-from-t2-where-t1x--t2y-dt2
from-t1
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x9996;&#x5148;&#x4E0E;&#x8868;-t1-&#x6267;&#x884C;&#x5185;&#x8FDE;&#x63A5;&#xFF0C;&#x518D;&#x6267;&#x884C;&#x5DE6;&#x5916;&#x8FDE;&#x63A5;&#x3002;&#x67E5;&#x8BE2;&#x91CD;&#x5199;&#x53EA;&#x80FD;&#x5BF9;&#x7B49;&#x503C;&#x8FDE;&#x63A5;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x6761;&#x4EF6;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;
select-t1a-dt2-from-t1
-------left-join
--------select-t2y-as-csqy-countdistinct-t2z-as-dt2
--------------from-t1-t2-where-t1x--t2y
--------------group-by-t1x
-------on-t1x--csqy
&#x793A;&#x4F8B;-4---or-&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;-&#x539F;&#x59CB;&#x67E5;&#x8BE2;
select--from-t1
where
x--select-count-from-t2-where-t1x--t2x
or-x--select-count-from-t3-where-t1y--t3y
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x662F;&#x6839;&#x636E;-or-&#x6761;&#x4EF6;&#xFF0C;&#x5C06;&#x539F;&#x6765;&#x67E5;&#x8BE2;&#x5206;&#x6210;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;-union-&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x3002;
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;
select--from-t1
where-x--select-count-from-t2-where-t1x--t2x
union
select--from-t1
where-x--select-count-from-t3-where-t1y--t3y
&#x8981;&#x67E5;&#x770B;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-explain-select-&#x6216;&#x8005;-explain-analyze-select&#x3002;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x4E2D;&#x7684;-subplan-&#x8282;&#x70B9;&#x4EE3;&#x8868;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x5BF9;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x7684;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x90FD;&#x5904;&#x7406;&#x4E00;&#x6B21;&#xFF0C;&#x56E0;&#x6B64;&#x6697;&#x793A;&#x7740;&#x67E5;&#x8BE2;&#x53EF;&#x80FD;&#x53EF;&#x4EE5;&#x88AB;&#x91CD;&#x5199;&#x548C;&#x4F18;&#x5316;&#x3002;
&#x9AD8;&#x7EA7;&#x8868;&#x8868;&#x8FBE;&#x5F0F;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x80FD;&#x591F;&#x5C06;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x5BF9;&#x8F93;&#x5165;&#x9AD8;&#x7EA7;&#x8868;&#x51FD;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x4F7F;&#x7528;-order-by-&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-scatter-by-&#x5B50;&#x53E5;&#x5E76;&#x6307;&#x5B9A;&#x4E00;&#x5217;&#x6216;&#x591A;&#x5217;&#xFF08;&#x6216;&#x8868;&#x8FBE;&#x5F0F;&#xFF09;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x91CD;&#x65B0;&#x5206;&#x5E03;&#x3002;&#x8FD9;&#x79CD;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x4E0E;&#x521B;&#x5EFA;&#x8868;&#x7684;&#x65F6;&#x5019;&#xFF0C;distributed-by-&#x5B50;&#x53E5;&#x5341;&#x5206;&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x6B64;&#x5904;&#x91CD;&#x65B0;&#x5206;&#x5E03;&#x7684;&#x64CD;&#x4F5C;&#x662F;&#x5728;&#x67E5;&#x8BE2;&#x8FD0;&#x884C;&#x65F6;&#x53D1;&#x751F;&#x7684;&#x3002;

&#x6CE8;&#x610F;&#xFF1A;&#x6839;&#x636E;&#x6570;&#x636E;&#x7684;&#x5206;&#x5E03;&#xFF0C;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x5730;&#x5728;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x5E76;&#x884C;&#x7684;&#x8FD0;&#x884C;-&#x8868;-&#x8868;&#x8FBE;&#x5F0F;&#x3002;

&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x6570;&#x636E;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x901A;&#x8FC7;&#x63D0;&#x4F9B;&#x6210;&#x5458;&#x503C;&#x7684;&#x65B9;&#x5F0F;&#x6784;&#x9020;&#x6570;&#x7EC4;&#x503C;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#xFF1A;&#x5173;&#x952E;&#x5B57;-array&#xFF0C;&#x5DE6;&#x65B9;&#x62EC;&#x53F7;&#xFF08;&#xFF09;&#xFF0C;&#x7528;&#x6765;&#x7EC4;&#x6210;&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x503C;&#x7684;&#x901A;&#x8FC7;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x4E00;&#x4E2A;&#x591A;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x548C;&#x4E00;&#x4E2A;&#x53F3;&#x65B9;&#x62EC;&#x53F7;&#xFF08;&#xFF09;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-array1234
--array
---------
-127
&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x7684;&#x7C7B;&#x578B;&#x5C31;&#x662F;&#x5176;&#x6210;&#x5458;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x516C;&#x5171;&#x7C7B;&#x578B;&#xFF0C;&#x786E;&#x5B9A;&#x7684;&#x65B9;&#x5F0F;&#x548C;-union&#xFF0C;case-&#x6784;&#x9020;&#x5668;&#x89C4;&#x5219;&#x76F8;&#x540C;&#x3002;
&#x901A;&#x8FC7;&#x5D4C;&#x5957;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x503C;&#x3002;&#x5185;&#x90E8;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x5173;&#x952E;&#x5B57;-array&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E0B;&#x9762;&#x4E24;&#x4E2A;-select-&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#xFF1A;
select-arrayarray12-array34
select-array1234
-----array
---------------
-1234
&#x7531;&#x4E8E;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x4E00;&#x5B9A;&#x662F;&#x77E9;&#x5F62;&#xFF08;&#x957F;&#x65B9;&#x5F62;&#xFF09;&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x5C42;&#x7684;&#x5185;&#x90E8;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x4EA7;&#x751F;&#x7684;&#x5B50;&#x6570;&#x7EC4;&#x5FC5;&#x987B;&#x62E5;&#x6709;&#x76F8;&#x540C;&#x7684;&#x7EF4;&#x5EA6;&#x3002;
&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5668;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x5B50;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x4EA7;&#x751F;&#x9002;&#x5F53;&#x7C7B;&#x578B;&#x6570;&#x7EC4;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
create-table-arrf1-int-f2-int
insert-into-arr-values-array1234
array5678
select-arrayf1-f2-9101112int-from-arr
---------------------array
------------------------------------------------
-123456789101112
&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x6765;&#x6784;&#x9020;&#x6570;&#x7EC4;&#x3002;&#x8FD9;&#x91CC;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x5173;&#x952E;&#x5B57;-array-&#x5F00;&#x5934;&#xFF0C;&#x540E;&#x9762;&#x8DDF;&#x7740;&#x5728;&#x5706;&#x62EC;&#x53F7;&#x4E2D;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-arrayselect-oid-from-pgproc-where-proname-like-bytea
--------------------------column
-----------------------------------------------------------
-2011195419481952195112441950200519491953200631
&#x8FD9;&#x91CC;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x53EA;&#x80FD;&#x8FD4;&#x56DE;&#x5355;&#x5217;&#x3002;&#x751F;&#x6210;&#x7684;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x5BF9;&#x5E94;&#x7740;&#x5B50;&#x67E5;&#x8BE2;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x7684;&#x7C7B;&#x578B;&#x662F;&#x5B50;&#x67E5;&#x8BE2;&#x8F93;&#x51FA;&#x5217;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x901A;&#x8FC7;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x5F97;&#x5230;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x4E0B;&#x6807;&#x603B;&#x662F;&#x4ECE;-1-&#x5F00;&#x59CB;&#x7F16;&#x53F7;&#x3002;
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x5668;&#x662F;&#x4E00;&#x79CD;&#x7528;&#x6765;&#x4ECE;&#x6210;&#x5458;&#x503C;&#x6784;&#x5EFA;&#x8BB0;&#x5F55;&#x503C;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;&#x8BB0;&#x5F55;&#x8868;&#x8FBE;&#x5F0F;&#x4E5F;&#x88AB;&#x79F0;&#x4E3A;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF09;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-row125this-is-a-test
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x8FD8;&#x652F;&#x6301;&#x8BED;&#x6CD5;-rowvalue-&#xFF0C;&#x8BE5;&#x8868;&#x8FBE;&#x5F0F;&#x80FD;&#x591F;&#x5C06;&#x8BB0;&#x5F55;&#x503C;&#x7684;&#x6210;&#x5458;&#x5C55;&#x5F00;&#x6210;&#x5217;&#x8868;&#xFF0C;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x7C7B;&#x4F3C;&#x4E8E;&#x5F53;&#x4F60;&#x5728;-select-&#x76EE;&#x6807;&#x5217;&#x8868;&#x65F6;&#x4F7F;&#x7528;&#x7684;--&#x8BED;&#x6CD5;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x8868;-t-&#x6709;&#x4E24;&#x5217;-f1-&#x548C;-f2&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x662F;&#x7B49;&#x4EF7;&#x7684;&#xFF1A;
select-rowt-42-from-t
select-rowtf1-tf2-42-from-t
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x9ED8;&#x8BA4;&#x521B;&#x5EFA;&#x7684;&#x8BB0;&#x5F55;&#x503C;&#x5177;&#x6709;&#x533F;&#x540D;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#x3002;&#x6839;&#x636E;&#x9700;&#x8981;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x8BE5;&#x503C;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8F6C;&#x6362;&#x6210;&#x4E00;&#x4E2A;&#x547D;&#x540D;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF1A;&#x6570;&#x636E;&#x8868;&#x7684;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#x6216;&#x8005;&#x662F;&#x901A;&#x8FC7;-create-type-as-&#x547D;&#x4EE4;&#x521B;&#x5EFA;&#x7684;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x5730;&#x63D0;&#x4F9B;&#x7C7B;&#x578B;&#x8F6C;&#x6765;&#x907F;&#x514D;&#x51FA;&#x73B0;&#x6B67;&#x4E49;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
create-table-mytablef1-int-f2-float-f3-text
create-function-getf1mytable-returns-int-as-select-1f1
language-sql
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x5168;&#x5C40;&#x53EA;&#x6709;&#x4E00;&#x4E2A;-getf1-&#x51FD;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x4E0D;&#x4EA7;&#x751F;&#x4EFB;&#x4F55;&#x7684;&#x6B67;&#x4E49;&#xFF0C;&#x60A8;&#x4E5F;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x7684;&#x5904;&#x7406;&#xFF1A;
select-getf1row125this-is-a-test
-getf1
-------
-----1
create-type-myrowtype-as-f1-int-f2-text-f3-numeric
create-function-getf1myrowtype-returns-int-as-select
1f1-language-sql
&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x6765;&#x6307;&#x5B9A;&#x5177;&#x4F53;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;&#xFF1A;
select-getf1row125this-is-a-test
error--function-getf1record-is-not-unique
select-getf1row125this-is-a-testmytable
-getf1
-------
-----1
select-getf1castrow11this-is-a-test25-as
myrowtype
-getf1
-------
----11
&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x5668;&#x6765;&#x6784;&#x5EFA;&#x590D;&#x5408;&#x503C;&#xFF0C;&#x5C06;&#x5176;&#x5B58;&#x50A8;&#x5728;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x7684;&#x5217;&#x4E2D;&#x6216;&#x8005;&#x5C06;&#x5176;&#x4F20;&#x7ED9;&#x63A5;&#x53D7;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#x3002;
&#x8868;&#x8FBE;&#x5F0F;&#x6C42;&#x503C;&#x89C4;&#x5219;
&#x81EA;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x662F;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x3002;&#x8FD0;&#x7B97;&#x7B26;&#x6216;&#x8005;&#x51FD;&#x6570;&#x7684;&#x6C42;&#x503C;&#x4E0D;&#x4E00;&#x5B9A;&#x9075;&#x5B88;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x4E5F;&#x4E0D;&#x4FDD;&#x8BC1;&#x6309;&#x7167;&#x4EFB;&#x4F55;&#x7279;&#x5B9A;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x3002;
&#x5982;&#x679C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x80FD;&#x591F;&#x7531;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x786E;&#x5B9A;&#xFF0C;&#x90A3;&#x4E48;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x7684;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x88AB;&#x6C42;&#x503C;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;
select-true-or-somefunc
somefunc-&#x51FD;&#x6570;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x7C7B;&#x4F3C;&#x7684;&#x60C5;&#x51B5;&#x5BF9;&#x4E0B;&#x9762;&#x4F8B;&#x5B50;&#x4E5F;&#x9002;&#x7528;&#xFF1A;
select-somefunc-or-true
&#x8FD9;&#x4E2A;&#x7279;&#x70B9;&#x548C;&#x5927;&#x591A;&#x6570;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E2D;&#xFF0C;&#x5E03;&#x5C14;&#x8FD0;&#x7B97;&#x7B26;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x603B;&#x662F;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x4E0D;&#x592A;&#x4E00;&#x6837;&#x3002;
&#x4E0D;&#x8981;&#x5728;&#x590D;&#x6742;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x4F7F;&#x7528;&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x50CF;-where-&#x6216;&#x8005;-having-&#x5B50;&#x53E5;&#x3002;&#x56E0;&#x4E3A;&#x8FD9;&#x91CC;&#x8BED;&#x53E5;&#x5728;&#x751F;&#x6210;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x88AB;&#x591A;&#x6B21;&#x5904;&#x7406;&#x3002;&#x5728;&#x4E0A;&#x9762;&#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x5E03;&#x5C14;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;andornot-&#x7EC4;&#x5408;&#xFF09;&#x5C06;&#x4F1A;&#x6839;&#x636E;&#x5E03;&#x5C14;&#x4EE3;&#x6570;&#x89C4;&#x5219;&#x91CD;&#x65B0;&#x6392;&#x5217;&#x6210;&#x4E3A;&#x4EFB;&#x4F55;&#x6700;&#x4F18;&#x5408;&#x6CD5;&#x7ED3;&#x6784;&#x3002;
&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-case-&#x7ED3;&#x6784;&#x6765;&#x4FDD;&#x8BC1;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x907F;&#x514D;&#x9664;0&#x9519;&#x8BEF;&#x7684;&#x60C5;&#x51B5;&#xFF1A;
select--where-x--0-and-yx--15
&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x80FD;&#x591F;&#x4FDD;&#x8BC1;&#x907F;&#x514D;&#x9664;0&#x9519;&#x8BEF;&#xFF1A;
select--where-case-when-x--0-then-yx--15-else-false-end
&#x8FD9;&#x79CD;-case-&#x7ED3;&#x6784;&#x5C06;&#x4F1A;&#x963B;&#x6B62;&#x67E5;&#x8BE2;&#x4F18;&#x5316;&#xFF0C;&#x56E0;&#x6B64;&#x8BF7;&#x5C0F;&#x5FC3;&#x4F7F;&#x7528;&#x3002;
&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5728;-sql-&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x5BF9;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x8FDB;&#x884C;&#x6C42;&#x503C;&#x3002;&#x4E00;&#x4E9B;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x53EA;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x8FD0;&#x884C;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x7ED3;&#x679C;&#x51FA;&#x73B0;&#x4E0D;&#x4E00;&#x81F4;&#x72B6;&#x6001;&#x3002;
&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x51FD;&#x6570;
&#x8868;1-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E2D;&#x7684;&#x51FD;&#x6570;



&#x51FD;&#x6570;&#x7C7B;&#x578B;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x60C5;&#x51B5;
&#x8BF4;&#x660E;
&#x5907;&#x6CE8;




immutable
&#x5B8C;&#x5168;&#x652F;&#x6301;
&#x51FD;&#x6570;&#x53EA;&#x76F4;&#x63A5;&#x4F9D;&#x8D56;&#x53C2;&#x6570;&#x5217;&#x8868;&#x4E2D;&#x63D0;&#x4F9B;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x5BF9;&#x4E8E;&#x76F8;&#x540C;&#x7684;&#x53C2;&#x6570;&#x503C;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4E0D;&#x53D8;&#x3002;



stable
&#x5927;&#x90E8;&#x5206;&#x60C5;&#x51B5;&#x652F;&#x6301;
&#x5728;&#x4E00;&#x6B21;&#x7684;&#x8868;&#x626B;&#x63CF;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5176;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5BF9;&#x76F8;&#x540C;&#x8F93;&#x5165;&#x53C2;&#x6570;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#xFF0C;&#x4F46;&#x662F;&#x7ED3;&#x679C;&#x5728;&#x4E0D;&#x540C;-sql-&#x8BED;&#x53E5;&#x4E4B;&#x95F4;&#x4F1A;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x3002;
&#x5176;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x53D6;&#x51B3;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x6216;&#x53C2;&#x6570;&#x503C;&#x3002;&#x4F8B;&#x5982;&#xFF1A;-currenttimestamp-&#x5BB6;&#x65CF;&#x7684;&#x51FD;&#x6570;&#x90FD;&#x662F;-stable-&#x7684;&#x3002;&#x5728;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x4E2D;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x503C;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#x3002;


volatile
&#x9650;&#x5236;&#x6027;&#x7684;&#x4F7F;&#x7528;
&#x5728;&#x4E00;&#x6B21;&#x8868;&#x626B;&#x63CF;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x51FD;&#x6570;&#x503C;&#x4E5F;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002;-&#x4F8B;&#x5982;&#xFF1A;random-currval-timeofday&#x3002;
&#x5373;&#x4F7F;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x9884;&#x6D4B;&#xFF0C;&#x4EFB;&#x4F55;&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;&#xFF08;side-effects&#xFF09;&#x7684;&#x51FD;&#x6570;&#x4ECD;&#x7136;&#x5C5E;&#x4E8E;&#x6613;&#x53D8;&#x51FD;&#x6570;&#x3002;&#x4F8B;&#x5982;&#xFF1A;-setval&#x3002;



hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x8868;&#x5F15;&#x7528;&#xFF08;rangefuncs&#xFF09;&#x6216;&#x8005;&#x51FD;&#x6570;&#x4F7F;&#x7528;-refcursor-&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;
&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;
&#x6B64;&#x529F;&#x80FD;&#x6B63;&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x672A;&#x6765;&#x7248;&#x672C;&#x5C06;&#x4F1A;&#x5F00;&#x653E;&#x3002;
&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;
&#x4E0B;&#x8868;&#x5217;&#x51FA;&#x4E86;-postgresql-&#x652F;&#x6301;&#x7684;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x79CD;&#x7C7B;&#x3002;
-&#x8868;2-&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;



operatorfunction-category
volatile-&#x51FD;&#x6570;
stable-&#x51FD;&#x6570;
&#x4F7F;&#x7528;&#x9650;&#x5236;




logical-operators





comparison-operators





mathematical-functions-and-operators
random&#x3001;setseed




string-functions-and-operators
all-built-in-conversion-functions
convert&#x3001;pgclientencoding



binary-string-functions-and-operators





bit-string-functions-and-operators





pattern-matching





data-type-formatting-functions

tochar&#x3001;totimestamp



datetime-functions-and-operators
timeofday
age&#x3001;currentdate&#x3001;currenttime&#x3001;currenttimestamp&#x3001;localtime&#x3001;localtimestamp&#x3001;now



geometric-functions-and-operators





network-address-functions-and-operators





sequence-manipulation-functions
currval&#x3001;lastval&#x3001;nextval&#x3001;setval




conditional-expressions





array-functions-and-operators

all-array-functions



aggregate-functions





subquery-expressions





row-and-array-comparisons





set-returning-functions
generateseries




system-information-functions

all-session-information-functions&#x3001;all-access-privilege-inquiry-functions&#x3001;all-schema-visibility-inquiry-functions&#x3001;all-system-catalog-information-functions&#x3001;all-comment-information-functions



system-administration-functions
setconfig&#x3001;pgcancelbackend&#x3001;pgreloadconf&#x3001;pgrotatelogfile&#x3001;pgstartbackup&#x3001;pgstopbackup&#x3001;pgsizepretty&#x3001;pglsdir&#x3001;pgreadfile&#x3001;pgstatfile
currentsetting&#x3001;all-database-object-size-functions
note-the-function-pgcolumnsize-the-value-perhaps-with-toast-compression


xml-functions

xmlaggxml&#x3001;xmlexiststext-xml&#x3001;xmliswellformedtext&#x3001;xmliswellformeddocumenttext&#x3001;xmliswellformedcontenttext&#x3001;xpathtext-xml&#x3001;xpathtext-xml-text&#x3001;xpathexiststext-xml&#x3001;xpathexiststext-xml-text&#x3001;xmltext&#x3001;textxml&#x3001;xmlcommentxml&#x3001;xmlconcat2xml-xml




&#x7A97;&#x53E3;&#x51FD;&#x6570;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x5185;&#x7F6E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x662F;-hashdata-database-&#x5BF9;-postgresql-&#x7684;&#x6269;&#x5C55;&#x3002;-&#x6240;&#x6709;&#x7684;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x90FD;&#x662F;-immutable-&#x7684;&#x3002;&#x8981;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x5173;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;-&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;-&#x3002;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




cumedist
double-precision
cumedist-over--partition-by-expr--order-by-expr-
&#x8BA1;&#x7B97;&#x6570;&#x503C;&#x5728;&#x4E00;&#x4E2A;&#x7EC4;&#x6570;&#x503C;&#x7684;&#x7D2F;&#x79EF;&#x5206;&#x5E03;&#x3002;&#x76F8;&#x540C;&#x503C;&#x7684;&#x8BB0;&#x5F55;&#x6C42;&#x503C;&#x7ED3;&#x679C;&#x603B;&#x4F1A;&#x5F97;&#x5230;&#x76F8;&#x540C;&#x7684;&#x7D2F;&#x79EF;&#x5206;&#x5E03;&#x503C;&#x3002;


denserank
bigint
denserank-over--partition-by-expr--order-by-expr
&#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7EC4;&#x4E2D;&#xFF0C;&#x8BB0;&#x5F55;&#x7684;&#x6392;&#x540D;&#xFF0C;&#x6392;&#x540D;&#x503C;&#x8FDE;&#x7EED;&#x5206;&#x914D;&#x3002;&#x8BB0;&#x5F55;-&#x503C;&#x76F8;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5206;&#x914D;&#x76F8;&#x540C;&#x7684;&#x6392;&#x540D;&#x3002;


firstvalueexpr
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
firstvalue-expr--over--partition-by-expr--order-by-expr-rows-range-frameexpr--
&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7684;&#x503C;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x503C;&#x3002;


lagexpr-offset-default
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;&#x7C7B;&#x578B;&#x76F8;&#x540C;
lag-expr--offset---default--over--partition-by-expr--order-by-expr-
&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x4E0D;&#x4F7F;&#x7528;&#x81EA;&#x8FDE;&#x63A5;&#x8BBF;&#x95EE;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x591A;&#x884C;&#x8BB0;&#x5F55;&#x3002;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;-&#x65F6;&#x6BCF;&#x4E2A;&#x8BB0;&#x5F55;&#x6709;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x4F4D;&#x7F6E;&#xFF0C;lag-&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x4ECE;&#x5F53;&#x524D;&#x7269;&#x7406;&#x4F4D;-&#x7F6E;&#x5411;&#x524D;-offset-&#x7684;&#x8BB0;&#x5F55;&#x3002;offset-&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;-1-&#x3002;-default-&#x503C;&#x4F1A;&#x5728;-offset-&#x503C;&#x8D85;&#x51FA;&#x7A97;&#x53E3;&#x8303;&#x56F4;&#x540E;&#x88AB;&#x8FD4;&#x56DE;&#x3002;-&#x5982;&#x679C;-default-&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;-null&#x3002;


lastvalueexpr
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
lastvalueexpr-over--partition-by-expr-order-by-expr-rows-range-frameexpr-
&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7684;&#x503C;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x503C;&#x3002;


leadexpr-offset-default
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
leadexpr-offset-default-over--partition-by-expr-order-by-expr-
&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x4E0D;&#x4F7F;&#x7528;&#x81EA;&#x8FDE;&#x63A5;&#x8BBF;&#x95EE;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x591A;&#x884C;&#x8BB0;&#x5F55;&#x3002;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;-&#x65F6;&#x6BCF;&#x4E2A;&#x8BB0;&#x5F55;&#x6709;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x4F4D;&#x7F6E;&#xFF0C;lag-&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x4ECE;&#x5F53;&#x524D;&#x7269;&#x7406;&#x4F4D;-&#x7F6E;&#x5411;&#x540E;-offset-&#x7684;&#x8BB0;&#x5F55;&#x3002;offset-&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;-1-&#x3002;-default-&#x503C;&#x4F1A;&#x5728;-offset-&#x503C;&#x8D85;&#x51FA;&#x7A97;&#x53E3;&#x8303;&#x56F4;&#x540E;&#x88AB;&#x8FD4;&#x56DE;&#x3002;-&#x5982;&#x679C;-default-&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;-null&#x3002;


ntileexpr
bigint
ntileexpr-over--partition-by-expr-order-by-expr-
&#x5C06;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x6570;&#x636E;&#x96C6;&#x5212;&#x5206;&#x5230;&#x591A;&#x4E2A;&#x6876;&#xFF08;buckets&#xFF09;&#x4E2D;&#xFF0C;&#x6876;&#x7684;&#x6570;&#x91CF;-&#x7531;&#x53C2;&#x6570;&#x51B3;&#x5B9A;&#xFF0C;&#x5E76;&#x4E3A;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x6876;&#x7F16;&#x53F7;&#x3002;


percentrank
double-precision
percentrank--over--partition-by-expr-order-by-expr-
&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x516C;&#x5F0F;&#x8BA1;&#x7B97;&#x6392;&#x540D;&#xFF1A;&#x8BB0;&#x5F55;&#x6392;&#x540D;---1-&#x9664;&#x4EE5;&#x603B;&#x6392;&#x540D;&#x8BB0;&#x5F55;-&#x6570;---1-&#x3002;


rank
bigint
rank--over--partition-by-expr-order-by-expr-
&#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7EC4;&#x4E2D;&#xFF0C;&#x8BB0;&#x5F55;&#x7684;&#x6392;&#x540D;&#x3002;&#x8BB0;&#x5F55;&#x503C;&#x76F8;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;-&#x5206;&#x914D;&#x76F8;&#x540C;&#x7684;&#x6392;&#x540D;&#x3002;&#x5206;&#x914D;&#x5230;&#x76F8;&#x540C;&#x6392;&#x540D;&#x7684;&#x6BCF;&#x7EC4;&#x8BB0;&#x5F55;&#x7684;&#x6570;&#x91CF;&#x5C06;&#x4F1A;-&#x88AB;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x4E0B;&#x4E2A;&#x5206;&#x914D;&#x7684;&#x6392;&#x540D;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6392;&#x540D;&#x7684;&#x5206;&#x914D;&#x53EF;-&#x80FD;&#x4E0D;&#x662F;&#x8FDE;&#x7EED;&#x3002;


rownumber
bigint
rownumber--over--partition-by-expr-order-by-expr-----&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x7F16;&#x53F7;&#x3002;&#xFF08;&#x53EF;&#x4EE5;&#x662F;&#x6574;&#x4E2A;&#x67E5;&#x8BE2;&#x7684;-&#x7ED3;&#x679C;&#x8BB0;&#x5F55;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#xFF09;&#x3002;




&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x5185;&#x7F6E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x662F;-hashdata-database-&#x5BF9;-postgresql-&#x7684;&#x6269;&#x5C55;&#x3002;-&#x5206;&#x6790;&#x51FD;&#x6570;&#x662F;-immutable-&#x3002;
&#x8868;4-&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




matrixadd-array-array
smallint-int-bigint-float
matrixaddarray1122-array3456
&#x5C06;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x76F8;&#x52A0;&#x3002;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x5FC5;&#x987B;&#x4E00;&#x81F4;&#x3002;


matrixmultiply-array-array
smallintint-bigint-float
matrixmultiply-array200020002-array303030003
&#x5C06;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x76F8;&#x4E58;&#x3002;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x5FC5;&#x987B;&#x4E00;&#x81F4;&#x3002;


matrixmultiply-array-expr
int-float
matrixmultiplyarray111-222-333-2
&#x5C06;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x4E0E;&#x4E00;&#x4E2A;&#x6807;&#x91CF;&#x6570;&#x503C;&#x76F8;&#x4E58;&#x3002;


matrixtranspose-array
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
matrixtransposearray-111-222
&#x5C06;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x8F6C;&#x7F6E;&#x3002;


pinvarray-
smallintint-bigint-float
pinvarray2500-010005
&#x8BA1;&#x7B97;&#x77E9;&#x9635;&#x7684;-moore-penrose-pseudoinverse-&#x3002;


unnestarray
set-of-anyelement
unnestarrayone-row-per-item
&#x5C06;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x8F6C;&#x5316;&#x4E3A;&#x591A;&#x884C;&#x3002;&#x8FD4;&#x56DE;-anyelement-&#x7684;&#x96C6;&#x5408;&#x3002;&#x8BE5;&#x7C7B;&#x578B;&#x662F;-postgresql-&#x4E2D;&#x7684;&#x591A;&#x6001;&#x4F2A;&#x7C7B;&#x578B;&#x3002;



-&#x8868;5-&#x9AD8;&#x7EA7;&#x805A;&#x5408;&#x51FD;&#x6570;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




median-expr
timestamp-timestampz-interval-float
median-expression-exampleselect-departmentid-mediansalary-from-employees-group-by-departmentid
&#x8BA1;&#x7B97;&#x4E2D;&#x4F4D;&#x6570;&#x3002;


percentilecont-expr-within-group-order-by-expr-descasc
timestamp-timestampz-interval-float
percentilecontpercentage-within-group-order-by-expression-exampleselect-departmentidpercentilecont-05-within-group-order-by-salary-desc-mediancont-from-employees-group-by-departmentid
&#x5728;&#x8FDE;&#x7EED;&#x5206;&#x5E03;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x8FD0;&#x7B97;&#x3002;&#x51FD;&#x6570;&#x8F93;&#x5165;-&#x4E00;&#x4E2A;&#x5206;&#x4F4D;&#x6BD4;&#x4F8B;&#x548C;&#x6392;&#x5E8F;&#x4FE1;&#x606F;&#xFF0C;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x662F;&#x8BA1;&#x7B97;&#x6570;&#x636E;&#x7684;&#x7C7B;-&#x578B;&#x3002;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x8FDB;&#x884C;&#x7EBF;&#x6027;&#x63D2;&#x503C;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x3002;-&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D;-null-&#x503C;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;


percentiledisc-expr-within-group-order-by-expr-descasc
timestamp-timestampz-interval-float
percentilediscpercentage-within-group-order-by-expression-exampleselect-departmentidpercentiledisc-05-within-group-order-by-salary-desc-mediancont-from-employees-group-by-departmentid
&#x5728;&#x8FDE;&#x7EED;&#x5206;&#x5E03;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x8FD0;&#x7B97;&#x3002;&#x51FD;&#x6570;&#x8F93;&#x5165;-&#x4E00;&#x4E2A;&#x5206;&#x4F4D;&#x6BD4;&#x4F8B;&#x548C;&#x6392;&#x5E8F;&#x4FE1;&#x606F;&#x3002;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x8F93;&#x5165;&#x96C6;&#x5408;&#x4E2D;-&#x7684;&#x503C;&#x3002;&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D;-null-&#x503C;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;


sumarray
smallint-int-bigint-float
sumarray1234-example-create-table-mymatrix-myvalue-int-insert-into-mymatrix-values--array1234-insert-into-mymatrix-values--array0110-select--summyvalue-from-mymatrix
&#x6267;&#x884C;&#x77E9;&#x9635;&#x52A0;&#x6CD5;&#x8FD0;&#x7B97;&#x3002;&#x5C06;&#x8F93;&#x5165;&#x7684;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;&#x5F53;&#x4F5C;&#x77E9;&#x9635;&#x5904;&#x7406;&#x3002;


pivotsum-label-label-expr
int-bigint-float
pivotsum-arraya1a2-attr-value
&#x900F;&#x89C6;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x901A;&#x8FC7;&#x805A;&#x5408;&#x6C42;&#x6765;&#x6D88;&#x9664;&#x91CD;&#x590D;&#x9879;&#x3002;


mregrcoef-expr-array
float
mregrcoefy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrcoef-&#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7CFB;&#x6570;&#x3002;-mregrcoef-&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x5305;&#x542B;&#x6BCF;&#x4E2A;&#x81EA;&#x53D8;&#x91CF;&#x7684;&#x56DE;&#x5F52;&#x7CFB;&#x6570;&#xFF0C;-&#x56E0;&#x6B64;&#x5927;&#x5C0F;&#x4E0E;&#x8F93;&#x5165;&#x7684;&#x81EA;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#x5927;&#x5C0F;&#x76F8;&#x7B49;&#x3002;


mregrr2-expr-array
float
mregrr2y-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrr2-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-r-&#x5E73;&#x65B9;&#x503C;&#x3002;


mregrpvalues-expr-array
float
mregrpvaluesy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrpvalues-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-p-&#x503C;&#x3002;


mregrtstats-expr-array
float
mregrtstatsy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrtstats-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-t-&#x7EDF;&#x8BA1;&#x91CF;&#x503C;&#x3002;


nbclassify-text-bigint-bigint-biggint
text
nbclassifyclasses-attrcount-classcount-classtotal
&#x4F7F;&#x7528;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x5668;&#x5BF9;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x3002;&#x6B64;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;-&#x7528;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x57FA;&#x7EBF;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x9884;&#x6D4B;&#xFF0C;&#x8FD4;&#x56DE;-&#x8BE5;&#x8BB0;&#x5F55;&#x6700;&#x6709;&#x53EF;&#x80FD;&#x51FA;&#x7EBF;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x3002;


nbprobabilities-text-bigint-bigint-biggint
text
nbprobabilitiesclasses-attrcount-classcount-classtotal
&#x4F7F;&#x7528;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x5668;&#x8BA1;&#x7B97;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x3002;&#x6B64;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x57FA;&#x7EBF;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x9884;&#x6D4B;&#xFF0C;&#x8FD4;&#x56DE;&#x8BE5;&#x8BB0;&#x5F55;&#x51FA;&#x73B0;&#x5728;&#x5404;&#x4E2A;&#x5206;&#x7C7B;&#x4E2D;&#x7684;&#x6982;&#x7387;&#x3002;



&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x793A;&#x4F8B;
&#x672C;&#x7AE0;&#x8282;&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5728;&#x7B80;&#x5316;&#x7684;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x4E0A;&#x5E94;&#x7528;&#x4E0A;&#x9762;&#x90E8;&#x5206;&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x7684;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#x3002;-&#x793A;&#x4F8B;&#x5305;&#x62EC;&#xFF1A;&#x591A;&#x5143;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x548C;&#x4F7F;&#x7528;-nbclassify-&#x7684;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x3002;
&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x793A;&#x4F8B;
&#x4E0B;&#x9762;&#x793A;&#x4F8B;&#x4F7F;&#x7528;&#x56DB;&#x4E2A;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF1A;mregrcoef&#xFF0C;mregrr2&#xFF0C;mregrpvalues-&#x548C;-mregrtstats-&#x5728;&#x793A;&#x4F8B;&#x8868;-regrexample-&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x3002;-&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x56E0;&#x53D8;&#x91CF;&#xFF08;dependent-variable&#xFF09;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x81EA;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#xFF08;independent-variable&#xFF09;&#x3002;
select-mregrcoefy-array1-x1-x2
-------mregrr2y-array1-x1-x2
-------mregrpvaluesy-array1-x1-x2
-------mregrtstatsy-array1-x1-x2
from-regrexample
&#x8868;-regrexample-&#x4E2D;&#x7684;&#x6570;&#x636E;
-id--y---x1--x2
----------------
--1---5---2---1
--2--10---4---2
--3---6---3---1
--4---8---3---1
&#x5728;&#x8868;&#x4E0A;&#x8FD0;&#x884C;&#x524D;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x884C;&#x6570;&#x636E;&#xFF0C;&#x5305;&#x542B;&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x503C;&#xFF1A;
mregrcoef

-7105427357601e-152000000000000030999999999999943
mregrr2

086440677966103
mregrpvalues

099999999999999904543710516569920783653104061216
mregrtstats

-224693341988919e-15115470053837932035355339059327
&#x5982;&#x679C;&#x4E0A;&#x9762;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x672A;&#x5B9A;&#x4E49;&#xFF0C;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;-nan&#xFF08;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x503C;&#xFF09;&#x3002;&#x5F53;&#x6570;&#x636E;&#x91CF;&#x592A;&#x5C11;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x9047;&#x5230;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;

&#x6CE8;&#x610F;-&#x5982;&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x6240;&#x793A;&#xFF0C;&#x53D8;&#x91CF;&#x53C2;&#x6570;&#x4F30;&#x8BA1;&#x503C;&#xFF08;intercept&#xFF09;&#x662F;&#x901A;&#x8FC7;&#x5C06;&#x4E00;&#x4E2A;&#x81EA;&#x53D8;&#x91CF;&#x8BBE;&#x7F6E;&#x4E3A;-1-&#x8BA1;&#x7B97;&#x5F97;&#x5230;&#x7684;&#x3002;

&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;
&#x4F7F;&#x7528;-nbclassify-&#x548C;-nbprobabilities-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6D89;&#x53CA;&#x5230;&#x56DB;&#x6B65;&#x7684;&#x5206;&#x7C7B;&#x8FC7;&#x7A0B;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x4E3A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x7684;&#x8868;&#x548C;&#x89C6;&#x56FE;&#x3002;-&#x4E0B;&#x9762;&#x7684;&#x4E24;&#x4E2A;&#x793A;&#x4F8B;&#x5C55;&#x793A;&#x4E86;&#x8FD9;&#x56DB;&#x4E2A;&#x6B65;&#x9AA4;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x968F;&#x610F;&#x6784;&#x9020;&#x7684;&#x6570;&#x636E;&#x96C6;&#x4E0A;&#x5C55;&#x793A;&#x3002;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;-hashdata-database-&#x6839;&#x636E;&#x5929;&#x6C14;&#x6761;&#x4EF6;&#x4F7F;&#x7528;&#x975E;&#x5E38;&#x53D7;&#x6B22;&#x8FCE;&#x7684;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x793A;&#x4F8B;&#x3002;
&#x603B;&#x89C8;
&#x4E0B;&#x9762;&#x5411;&#x4F60;&#x4ECB;&#x7ECD;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x503C;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x5217;&#x540D;&#xFF09;&#x5C06;&#x4F1A;&#x505A;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x4F7F;&#x7528;&#xFF1A;

&#x5C06;&#x6570;&#x636E;&#x9006;&#x900F;&#x89C6;&#xFF08;unpivot&#xFF09;

&#x5982;&#x679C;&#x6570;&#x636E;&#x662F;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x6240;&#x6709;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x9006;&#x900F;&#x89C6;&#xFF0C;&#x8FDE;&#x540C;&#x6807;&#x8BC6;&#x5B57;&#x6BB5;&#x548C;&#x5206;&#x7C7B;&#x5B57;&#x6BB5;&#x521B;&#x5EFA;&#x89C6;&#x56FE;&#x3002;-&#x5982;&#x679C;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x662F;&#x975E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#xFF0C;&#x8BF7;&#x8DF3;&#x8FC7;&#x6B64;&#x6B65;&#x3002;

&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;

&#x8BAD;&#x7EC3;&#x8868;&#x5C06;&#x6570;&#x636E;&#x89C6;&#x56FE;&#x53D8;&#x5316;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x3002;

&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;

&#x4F7F;&#x7528;-nbclassify&#xFF0C;nbprobabilities-&#x6216;&#x5C06;-nbclassify-&#x548C;-nbprobabilities-&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;
&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;1---&#x5C0F;&#x89C4;&#x6A21;&#x6570;&#x636E;
&#x4F8B;&#x5B50;&#x5C06;&#x4ECE;&#x5305;&#x542B;&#x8303;&#x5F0F;&#x5316;&#x6570;&#x636E;&#x7684;&#x793A;&#x4F8B;&#x8868;-classexample-&#x5F00;&#x59CB;&#xFF0C;&#x901A;&#x8FC7;&#x56DB;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x6B65;&#x9AA4;&#x5B8C;&#x6210;&#xFF1A;
&#x8868;-classexample-&#x4E2D;&#x7684;&#x6570;&#x636E;
-id--class--a1--a2--a3
-----------------------
--1--c1------1---2---3
--2--c1------1---4---3
--3--c2------0---2---2
--4--c1------1---2---1
--5--c2------1---2---2
--6--c2------0---1---3
&#x5C06;&#x6570;&#x636E;&#x9006;&#x900F;&#x89C6;&#xFF08;unpivot&#xFF09;
&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x7528;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x9700;&#x8981;&#x5BF9;-classexample-&#x4E2D;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x9006;&#x900F;&#x89C6;&#x64CD;&#x4F5C;&#x3002;
&#x5728;&#x4E0B;&#x9762;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x7684;&#x9879;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A;&#x65B0;&#x589E;&#x7684;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x7684;&#x503C;&#x4F7F;&#x7528;&#x3002;&#x4E60;&#x60EF;&#x4E0A;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4E0E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x8868;&#x5217;&#x540D;&#x76F8;&#x540C;&#x3002;-&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x66F4;&#x5BB9;&#x6613;&#x7684;&#x4ECE;&#x547D;&#x4EE4;&#x4E2D;&#x627E;&#x5230;&#x8FD9;&#x4E9B;&#x503C;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4EE5;&#x5927;&#x5199;&#x65B9;&#x5F0F;&#x4E66;&#x5199;&#x3002;
create-view-classexampleunpivot-as
select-id-class
--unnestarraya1-a2-a3-as-attr
--unnestarraya1a2a3-as-value
from-classexample
&#x4F7F;&#x7528;&#x540E;&#x9762;&#x7684;-sql-&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x975E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x6570;&#x636E;-select--from-classexampleunpivot&#xFF1A;
-id--class--attr--value
------------------------
--2--c1-----a1--------1
--2--c1-----a2--------2
--2--c1-----a3--------1
--4--c2-----a1--------1
--4--c2-----a2--------2
--4--c2-----a3--------2
--6--c2-----a1--------0
--6--c2-----a2--------1
--6--c2-----a3--------3
--1--c1-----a1--------1
--1--c1-----a2--------2
--1--c1-----a3--------3
--3--c1-----a1--------1
--3--c1-----a2--------4
--3--c1-----a3--------3
--5--c2-----a1--------0
--5--c2-----a2--------2
--5--c2-----a3--------2
18-rows
&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;
&#x4E0B;&#x9762;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x7684;&#x9879;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x805A;&#x5408;&#x7684;&#x9879;&#x3002;&#x901A;&#x8FC7;&#x6570;&#x7EC4;&#x5F62;&#x5F0F;&#x4F20;&#x9012;&#x7ED9;-pivtosum-&#x51FD;&#x6570;&#x7684;&#x9879;&#x5FC5;&#x987B;&#x548C;&#x539F;&#x59CB;&#x6570;&#x636E;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x548C;&#x6570;&#x91CF;&#x76F8;&#x7B26;&#x3002;-&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x5206;&#x7C7B;&#x4E3A;-c1-&#x548C;-c2&#xFF1A;
create-table-classexamplenbtraining-as
select-attr-value
--pivotsumarrayc1-c2-class-1-as-classcount
from---classexampleunpivot
group-by-attr-value
distributed-by-attr
&#x4E0B;&#x9762;&#x662F;&#x8BAD;&#x7EC3;&#x8868;&#x7684;&#x7ED3;&#x679C;&#xFF1A;
-attr--value--classcount
--------------------------
-a3--------1--10
-a3--------3--21
-a1--------1--31
-a1--------0--02
-a3--------2--02
-a2--------2--22
-a2--------4--10
-a2--------1--01
8-rows
&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;
create-view-classexamplenbclassifyfunctions-as
select-attr-value-classcount
--arrayc1-c2-as-classes
--sumclasscount-over-wainteger-as-classtotal
--countdistinct-value-over-wa-as-attrcount
from-classexamplenbtraining
window-wa-as-partition-by-attr
&#x4E0B;&#x9762;&#x662F;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x7684;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#xFF1A;
-attr-value--classcount-classes--classtotal-attrcount
-------------------------------------------------------
-a2-------2--22-------c1c2--33----------------3
-a2-------4--10-------c1c2--33----------------3
-a2-------1--01-------c1c2--33----------------3
-a1-------0--02-------c1c2--33----------------2
-a1-------1--31-------c1c2--33----------------2
-a3-------2--02-------c1c2--33----------------3
-a3-------3--21-------c1c2--33----------------3
-a3-------1--10-------c1c2--33----------------3
8-rows
&#x4F7F;&#x7528;-nbclassify-&#x5BF9;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x4EE5;&#x53CA;&#x4F7F;&#x7528;-nbprobabilities-&#x663E;&#x793A;&#x5F52;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;
&#x5728;&#x51C6;&#x5907;&#x597D;&#x6458;&#x8981;&#x89C6;&#x56FE;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x4E3A;&#x5BF9;&#x65B0;&#x8BB0;&#x5F55;&#x5206;&#x7C7B;&#x7684;&#x57FA;&#x7EBF;&#x4E86;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x901A;&#x8FC7;-nbclassify-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6765;&#x9884;&#x6D4B;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5C5E;&#x4E8E;-c1-&#x8FD8;&#x662F;-c2&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
from-classexamplenbclassifyfunctions
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E0B;&#x9762;&#x7B26;&#x5408;&#x671F;&#x671B;&#x7684;&#x5355;&#x884C;&#x7ED3;&#x679C;&#xFF1A;
class
-------
c2
1-row
&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-nbprobabilities-&#x663E;&#x793A;&#x5404;&#x4E2A;&#x5217;&#x522B;&#x7684;&#x6982;&#x7387;&#x3002;&#x5728;&#x51C6;&#x5907;&#x597D;&#x89C6;&#x56FE;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x4E3A;&#x5BF9;&#x65B0;&#x8BB0;&#x5F55;&#x5206;&#x7C7B;&#x7684;&#x57FA;&#x7EBF;&#x4E86;&#x3002;-&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x901A;&#x8FC7;-nbprobabilities-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6765;&#x9884;&#x6D4B;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5C5E;&#x4E8E;-c1-&#x8FD8;&#x662F;-c2&#x3002;
select-nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-classexamplenbclassifyfunctions
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x60C5;&#x51B5;&#xFF0C;&#x7B2C;&#x4E00;&#x503C;&#x662F;-c1-&#x7684;&#x6982;&#x7387;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x503C;&#x662F;-c2-&#x7684;&#x6982;&#x7387;&#xFF1A;
probability
-------------
-0406
1-row
&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x540C;&#x65F6;&#x663E;&#x793A;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x548C;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-classexamplenbclassify
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x5982;&#x4E0B;&#x7ED3;&#x679C;&#xFF1A;
-class--probability
--------------------
----c2--0406
-1-row
&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x76F8;&#x6BD4;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x66F4;&#x52A0;&#x5168;&#x9762;&#xFF0C;&#x56E0;&#x6B64;&#x9884;&#x6D4B;&#x6548;&#x679C;&#x66F4;&#x597D;&#x3002;-&#x5F53;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;-nbclassify-&#x548C;-nbprobabilities-&#x7684;&#x5F52;&#x7C7B;&#x51C6;&#x786E;&#x5EA6;&#x5C06;&#x4F1A;&#x663E;&#x8457;&#x63D0;&#x9AD8;&#x3002;
&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;2-&#x2013;-&#x5929;&#x6C14;&#x548C;&#x6237;&#x5916;&#x8FD0;&#x52A8;
&#x5728;&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x5C06;&#x4F1A;&#x6839;&#x636E;&#x5929;&#x60C5;&#x51B5;&#x6765;&#x8BA1;&#x7B97;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x9AD8;&#x5C14;&#x592B;&#x7403;&#x6216;&#x8005;&#x7F51;&#x7403;&#x3002;-&#x8868;-weatherexample-&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E9B;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x3002;&#x8868;&#x7684;&#x6807;&#x793A;&#x5B57;&#x6BB5;&#x662F;-day&#x3002;-&#x7528;&#x4E8E;&#x5206;&#x7C7B;&#x7684;&#x5B57;&#x6BB5;-play-&#x5305;&#x542B;&#x4E24;&#x4E2A;&#x503C;&#xFF1A;yes-&#x6216;-no&#x3002;&#x5929;&#x6C14;&#x5305;&#x542B;&#x56DB;&#x79CD;&#x5C5E;&#x6027;&#xFF1A;&#x72B6;&#x51B5;&#xFF0C;&#x6E29;&#x5EA6;&#xFF0C;&#x6E7F;&#x5EA6;&#xFF0C;&#x98CE;&#x529B;&#x3002;-&#x6570;&#x636E;&#x6309;&#x7167;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x3002;
-day--play--outlook---temperature--humidity--wind
----------------------------------------------------
-2----no----sunny-----hot----------high------strong
-4----yes---rain------mild---------high------weak
-6----no----rain------cool---------normal----strong
-8----no----sunny-----mild---------high------weak
10----yes---rain------mild---------normal----weak
12----yes---overcast--mild---------high------strong
14----no----rain------mild---------high------strong
-1----no----sunny-----hot----------high------weak
-3----yes---overcast--hot----------high------weak
-5----yes---rain------cool---------normal----weak
-7----yes---overcast--cool---------normal----strong
-9----yes---sunny-----cool---------normal----weak
11----yes---sunny-----mild---------normal----strong
13----yes---overcast--hot----------normal----weak
-14-rows
&#x7531;&#x4E8E;&#x8FD9;&#x91CC;&#x7684;&#x6570;&#x636E;&#x662F;&#x6309;&#x7167;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x56DB;&#x4E2A;&#x6B65;&#x9AA4;&#x90FD;&#x662F;&#x9700;&#x8981;&#x7684;&#x3002;
&#x9006;&#x900F;&#x89C6;&#x5316;&#x6570;&#x636E;
create-view-weatherexampleunpivot-as
select-day-play
--unnestarrayoutlooktemperature-humiditywind-as-attr
--unnestarrayoutlooktemperaturehumiditywind-as-value
from-weatherexample
&#x8BF7;&#x6CE8;&#x610F;&#x4E0A;&#x9762;&#x5355;&#x5F15;&#x53F7;&#x7684;&#x4F7F;&#x7528;&#x3002;
&#x8BED;&#x53E5;-select--from-weatherexampleunpivot-&#x5C06;&#x4F1A;&#x663E;&#x793A;&#x7ECF;&#x8FC7;&#x9006;&#x900F;&#x89C6;&#x5316;&#x540E;&#x7684;&#x975E;&#x8303;&#x5F0F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6570;&#x636E;&#x4E00;&#x5171;-56-&#x884C;&#x3002;
-day--play--attr---------value
----------------------------------
---2--no----outlook------sunny
---2--no----temperature--hot
---2--no----humidity-----high
---2--no----wind---------strong
---4--yes---outlook------rain
---4--yes---temperature--mild
---4--yes---humidity-----high
---4--yes---wind---------weak
---6--no----outlook------rain
---6--no----temperature--cool
---6--no----humidity-----normal
---6--no----wind---------strong
---8--no----outlook------sunny
---8--no----temperature--mild
---8--no----humidity-----high
---8--no----wind---------weak
--10--yes---outlook------rain
--10--yes---temperature--mild
--10--yes---humidity-----normal
--10--yes---wind---------weak
--12--yes---outlook------overcast
--12--yes---temperature--mild
--12--yes---humidity-----high
--12--yes---wind---------strong
--14--no----outlook------rain
--14--no----temperature--mild
--14--no----humidity-----high
--14--no----wind---------strong
---1--no----outlook------sunny
---1--no----temperature--hot
---1--no----humidity-----high
---1--no----wind---------weak
---3--yes---outlook------overcast
---3--yes---temperature--hot
---3--yes---humidity-----high
---3--yes---wind---------weak
---5--yes---outlook------rain
---5--yes---temperature--cool
---5--yes---humidity-----normal
---5--yes---wind---------weak
---7--yes---outlook------overcast
---7--yes---temperature--cool
---7--yes---humidity-----normal
---7--yes---wind---------strong
---9--yes---outlook------sunny
---9--yes---temperature--cool
---9--yes---humidity-----normal
---9--yes---wind---------weak
--11--yes---outlook------sunny
--11--yes---temperature--mild
--11--yes---humidity-----normal
--11--yes---wind---------strong
--13--yes---outlook------overcast
--13--yes---temperature--hot
--13--yes---humidity-----normal
--13--yes---wind---------weak
--56-rows
&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;
create-table-weatherexamplenbtraining-as
select-attr-value-pivotsumarrayyesno-play-1-as-classcount
from-weatherexampleunpivot
group-by-attr-value
distributed-by-attr
&#x8BED;&#x53E5;-select--from-weatherexamplenbtraining-&#x663E;&#x793A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x4E00;&#x5171;-10-&#x884C;&#xFF1A;
-attr---------value-----classcount
------------------------------------
outlook-------rain------32
humidity------high------34
outlook-------overcast--40
humidity------normal----61
outlook-------sunny-----23
wind----------strong----33
temperature---hot-------22
temperature---cool------31
temperature---mild------42
wind----------weak------62
10-rows
&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;
create-view-weatherexamplenbclassifyfunctions-as
select-attr-value-classcount
--arrayyesno-as-classes
--sumclasscount-over-wainteger-as-classtotal
--countdistinct-value-over-wa-as-attrcount
from-weatherexamplenbtraining
window-wa-as-partition-by-attr
&#x8BED;&#x53E5;-select--from-weatherexamplenbclassifyfunction-&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;-10-&#x884C;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x3002;
attr----------value---classcount-classes--classtotal-attrcount
-----------------------------------------------------------------
temperature--mild-----42-------yesno-95---------------3
temperature--cool-----31-------yesno-95---------------3
temperature--hot------22-------yesno-95---------------3
wind---------weak-----62-------yesno-95---------------2
wind---------strong---33-------yesno-95---------------2
humidity-----high-----34-------yesno-95---------------2
humidity-----normal---61-------yesno-95---------------2
outlook------sunny----23-------yesno-95---------------3
outlook------overcast-40-------yesno-95---------------3
outlook------rain-----32-------yesno-95---------------3
10-rows
&#x4F7F;&#x7528;-nbclassify&#xFF0C;nbprobabilities-&#x6216;&#x5C06;-nbclassify-&#x548C;-nbprobabilities-&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;
&#x9996;&#x5148;&#x8981;&#x51B3;&#x5B9A;&#x5BF9;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x4F8B;&#x5982;&#x5BF9;&#x4E0B;&#x9762;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;
temperature--wind--humidity--outlook
-------------------------------------
cool---------weak--high------overcast
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x3002;&#x7ED3;&#x679C;&#x5C06;&#x4F1A;&#x7ED9;&#x51FA;&#x5224;&#x65AD;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;-yes-&#x548C;-no-&#x7684;&#x6982;&#x7387;&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-weatherexamplenbclassifyfunctions
where
--attr--temperature-and-value--cool-or
--attr--wind--------and-value--weak-or
--attr--humidity----and-value--high-or
--attr--outlook-----and-value--overcast
&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF1A;
class----------------probability
----------------------------------------------
-yes----08581033539207260141896646079274
1-row
&#x8981;&#x5BF9;&#x4E00;&#x7EC4;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x4ED6;&#x4EEC;&#x5B58;&#x50A8;&#x5230;&#x8868;&#x4E2D;&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x4F8B;&#x5982;&#x4E0B;&#x9762;&#x7684;&#x8868;-t1-&#x5305;&#x542B;&#x4E86;&#x8981;&#x5206;&#x7C7B;&#x7684;&#x8BB0;&#x5F55;&#xFF1A;
-day--outlook---temperature--humidity---wind
----------------------------------------------
--15--sunny-----mild---------high------strong
--16--rain------cool---------normal----strong
--17--overcast--hot----------normal----weak
--18--rain------hot----------high------weak
4-rows
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7528;&#x6765;&#x5BF9;&#x6574;&#x5F20;&#x8868;&#x8BA1;&#x7B97;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x3002;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x5BF9;&#x8868;&#x4E2D;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x5224;&#x65AD;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;-yes-&#x548C;-no-&#x7684;&#x6982;&#x7387;&#x3002;-&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;-nbclassify-&#x548C;-nbprobabilities-&#x4E24;&#x4E2A;&#x805A;&#x5408;&#x51FD;&#x6570;&#x90FD;&#x53C2;&#x4E0E;&#x4E86;&#x8FD0;&#x7B97;&#x3002;
select-t1day
-------t1temperature-t1wind-t1humidity-t1outlook
-------nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-t1-weatherexamplenbclassifyfunctions
where
--attr--temperature-and-value--t1temperature-or
--attr--wind--------and-value--t1wind-or
--attr--humidity----and-value--t1humidity-or
--attr--outlook-----and-value--t1outlook
group-by-t1day-t1temperature-t1wind-t1humidity-t1outlook
&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x56DB;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x5206;&#x522B;&#x5BF9;&#x5E94;-t1-&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x3002;
day-temp-wind----humidity--outlook---class--probability
---------------------------------------------------------
15--mild-strong--high------sunny-----no-----02446941323345820755305867665418
16--cool-strong--normal----rain------yes----07514719978091190248528002190881
18--hot--weak----high------rain------no-----04463875388901310553612461109869
17--hot--weak----normal----overcast--yes----0929719264278800702807357212004
4-rows
"><h5 id="pic2"> &#x56FE;2&#xFF1A;&#x5206;&#x53D1;&#x7279;&#x5B9A;&#x8282;&#x70B9;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;</h5>
<h3 id="&#x7406;&#x89E3;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;">&#x7406;&#x89E3;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;</h3>
<p>&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5C31;&#x662F; HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E3A;&#x4E86;&#x8BA1;&#x7B97;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x64CD;&#x4F5C;&#x7684;&#x6B65;&#x9AA4;&#x3002;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x6B65;&#x9AA4;&#xFF08;&#x8282;&#x70B9;&#xFF09;&#x4EE3;&#x8868;&#x4E86;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x8868;&#x626B;&#x63CF;&#xFF0C;&#x8FDE;&#x63A5;&#x8FD0;&#x7B97;&#xFF0C;&#x805A;&#x5408;&#x8FD0;&#x7B97;&#x6216;&#x8005;&#x6392;&#x5E8F;&#x64CD;&#x4F5C;&#x3002;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x8BFB;&#x53D6;&#x548C;&#x6267;&#x884C;&#x90FD;&#x662F;&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x7684;&#x3002;</p>
<p>&#x9664;&#x4E86;&#x5E38;&#x89C1;&#x7684;&#x64CD;&#x4F5C;&#x5916;&#xFF0C;HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x8FD8;&#x652F;&#x6301;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x7684;&#x64CD;&#x4F5C;&#xFF1A;motion &#x8282;&#x70B9;&#xFF08;&#x79FB;&#x52A8;&#xFF09;&#x3002;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#x5C31;&#x662F;&#x67E5;&#x8BE2;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5728;&#x4E0D;&#x540C;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x76F4;&#x63A5;&#x79FB;&#x52A8;&#x6570;&#x636E;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x9700;&#x8981;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x7684;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x8FD0;&#x884C;&#x5728;&#x7279;&#x5B9A;&#x8282;&#x70B9;&#x7684;&#x67E5;&#x8BE2;&#x662F;&#x4E0D;&#x9700;&#x8981;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x7684;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x80FD;&#x8BA9;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x83B7;&#x5F97;&#x6700;&#x5927;&#x7684;&#x5E76;&#x884C;&#x7C92;&#x5EA6;&#xFF0C;HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x901A;&#x8FC7;&#x5C06;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x8FDB;&#x884C;&#x5207;&#x7247;&#x6765;&#x8FDB;&#x4E00;&#x6B65;&#x5206;&#x89E3;&#x4EFB;&#x52A1;&#x3002;&#x6BCF;&#x4E2A;&#x5207;&#x7247;&#x90FD;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x4E00;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x72EC;&#x7ACB;&#x6267;&#x884C;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5B50;&#x96C6;&#x3002;&#x5F53;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#x65F6;&#xFF0C;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5C31;&#x662F;&#x88AB;&#x5206;&#x7247;&#x7684;&#x3002;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#x7684;&#x4E0A;&#x4E0B;&#x4E24;&#x90E8;&#x5206;&#x5404;&#x81EA;&#x662F;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x5206;&#x7247;&#x3002;</p>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4E24;&#x5F20;&#x8868;&#x8FDE;&#x63A5;&#x7684;&#x8FD0;&#x7B97;&#xFF1A;</p>
<pre class="language-"><code>SELECT customer, amount
FROM sales JOIN customer USING (cust_id)
WHERE dateCol = &apos;04-30-2008&apos;;
</code></pre><p><a href="#pic3">&#x56FE;3</a> &#x5C55;&#x793A;&#x4E86;&#x4E0A;&#x9762;&#x67E5;&#x8BE2;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x3002;&#x6BCF;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x90FD;&#x4F1A;&#x6536;&#x5230;&#x4E00;&#x4EFD;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x62F7;&#x8D1D;&#xFF0C;&#x5E76;&#x4E14;&#x5E76;&#x884C;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x91CD;&#x5206;&#x5E03;&#x7684;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#xFF0C;&#x8BE5;&#x8282;&#x70B9;&#x7528;&#x6765;&#x5728;&#x4E0D;&#x540C;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x76F4;&#x63A5;&#x79FB;&#x52A8;&#x8BB0;&#x5F55;&#x4F7F;&#x5F97;&#x8FDE;&#x63A5;&#x8FD0;&#x7B97;&#x5F97;&#x610F;&#x5B8C;&#x6210;&#x3002;&#x8FD9;&#x91CC;&#x4E4B;&#x6240;&#x6709;&#x9700;&#x8981;&#x6570;&#x636E;&#x91CD;&#x5206;&#x5E03;&#x7684;&#x8282;&#x70B9;&#xFF0C;&#x662F;&#x56E0;&#x4E3A; customer &#x8868;&#xFF08;&#x7528;&#x6237;&#x8868;&#xFF09;&#x7684;&#x6570;&#x636E;&#x5206;&#x5E03;&#x662F;&#x901A;&#x8FC7; cust_id &#x6765;&#x8FDB;&#x884C;&#x7684;&#xFF0C;&#x800C; sales &#x8868;&#xFF08;&#x9500;&#x552E;&#x8868;&#xFF09;&#x662F;&#x6839;&#x636E; sale_id &#x8FDB;&#x884C;&#x7684;&#x3002;&#x4E3A;&#x4E86;&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x64CD;&#x4F5C;&#xFF0C;sales &#x8868;&#x7684;&#x6570;&#x636E;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x6839;&#x636E; cust_id &#x6765;&#x5206;&#x5E03;&#x3002;&#x56E0;&#x6B64;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5728;&#x6570;&#x636E;&#x91CD;&#x5206;&#x5E03;&#x8282;&#x70B9;&#x4E24;&#x4FA7;&#x88AB;&#x5207;&#x7247;&#xFF0C;&#x5206;&#x522B;&#x662F; slice 1 &#x548C; slice 2&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x8FD8;&#x5305;&#x62EC;&#x4E86;&#x53E6;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#xFF1A;&#x6570;&#x636E;&#x805A;&#x5408;&#x8282;&#x70B9;&#x3002;&#x6570;&#x636E;&#x805A;&#x5408;&#x8282;&#x70B9;&#x662F;&#x4E3A;&#x4E86;&#x8BA9;&#x6240;&#x6709;&#x7684;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x5C06;&#x7ED3;&#x679C;&#x53D1;&#x9001;&#x7ED9;&#x4E3B;&#x8282;&#x70B9;&#xFF0C;&#x6700;&#x540E;&#x4ECE;&#x4E3B;&#x8282;&#x70B9;&#x53D1;&#x9001;&#x7ED9;&#x7528;&#x6237;&#x5F15;&#x5165;&#x7684;&#x3002;&#x7531;&#x4E8E;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x603B;&#x662F;&#x5728;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#x51FA;&#x73B0;&#x65F6;&#x88AB;&#x5207;&#x7247;&#xFF0C;&#x8FD9;&#x4E2A;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x8FD8;&#x5305;&#x62EC;&#x4E86;&#x4E00;&#x4E2A;&#x9690;&#x85CF;&#x7684;&#x5207;&#x7247;&#xFF0C;&#x8BE5;&#x5207;&#x7247;&#x4F4D;&#x4E8E;&#x67E5;&#x8BE2;&#x7684;&#x6700;&#x9876;&#x5C42;&#xFF08;slice3&#xFF09;&#x3002;&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x5305;&#x542B;&#x6570;&#x636E;&#x805A;&#x5408;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre class="language-"><code>CREATE TABLE x AS
SELECT ...
</code></pre><p>&#x8BED;&#x53E5;&#x4E0D;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x805A;&#x5408;&#x79FB;&#x52A8;&#x8282;&#x70B9;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x6570;&#x636E;&#x5C06;&#x4F1A;&#x79FB;&#x52A8;&#x5230;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x6570;&#x636E;&#x8868;&#x4E2D;&#xFF0C;&#x800C;&#x975E;&#x4E3B;&#x8282;&#x70B9;&#x3002;</p>
<p><img src="assets/figure-3-query-slice-plan.jpg" alt=""></p>
<h5 id="&#x56FE;3&#xFF1A;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5207;&#x7247;
&#x7406;&#x89E3;&#x5E76;&#x884C;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x6267;&#x884C;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5C06;&#x4F1A;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x7A0B;&#x6765;&#x5904;&#x7406;&#x67E5;&#x8BE2;&#x7684;&#x76F8;&#x5173;&#x5DE5;&#x4F5C;&#x3002;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x67E5;&#x8BE2;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x88AB;&#x79F0;&#x4E3A;&#x67E5;&#x8BE2;&#x5206;&#x6D3E;&#x5668;&#xFF08;qd&#xFF09;&#x3002;qd-&#x8D1F;&#x8D23;&#x521B;&#x5EFA;&#x548C;&#x5206;&#x6D3E;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x3002;&#x5B83;&#x540C;&#x65F6;&#x8D1F;&#x8D23;&#x6536;&#x96C6;&#x548C;&#x5C55;&#x793A;&#x6700;&#x7EC8;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x3002;-&#x5728;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x67E5;&#x8BE2;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x88AB;&#x79F0;&#x4F5C;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x5668;&#xFF08;qe&#xFF09;&#x3002;qe-&#x8D1F;&#x8D23;&#x6267;&#x884C;&#x5206;&#x914D;&#x7ED9;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5E76;&#x901A;&#x8FC7;&#x901A;&#x4FE1;&#x6A21;&#x5757;&#x5C06;&#x4E2D;&#x95F4;&#x7ED3;&#x679C;&#x53D1;&#x9001;&#x7ED9;&#x5176;&#x5B83;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x3002;
&#x6BCF;&#x4E2A;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x5207;&#x7247;&#x90FD;&#x81F3;&#x5C11;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x4E0E;&#x4E4B;&#x5BF9;&#x5E94;&#x8D1F;&#x8D23;&#x6267;&#x884C;&#x3002;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x8D4B;&#x4E88;&#x4E0D;&#x4F1A;&#x4E92;&#x76F8;&#x4F9D;&#x8D56;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7247;&#x6BB5;&#x3002;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x90FD;&#x4F1A;&#x6709;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x5E76;&#x884C;&#x5730;&#x53C2;&#x4E0E;&#x67E5;&#x8BE2;&#x7684;&#x5904;&#x7406;&#x5DE5;&#x4F5C;&#x3002;
&#x5728;&#x4E0D;&#x540C;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x4E0A;&#x6267;&#x884C;&#x76F8;&#x540C;&#x5207;&#x7247;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x88AB;&#x79F0;&#x4E3A;&#x8FDB;&#x7A0B;&#x7EC4;&#x3002;&#x968F;&#x7740;&#x4E00;&#x90E8;&#x5206;&#x5DE5;&#x4F5C;&#x7684;&#x5B8C;&#x6210;&#xFF0C;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x5C06;&#x4F1A;&#x4ECE;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7EC4;&#x6D41;&#x5411;&#x5176;&#x5B83;&#x8FDB;&#x7A0B;&#x7EC4;&#x3002;&#x8FD9;&#x79CD;&#x5728;&#x6570;&#x636E;&#x8282;&#x70B9;&#x4E4B;&#x95F4;&#x7684;&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;&#x88AB;&#x79F0;&#x4E3A;&#x4E92;&#x8054;&#x7EC4;&#x4EF6;&#x3002;
&#x56FE;4-&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5BF9;&#x4E8E;-&#x56FE;3-&#x4E2D;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x548C;&#x4E24;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x4E0A;&#x7684;&#x8FDB;&#x7A0B;&#x5206;&#x5E03;&#x60C5;&#x51B5;&#x3002;

-&#x56FE;4&#xFF1A;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;
&#x67E5;&#x8BE2;&#x7684;&#x5B9A;&#x4E49;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x67E5;&#x8BE2;&#x547D;&#x4EE4;&#x662F;&#x57FA;&#x4E8E;-postgresql-&#x5F00;&#x53D1;&#xFF0C;&#x800C;-postgresql-&#x662F;&#x5B9E;&#x73B0;&#x4E86;-sql-&#x6807;&#x51C6;&#x3002;
&#x672C;&#x5C0F;&#x7ED3;&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x5728;-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E2D;&#x7F16;&#x5199;-sql-&#x67E5;&#x8BE2;&#x3002;

sql-&#x8BCD;&#x6CD5;&#x5143;&#x7D20;
sql-&#x503C;&#x8868;&#x8FBE;&#x5F0F;

sql-&#x8BCD;&#x6CD5;&#x5143;&#x7D20;
sql-&#x662F;&#x4E00;&#x79CD;&#x6807;&#x51C6;&#x5316;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8BBF;&#x95EE;&#x8BED;&#x8A00;&#x3002;&#x4E0D;&#x540C;&#x5143;&#x7D20;&#x7EC4;&#x6784;&#x6210;&#x7684;&#x8BED;&#x8A00;&#x5141;&#x8BB8;&#x63A7;&#x5236;&#x6570;&#x636E;&#x5B58;&#x50A8;&#xFF0C;&#x6570;&#x636E;&#x83B7;&#x53D6;&#xFF0C;&#x6570;&#x636E;&#x5206;&#x6790;&#xFF0C;-&#x6570;&#x636E;&#x53D8;&#x6362;&#x548C;&#x6570;&#x636E;&#x4FEE;&#x6539;&#x7B49;&#x3002;&#x4F60;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x4F7F;&#x7528;-sql-&#x547D;&#x4EE4;&#x6765;&#x7F16;&#x5199;-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x7406;&#x89E3;&#x7684;&#x67E5;&#x8BE2;&#x548C;&#x547D;&#x4EE4;&#x3002;sql-&#x67E5;&#x8BE2;&#x7531;&#x4E00;&#x6761;&#x6216;&#x591A;&#x6761;&#x547D;&#x4EE4;&#x987A;&#x5E8F;&#x7EC4;&#x6210;&#x3002;&#x6BCF;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x662F;&#x7531;&#x591A;&#x4E2A;&#x8BCD;&#x6CD5;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x6B63;&#x786E;&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#x6784;&#x6210;&#x7684;&#xFF0C;-&#x6BCF;&#x6761;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x5206;&#x53F7;&#xFF08;&#xFF09;&#x5206;&#x9694;&#x3002;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5728;-postgresql-&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#x4E0A;&#x8FDB;&#x884C;&#x4E86;&#x4E00;&#x4E9B;&#x6269;&#x5C55;&#xFF0C;&#x5E76;&#x6839;&#x636E;&#x5206;&#x5E03;&#x5F0F;&#x73AF;&#x5883;&#x589E;&#x52A0;&#x4E86;&#x90E8;&#x5206;&#x7684;&#x9650;&#x5236;&#x3002;&#x5982;&#x679C;&#x60A8;&#x5E0C;&#x671B;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x5173;&#x4E8E;-postgresql-&#x4E2D;&#x7684;-sql-&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x548C;&#x6982;&#x5FF5;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x53C2;&#x8003;-postgresql82&#x82F1;&#x6587;&#x624B;&#x518C;&#x4E2D;sql&#x8BED;&#x6CD5;&#x7AE0;&#x8282;-&#x6216;&#x8005;-postgresql93&#x4E2D;&#x6587;&#x624B;&#x518C;&#x4E2D;-sql-&#x8BED;&#x6CD5;&#x7AE0;&#x8282;&#x3002;&#x7531;&#x4E8E;&#x4E2D;&#x6587;&#x7F51;&#x7AD9;&#x6CA1;&#x6709;-82-&#x624B;&#x518C;&#xFF0C;&#x8BF7;&#x60A8;&#x6CE8;&#x610F;&#x76F8;&#x5173;&#x8D44;&#x6599;&#x4E2D;&#x7684;&#x8BED;&#x6CD5;&#x53D8;&#x52A8;&#x3002;
sql-&#x503C;&#x8868;&#x8FBE;&#x5F0F;
sql-&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x503C;&#xFF0C;&#x7B26;&#x53F7;&#xFF0C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;sql-&#x51FD;&#x6570;&#x548C;&#x6570;&#x636E;&#x7EC4;&#x6210;&#x3002;&#x8868;&#x8FBE;&#x5F0F;&#x901A;&#x8FC7;&#x6BD4;&#x8F83;&#x6570;&#x636E;&#xFF0C;&#x6267;&#x884C;&#x8BA1;&#x7B97;&#x75C5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x3002;&#x8868;&#x8FBE;&#x5F0F;&#x8BA1;&#x7B97;&#x5305;&#x62EC;&#xFF1A;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#xFF0C;&#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x548C;&#x96C6;&#x5408;&#x8FD0;&#x7B97;&#x3002;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7C7B;&#x522B;&#xFF1A;

&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;
&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x5217;&#x5F15;&#x7528;
&#x5E38;&#x4EAE;&#x6216;&#x5B57;&#x9762;&#x503C;
&#x76F8;&#x5173;&#x81EA;&#x67E5;&#x8BE2;
&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;
&#x51FD;&#x6570;&#x8C03;&#x7528;
insert-&#x6216;-update-&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x4E3A;&#x5217;&#x63D0;&#x4F9B;&#x7684;&#x503C;
&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;
&#x5217;&#x5F15;&#x7528;
&#x5728;&#x51FD;&#x6570;&#x4F53;&#x5185;&#x6216;-prepared-&#x8BED;&#x53E5;&#x4E2D;&#x5F15;&#x7528;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;
where-&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x641C;&#x7D22;&#x6761;&#x4EF6;
select-&#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x8FD4;&#x56DE;&#x5217;&#x8868;
&#x7C7B;&#x578B;&#x8F6C;&#x6362;
&#x62EC;&#x53F7;&#x4FDD;&#x62A4;&#x7684;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;

&#x50CF;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x8FD9;&#x6837;&#x7684;-sql-&#x7ED3;&#x6784;&#x867D;&#x7136;&#x5C5E;&#x4E8E;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x4E0E;&#x666E;&#x901A;&#x7684;&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x4E0D;&#x76F8;&#x540C;&#x3002;&#x8BF7;&#x53C2;&#x8003;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x5217;&#x5F15;&#x7528;
&#x5217;&#x5F15;&#x7528;&#x7684;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;
correlationcolumnname
&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;correlation-&#x662F;&#x8868;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF1A;&#x5728;&#x8868;&#x540D;&#x524D;&#x9762;&#x6DFB;&#x52A0;&#x6A21;&#x5F0F;&#x540D;&#xFF09;&#x6216;&#x8005;&#x5B9A;&#x4E49;&#x5728;-from-&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x8868;&#x7684;&#x522B;&#x540D;&#x3002;&#x5982;&#x679C;&#x5217;&#x540D;&#x5728;&#x67E5;&#x8BE2;&#x8BBF;&#x95EE;&#x7684;&#x8868;&#x4E2D;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF0C;&#x90A3;&#x4E48;-correlation-&#x90E8;&#x5206;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x7701;&#x7565;&#x7684;&#x3002;
&#x4F4D;&#x7F6E;&#x53C2;&#x6570;
&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x662F;&#x6307;&#x901A;&#x8FC7;&#x6307;&#x5B9A;&#x4F20;&#x9012;&#x7ED9;-sql-&#x8BED;&#x53E5;&#x6216;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;&#x6765;&#x5F15;&#x7528;&#x7684;&#x53C2;&#x6570;&#x3002;&#x4F8B;&#x5982;&#xFF1A;1-&#x5F15;&#x7528;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;2-&#x5F15;&#x7528;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4F9D;&#x6B64;&#x7C7B;&#x63A8;&#x3002;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x7684;&#x503C;&#x662F;&#x901A;&#x8FC7;&#x5728;-sql-&#x8BED;&#x53E5;&#x7684;&#x5916;&#x90E8;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x6216;&#x8005;&#x901A;&#x8FC7;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x4F20;&#x9012;&#x3002;-&#x4E00;&#x4E9B;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x53E3;&#x5E93;&#x51FD;&#x6570;&#x652F;&#x6301;&#x5728;-sql-&#x547D;&#x4EE4;&#x4E4B;&#x5916;&#x6307;&#x5B9A;&#x6570;&#x503C;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x53C2;&#x6570;&#x5F15;&#x7528;&#x7684;&#x662F;-sql-&#x4E4B;&#x5916;&#x7684;&#x5B9E;&#x9645;&#x503C;&#x3002;
&#x5F15;&#x7528;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x7684;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;
number
&#x793A;&#x4F8B;
create-function-depttext-returns-dept
----as--select--from-dept-where-name--1-
----language-sql
&#x8FD9;&#x91CC;-1-&#x5F15;&#x7528;&#x7684;&#x662F;&#x5728;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x4F20;&#x9012;&#x7ED9;&#x51FD;&#x6570;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x503C;&#x3002;
&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;
&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x4EA7;&#x751F;&#x4E86;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x7C7B;&#x578B;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x6570;&#x7EC4;&#x4E2D;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x5143;&#x7D20;&#x503C;&#xFF1A;
expressionsubscript
&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x591A;&#x4E2A;&#x76F8;&#x8FDE;&#x7684;&#x5143;&#x7D20;&#x503C;&#xFF0C;&#x79F0;&#x4E3A;&#x6570;&#x7EC4;&#x5206;&#x7247;&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;
expressionlowersubscriptuppersubscript
&#x4E0B;&#x6807;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8BE5;&#x8868;&#x8FBE;&#x5F0F;&#x5FC5;&#x987B;&#x8FD4;&#x56DE;&#x6574;&#x6570;&#x503C;&#x7C7B;&#x578B;&#x3002;
&#x5927;&#x90E8;&#x5206;&#x65F6;&#x5019;&#xFF0C;&#x6570;&#x7EC4;&#x8868;&#x8FBE;&#x5F0F;&#x5FC5;&#x987B;&#x5728;&#x62EC;&#x53F7;&#x4E2D;&#x4F7F;&#x7528;&#x3002;&#x5982;&#x679C;&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;&#x8BBF;&#x95EE;&#x5217;&#x5F15;&#x7528;&#x6216;&#x8005;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x62EC;&#x53F7;&#x662F;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x7684;&#x3002;-&#x5BF9;&#x4E8E;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8FDE;&#x63A5;&#x591A;&#x4E2A;&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;
mytablearraycolumn4
mytabletwodcolumn1734
11042
arrayfunctionab42
&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;
&#x5982;&#x679C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#xFF09;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x9009;&#x62E9;&#x8BE5;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x4E2D;&#x7684;&#x7279;&#x5B9A;&#x6210;&#x5458;&#x503C;&#xFF1A;
expressionfieldname
&#x8BB0;&#x5F55;&#x8868;&#x8FBE;&#x5F0F;&#x901A;&#x5E38;&#x9700;&#x8981;&#x5728;&#x62EC;&#x53F7;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x88AB;&#x8BBF;&#x95EE;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x8868;&#x5F15;&#x7528;&#x6216;&#x8005;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x62EC;&#x53F7;&#x662F;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x7684;&#x3002;&#x793A;&#x4F8B;&#xFF1A;
mytablemycolumn
1somecolumn
rowfunctionabcol3
&#x4E00;&#x4E2A;&#x9650;&#x5B9A;&#x7684;&#x5217;&#x5F15;&#x7528;&#x662F;&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7279;&#x4F8B;&#x3002;
&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;
&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x7684;&#x51E0;&#x79CD;&#x8BED;&#x6CD5;&#xFF1A;
expression-operator-expressionbinary-infix-operator
operator-expressionunary-prefix-operator
expression-operatorunary-postfix-operator
&#x793A;&#x4F8B;&#x4E2D;&#x7684;-operator-&#x5B9E;&#x9645;&#x662F;&#x8FD0;&#x7B97;&#x7B26;&#x7B26;&#x53F7;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;and&#xFF0C;or&#xFF0C;-&#x7B49;&#x3002;&#x8FD0;&#x7B97;&#x7B26;&#x4E5F;&#x6709;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;
operatorschemaoperatorname
&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x4EE5;&#x53CA;&#x4ED6;&#x4EEC;&#x7A76;&#x7ADF;&#x662F;&#x4E00;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#x8FD8;&#x662F;&#x4E8C;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x53D6;&#x51B3;&#x4E8E;&#x7CFB;&#x7EDF;&#x548C;&#x7528;&#x6237;&#x7684;&#x5B9A;&#x4E49;&#x3002;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x5185;&#x5EFA;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x51FD;&#x6570;&#x8C03;&#x7528;
&#x51FD;&#x6570;&#x8C03;&#x7528;&#x7684;&#x8BED;&#x6CD5;&#x662F;&#x51FD;&#x6570;&#x540D;&#xFF08;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF1A;&#x5728;&#x51FD;&#x6570;&#x540D;&#x5F00;&#x5934;&#x6DFB;&#x52A0;&#x6A21;&#x5F0F;&#x540D;&#xFF09;&#x8DDF;&#x968F;&#x7740;&#x4F7F;&#x7528;&#x62EC;&#x53F7;&#x4FDD;&#x62A4;&#x7684;&#x53C2;&#x6570;&#x5217;&#x8868;&#xFF1A;
function-expression--expression--
&#x4E0B;&#x9762;&#x793A;&#x4F8B;&#x662F;&#x901A;&#x8FC7;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x8BA1;&#x7B97;2&#x7684;&#x5E73;&#x65B9;&#x6839;&#xFF1A;
sqrt2
&#x53C2;&#x8003;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x805A;&#x96C6;&#x8868;&#x8FBE;&#x5F0F;
&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x6307;&#x5BF9;&#x4E8E;&#x67E5;&#x8BE2;&#x9009;&#x62E9;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x4E0A;&#x5E94;&#x7528;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x51FD;&#x6570;&#x3002;&#x805A;&#x5408;&#x51FD;&#x6570;&#x5728;&#x4E00;&#x7EC4;&#x503C;&#x4E0A;&#x8FDB;&#x884C;&#x8FD0;&#x7B97;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x5BF9;&#x4E00;&#x7EC4;&#x503C;&#x8FDB;&#x884C;&#x6C42;&#x548C;&#x8FD0;&#x7B97;&#x6216;&#x8005;&#x8BA1;&#x7B97;&#x5E73;&#x5747;&#x503C;&#x3002;&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#xFF1A;

aggregatenameexpression------&#x2014;-&#x5904;&#x7406;&#x6240;&#x6709;&#x503C;&#x4E3A;&#x975E;&#x7A7A;&#x7684;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#x3002;
aggregatenameall-expression------&#x2014;-&#x548C;&#x4E0A;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x884C;&#x4E3A;&#x4E00;&#x81F4;&#xFF0C;&#x56E0;&#x4E3A;-all-&#x662F;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x3002;
aggregatenamedistinct-expression------&#x2014;-&#x5904;&#x7406;&#x6240;&#x6709;&#x53BB;&#x9664;&#x91CD;&#x590D;&#x540E;&#x7684;&#x975E;&#x7A7A;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#x3002;
aggregatename-&#x2014;-&#x5904;&#x7406;&#x6240;&#x6709;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#xFF0C;&#x975E;&#x7A7A;&#x503C;&#x548C;&#x7A7A;&#x503C;&#x90FD;&#x4F1A;&#x88AB;&#x5904;&#x7406;&#x3002;&#x901A;&#x5E38;&#x8FD9;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x90FD;&#x662F;&#x4E3A;count&#x670D;&#x52A1;&#x7684;&#x3002;

&#x4E0A;&#x9762;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;-aggregatename-&#x662F;&#x4E00;&#x4E2A;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x540D;&#x79F0;&#xFF08;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6A21;&#x5F0F;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF09;&#x3002;&#x4E0A;&#x9762;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;-expression-&#x53EF;&#x4EE5;&#x662F;&#x9664;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x81EA;&#x8EAB;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x503C;&#x5408;&#x6CD5;&#x8868;&#x8FBE;&#x5F0F;&#x3002;
&#x4F8B;&#x5982;&#xFF0C;count-&#x8FD4;&#x56DE;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x7684;&#x603B;&#x6570;&#x91CF;&#xFF0C;countf1-&#x8FD4;&#x56DE;-f1-&#x503C;&#x4E2D;&#x975E;&#x7A7A;&#x7684;&#x603B;&#x6570;&#x91CF;&#xFF0C;countdistinct-f1-&#x8FD4;&#x56DE;&#x7684;&#x662F;-f1-&#x503C;&#x4E2D;&#x975E;&#x7A7A;&#x5E76;&#x53BB;&#x9664;&#x91CD;&#x590D;&#x503C;&#x540E;&#x7684;&#x603B;&#x6570;&#x91CF;&#x3002;
&#x8981;&#x4E86;&#x89E3;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x3002;&#x9664;&#x4E86;&#x9884;&#x5B9A;&#x4E49;&#x805A;&#x5408;&#x51FD;&#x6570;&#x5916;&#xFF0C;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x3002;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x63D0;&#x4F9B;-median-&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x8FD4;&#x56DE;-percentilecont-&#x7684;-50-&#x5206;&#x4F4D;&#x6570;&#x7ED3;&#x679C;&#x3002;-&#x4E0B;&#x9762;&#x662F;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x652F;&#x6301;&#x7684;&#x7279;&#x6B8A;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;
percentilecontpercentage-within-group-order-by-expression
percentilediscpercentage-within-group-order-by-expression
&#x76EE;&#x524D;&#x53EA;&#x6709;&#x4E0A;&#x9762;&#x4E24;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5173;&#x952E;&#x5B57;-within-group&#x3002;
&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x9650;&#x5236;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x4E86;&#x76EE;&#x524D;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x9650;&#x5236;&#xFF1A;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x5173;&#x952E;&#x5B57;&#xFF1A;all&#xFF0C;distinct&#xFF0C;filter-&#x548C;-over&#x3002;&#x8BF7;&#x53C2;&#x8003;-&#x8868;5-&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x53EA;&#x80FD;&#x51FA;&#x73B0;&#x5728;-select-&#x547D;&#x4EE4;&#x7684;&#x7ED3;&#x679C;&#x5217;&#x8868;&#x6216;&#x8005;-having-&#x5B50;&#x53E5;&#x4E2D;&#x3002;&#x5728;&#x5176;&#x5B83;&#x4F4D;&#x7F6E;&#x7D27;&#x81F4;&#x8BBF;&#x95EE;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;where&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5728;&#x5176;&#x5B83;&#x5176;&#x5B83;&#x4F4D;&#x7F6E;&#x7684;&#x8BA1;&#x7B97;&#x65E9;&#x4E8E;&#x805A;&#x5408;&#x6570;&#x636E;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x6B64;&#x9650;&#x5236;&#x7279;&#x6307;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x6240;&#x5C5E;&#x7684;&#x67E5;&#x8BE2;&#x5C42;&#x6B21;&#x3002;
&#x5F53;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x51FA;&#x73B0;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x805A;&#x5408;&#x64CD;&#x4F5C;&#x76F8;&#x5F53;&#x4E8E;&#x4F5C;&#x7528;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x53EA;&#x5305;&#x542B;&#x5916;&#x5C42;&#x53D8;&#x91CF;&#xFF0C;&#x8BE5;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x5C5E;&#x4E8E;&#x6700;&#x8FD1;&#x4E00;&#x5C42;&#x7684;&#x5916;&#x90E8;&#x8868;&#x67E5;&#x8BE2;&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x5728;&#x8BE5;&#x67E5;&#x8BE2;&#x7ED3;-&#x679C;&#x4E0A;&#x8FDB;&#x884C;&#x805A;&#x5408;&#x8FD0;&#x7B97;&#x3002;&#x8BE5;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x5BF9;&#x4E8E;&#x51FA;&#x73B0;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x6765;&#x8BF4;&#xFF0C;&#x5C06;&#x4F1A;&#x5F53;&#x6210;&#x4E00;&#x4E2A;&#x5916;&#x90E8;&#x5F15;&#x7528;&#xFF0C;&#x5E76;&#x4EE5;&#x5E38;&#x91CF;&#x503C;&#x5904;&#x7406;&#x3002;&#x8BF7;&#x53C2;&#x8003;-&#x8868;2-&#x4E86;&#x89E3;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x3002;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x5728;&#x591A;&#x4E2A;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;&#x4E0A;&#x4F7F;&#x7528;-distinct&#x3002;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x5141;&#x8BB8;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x66F4;&#x52A0;&#x7B80;&#x5355;&#x5730;&#x901A;&#x8FC7;&#x6807;&#x51C6;sql&#x8BED;&#x8A00;&#xFF0C;&#x6765;&#x6784;&#x5EFA;&#x590D;&#x6742;&#x7684;&#x5728;&#x7EBF;&#x5206;&#x6790;&#x5904;&#x7406;&#xFF08;olap&#xFF09;&#x3002;-&#x4F8B;&#x5982;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x8BA1;&#x7B97;&#x79FB;&#x52A8;&#x5E73;&#x5747;&#x503C;&#xFF0C;&#x67D0;&#x4E2A;&#x8303;&#x56F4;&#x5185;&#x7684;&#x603B;&#x548C;&#xFF0C;&#x6839;&#x636E;&#x67D0;&#x4E9B;&#x5217;&#x503C;&#x7684;&#x53D8;&#x5316;&#x91CD;&#x7F6E;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x6216;&#x6392;&#x540D;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x7B80;&#x5355;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x8868;&#x8FF0;&#x590D;&#x6742;&#x7684;&#x6BD4;&#x4F8B;&#x5173;&#x7CFB;&#x3002;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x8868;&#x793A;&#x5728;&#x7A97;&#x53E3;&#x5E27;&#x4E0A;&#x5E94;&#x7528;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#xFF0C;&#x7A97;&#x53E3;&#x5E27;&#x662F;&#x901A;&#x8FC7;&#x975E;&#x5E38;&#x7279;&#x522B;&#x7684;-over-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x7684;&#x3002;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x662F;&#x5206;&#x7EC4;&#x540E;&#x7684;&#x5E94;&#x7528;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x96C6;&#x5408;&#x3002;&#x4E0E;&#x805A;&#x5408;&#x51FD;&#x6570;&#x9488;&#x5BF9;&#x6BCF;&#x4E2A;&#x5206;&#x7EC4;&#x7684;&#x8BB0;&#x5F55;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x4E0D;&#x540C;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x771F;&#x5BF9;&#x6BCF;&#x884C;&#x90FD;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;&#x4F46;&#x662F;&#x8BE5;&#x503C;&#x7684;&#x8BA1;&#x7B97;&#x662F;&#x5B8C;&#x5168;&#x771F;&#x5BF9;&#x6839;&#x636E;&#x8BB0;&#x5F55;&#x5BF9;&#x5E94;&#x7684;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x8FDB;&#x884C;&#x7684;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;&#x5206;&#x533A;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5C31;&#x4F1A;&#x5728;&#x6574;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x8D4F;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x3002;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8BED;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;
windowfunction--expression----over--windowspecification-
&#x8FD9;&#x91CC;&#x7684;-windowfunction-&#x662F;&#x8868;-3-&#x5217;&#x51FA;&#x7684;&#x51FD;&#x6570;&#x4E4B;&#x4E00;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x4EFB;&#x4F55;&#x4E0D;&#x5305;&#x542B;&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5408;&#x6CD5;&#x503C;&#x3002;windowspecification-&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;
windowname
partition-by-expression--
order-by-expression-asc--desc--using-operator--
----range--rows
--------unbounded-preceding
--------expression-preceding
--------current-row
--------between-windowframebound-and-windowframebound-
&#x4E0A;&#x9762;&#x7684;-windowframebound-&#x5B9A;&#x4E49;&#x5982;&#x4E0B;
unbounded-preceding
expression-preceding
current-row
expression-following
unbounded-following
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x53EA;&#x80FD;&#x5728;-select-&#x7684;&#x8FD4;&#x56DE;&#x91CC;&#x8868;&#x4E2D;&#x51FA;&#x73B0;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-count-overpartition-by-customerid--from-sales
over-&#x5B50;&#x53E5;&#x662F;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x4E0E;&#x5176;&#x4ED6;&#x805A;&#x5408;&#x51FD;&#x6570;&#x6216;&#x62A5;&#x8868;&#x51FD;&#x6570;&#x6700;&#x5927;&#x7684;&#x533A;&#x522B;&#x3002;over-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x7684;-windowspecification-&#x786E;&#x5B9A;&#x4E86;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5E94;&#x7528;&#x7684;&#x8303;&#x56F4;&#x3002;&#x7A97;&#x53E3;&#x8BF4;&#x660E;&#x5305;&#x542B;&#x4E0B;&#x9762;&#x7279;&#x5F81;&#xFF1A;
partition-by-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x5E94;&#x7528;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x4E0A;&#x7684;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x3002;&#x5982;&#x679C;&#x7701;&#x7565;&#x6B64;&#x53C2;&#x6570;&#xFF0C;&#x6574;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x5206;&#x533A;&#x4F7F;&#x7528;&#x3002;
order-by-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x5728;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E2D;&#x7528;&#x4E8E;&#x6392;&#x5E8F;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x7A97;&#x53E3;&#x8BF4;&#x660E;&#x4E2D;&#x7684;-order-by-&#x5B50;&#x53E5;&#x548C;&#x4E3B;&#x67E5;&#x8BE2;&#x4E2D;&#x7684;-order-by-&#x5B50;&#x53E5;&#x662F;&#x76F8;&#x4E92;&#x72EC;&#x7ACB;&#x7684;&#x3002;order-by-&#x5B50;&#x53E5;&#x5BF9;&#x4E8E;&#x8BA1;&#x7B97;&#x6392;&#x540D;&#x7684;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x6765;&#x8BF4;&#x662F;&#x5FC5;&#x9700;&#x7684;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x6392;&#x5E8F;&#x540E;&#x624D;&#x80FD;&#x83B7;&#x5F97;&#x6392;&#x540D;&#x503C;&#x3002;-&#x5BF9;&#x4E8E;&#x5728;&#x7EBF;&#x5206;&#x6790;&#x5904;&#x7406;&#x805A;&#x5408;&#x64CD;&#x4F5C;&#xFF0C;&#x7A97;&#x53E3;&#x5E27;&#xFF08;rows-&#x6216;-range-&#x5B50;&#x53E5;&#xFF09;&#x9700;&#x8981;-order-by-&#x5B50;&#x53E5;&#x624D;&#x80FD;&#x4F7F;&#x7528;&#x3002;
rowsrange-&#x5B50;&#x53E5;&#x4E3A;&#x805A;&#x5408;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#xFF08;&#x975E;&#x6392;&#x540D;&#x64CD;&#x4F5C;&#xFF09;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7A97;&#x53E3;&#x5E27;&#x3002;&#x7A97;&#x53E3;&#x5E27;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5206;&#x533A;&#x5185;&#x7684;&#x4E00;&#x7EC4;&#x8BB0;&#x5F55;&#x3002;-&#x5B9A;&#x4E49;&#x4E86;&#x7A97;&#x53E3;&#x5E27;&#x4E4B;&#x540E;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5C06;&#x4F1A;&#x5728;&#x79FB;&#x52A8;&#x7A97;&#x53E3;&#x5E27;&#x4E0A;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#x5728;&#x6574;&#x4E2A;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E0A;&#x8FDB;&#x884C;&#x3002;-&#x7A97;&#x53E3;&#x5E27;&#x53EF;&#x4EE5;&#x662F;&#x57FA;&#x4E8E;&#x8BB0;&#x5F55;&#x5206;&#x9694;&#x7684;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x57FA;&#x4E8E;&#x503C;&#x5206;&#x9694;&#x7684;&#x3002;
&#x7C7B;&#x578B;&#x8F6C;&#x6362;
&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x4E24;&#x79CD;&#x7B49;&#x4EF7;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8BED;&#x6CD5;&#xFF1A;
cast--expression-as-type-
expressiontype
cast-&#x7684;&#x8BED;&#x6CD5;&#x662F;&#x7B26;&#x5408;-sql-&#x6807;&#x51C6;&#x7684;&#x7684;&#xFF1B;&#x800C;&#x8BED;&#x6CD5;--&#x662F;-postgresql-&#x5386;&#x53F2;&#x9057;&#x7559;&#x7684;&#x4E60;&#x60EF;&#x3002;
&#x5BF9;&#x4E8E;&#x5DF2;&#x77E5;&#x7C7B;&#x578B;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x64CD;&#x4F5C;&#x662F;&#x8FD0;&#x884C;&#x65F6;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x3002;&#x53EA;&#x6709;&#x5F53;&#x7CFB;&#x7EDF;&#x4E2D;&#x9002;&#x7528;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x51FD;&#x6570;&#xFF0C;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x624D;&#x53EF;&#x80FD;&#x6210;&#x529F;&#x3002;-&#x8FD9;&#x4E0E;&#x76F4;&#x63A5;&#x5728;&#x5E38;&#x91CF;&#x4E0A;&#x5E94;&#x7528;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5E76;&#x4E0D;&#x76F8;&#x540C;&#x3002;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x5B57;&#x9762;&#x503C;&#x4E0A;&#x5E94;&#x7528;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x4EE3;&#x8868;&#x4E86;&#x7528;&#x5B57;&#x9762;&#x503C;&#x5E38;&#x91CF;&#x5BF9;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x8D4B;&#x503C;&#x3002;-&#x56E0;&#x6B64;&#xFF0C;&#x8BE5;&#x5B57;&#x7B26;&#x4E32;&#x5B57;&#x9762;&#x503C;&#x53EA;&#x8981;&#x662F;&#x8BE5;&#x7C7B;&#x578B;&#x63A5;&#x6536;&#x7684;&#x5408;&#x6CD5;&#x8F93;&#x5165;&#xFF0C;&#x8BE5;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x90FD;&#x4F1A;&#x6210;&#x529F;&#x3002;
&#x5728;&#x4E00;&#x4E9B;&#x4F4D;&#x7F6E;&#x4E0A;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x7C7B;&#x578B;&#x5982;&#x679C;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x6B67;&#x4E49;&#x65F6;&#xFF0C;&#x663E;&#x793A;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x7701;&#x7565;&#x7684;&#x3002;-&#x4F8B;&#x5982;&#xFF0C;&#x5F53;&#x4E3A;&#x4E00;&#x5F20;&#x8868;&#x7684;&#x67D0;&#x4E2A;&#x5217;&#x8D4B;&#x503C;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x5E94;&#x7528;&#x6B63;&#x786E;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x3002;-&#x7CFB;&#x7EDF;&#x8981;&#x5E94;&#x7528;&#x81EA;&#x52A8;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x89C4;&#x5219;&#x7684;&#x524D;&#x63D0;&#x662F;&#xFF0C;&#x5F53;&#x4E14;&#x4EC5;&#x5F53;&#x7CFB;&#x7EDF;&#x8868;&#x4E2D;&#x5B9A;&#x4E49;&#x9690;&#x5F0F;&#x5730;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x662F;&#x5408;&#x6CD5;&#x7684;&#x3002;-&#x5176;&#x4ED6;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#xFF0C;&#x5FC5;&#x9700;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8BED;&#x6CD5;&#x663E;&#x793A;&#x5730;&#x8FDB;&#x884C;&#x8C03;&#x7528;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x53EF;&#x4EE5;&#x963B;&#x6B62;&#x4E00;&#x90E8;&#x5206;&#x7528;&#x6237;&#x610F;&#x6599;&#x4E4B;&#x5916;&#x7684;&#x975E;&#x671F;&#x671B;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x7684;&#x53D1;&#x751F;&#x3002;
&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;
&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x4E00;&#x4E2A;&#x62EC;&#x53F7;&#x4E2D;&#x7684;-select-&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#xFF0C;&#x5E76;&#x4E14;&#x8BE5;&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x884C;&#x4E00;&#x5217;&#xFF08;&#x4E00;&#x4E2A;&#x503C;&#xFF09;&#x3002;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x4E0D;&#x652F;&#x6301;&#x4F7F;&#x7528;&#x8FD4;&#x56DE;&#x591A;&#x884C;&#x6216;&#x591A;&#x5217;&#x7684;-select-&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x3002;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x8FD0;&#x884C;&#x5E76;&#x4F7F;&#x7528;&#x76F8;&#x5173;&#x81EA;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;&#x76F8;&#x5173;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x5F15;&#x7528;&#x4E86;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x53D8;&#x91CF;&#x7684;&#x67E5;&#x8BE2;&#x3002;
&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;
&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x4E00;&#x4E2A;-select-&#x67E5;&#x8BE2;&#x4F4D;&#x4E8E;-&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x6216;-where-&#x6761;&#x4EF6;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x5E76;&#x5F15;&#x7528;&#x4E86;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x3002;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x5141;&#x8BB8;&#x66F4;&#x9AD8;&#x6548;&#x7684;&#x8868;&#x793A;&#x51FA;&#x5F15;&#x7528;&#x5176;&#x4ED6;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x80FD;&#x591F;&#x652F;&#x6301;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x7279;&#x6027;&#xFF0C;&#x6B64;&#x7279;&#x6027;&#x80FD;&#x591F;&#x5141;&#x8BB8;&#x517C;&#x5BB9;&#x5F88;&#x591A;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;-&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x8FD4;&#x56DE;&#x8BB0;&#x5F55;&#x662F;&#x4E00;&#x6761;&#x8FD8;&#x662F;&#x591A;&#x6761;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x662F;&#x6807;&#x91CF;&#x6216;&#x8005;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;-&#x8FD9;&#x53D6;&#x51B3;&#x4E8E;&#x5B83;&#x8FD4;&#x56DE;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x4E00;&#x6761;&#x8FD8;&#x662F;&#x591A;&#x6761;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x76EE;&#x524D;&#x4E0D;&#x652F;&#x6301;&#x5F15;&#x7528;&#x8DE8;&#x5C42;&#x7684;&#x53D8;&#x91CF;&#xFF08;&#x4E0D;&#x652F;&#x6301;&#x95F4;&#x63A5;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF09;&#x3002;
&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x793A;&#x4F8B;-
&#x793A;&#x4F8B;-1-&#x2013;-&#x6807;&#x91CF;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;
select--from-t1-where-t1x
-------------select-maxt2x-from-t2-where-t2y--t1y
&#x793A;&#x4F8B;-2-&#x2013;-&#x76F8;&#x5173;-exists-&#x5B50;&#x67E5;&#x8BE2;
select--from-t1-where
exists-select-1-from-t2-where-t2x--t1x
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5229;&#x7528;&#x4E0B;&#x9762;&#x4E24;&#x4E2A;&#x7B97;&#x6CD5;&#x6765;&#x8FD0;&#x884C;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF1A;
&#x5C06;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x5C55;&#x5F00;&#x6210;&#x4E3A;&#x8FDE;&#x63A5;&#x8FD0;&#x7B97;&#xFF1A;&#x8FD9;&#x79CD;&#x7B97;&#x662F;&#x662F;&#x6700;&#x9AD8;&#x6548;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5BF9;&#x4E8E;&#x5927;&#x90E8;&#x5206;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x4F7F;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x4E00;&#x4E9B;-tpc-h-&#x6D4B;&#x8BD5;&#x96C6;&#x4E2D;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6B64;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x4F18;&#x5316;&#x3002;
&#x5BF9;&#x4E8E;&#x5F15;&#x7528;&#x7684;&#x67E5;&#x8BE2;&#x7684;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x90FD;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF1A;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x76F8;&#x5BF9;&#x6765;&#x8BF4;&#x4F4E;&#x6548;&#x7684;&#x7B97;&#x6CD5;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5BF9;&#x4E8E;&#x4F4D;&#x4E8E;-select-&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x548C;-where-&#x6761;&#x4EF6;&#x4E2D;-or-&#x8FDE;&#x63A5;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x7B97;&#x6CD5;&#x3002;
&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5BF9;&#x4E8E;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x67E5;&#x8BE2;&#x91CD;&#x5199;&#x6765;&#x6539;&#x8FDB;&#x6027;&#x80FD;&#x3002;
&#x793A;&#x4F8B;-3---select-&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;
&#x539F;&#x59CB;&#x67E5;&#x8BE2;
select-t1a
------select-countdistinct-t2z-from-t2-where-t1x--t2y-dt2
from-t1
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x9996;&#x5148;&#x4E0E;&#x8868;-t1-&#x6267;&#x884C;&#x5185;&#x8FDE;&#x63A5;&#xFF0C;&#x518D;&#x6267;&#x884C;&#x5DE6;&#x5916;&#x8FDE;&#x63A5;&#x3002;&#x67E5;&#x8BE2;&#x91CD;&#x5199;&#x53EA;&#x80FD;&#x5BF9;&#x7B49;&#x503C;&#x8FDE;&#x63A5;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x6761;&#x4EF6;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;
select-t1a-dt2-from-t1
-------left-join
--------select-t2y-as-csqy-countdistinct-t2z-as-dt2
--------------from-t1-t2-where-t1x--t2y
--------------group-by-t1x
-------on-t1x--csqy
&#x793A;&#x4F8B;-4---or-&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;-&#x539F;&#x59CB;&#x67E5;&#x8BE2;
select--from-t1
where
x--select-count-from-t2-where-t1x--t2x
or-x--select-count-from-t3-where-t1y--t3y
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x662F;&#x6839;&#x636E;-or-&#x6761;&#x4EF6;&#xFF0C;&#x5C06;&#x539F;&#x6765;&#x67E5;&#x8BE2;&#x5206;&#x6210;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;-union-&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x3002;
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;
select--from-t1
where-x--select-count-from-t2-where-t1x--t2x
union
select--from-t1
where-x--select-count-from-t3-where-t1y--t3y
&#x8981;&#x67E5;&#x770B;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-explain-select-&#x6216;&#x8005;-explain-analyze-select&#x3002;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x4E2D;&#x7684;-subplan-&#x8282;&#x70B9;&#x4EE3;&#x8868;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x5BF9;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x7684;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x90FD;&#x5904;&#x7406;&#x4E00;&#x6B21;&#xFF0C;&#x56E0;&#x6B64;&#x6697;&#x793A;&#x7740;&#x67E5;&#x8BE2;&#x53EF;&#x80FD;&#x53EF;&#x4EE5;&#x88AB;&#x91CD;&#x5199;&#x548C;&#x4F18;&#x5316;&#x3002;
&#x9AD8;&#x7EA7;&#x8868;&#x8868;&#x8FBE;&#x5F0F;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x80FD;&#x591F;&#x5C06;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x5BF9;&#x8F93;&#x5165;&#x9AD8;&#x7EA7;&#x8868;&#x51FD;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x4F7F;&#x7528;-order-by-&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-scatter-by-&#x5B50;&#x53E5;&#x5E76;&#x6307;&#x5B9A;&#x4E00;&#x5217;&#x6216;&#x591A;&#x5217;&#xFF08;&#x6216;&#x8868;&#x8FBE;&#x5F0F;&#xFF09;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x91CD;&#x65B0;&#x5206;&#x5E03;&#x3002;&#x8FD9;&#x79CD;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x4E0E;&#x521B;&#x5EFA;&#x8868;&#x7684;&#x65F6;&#x5019;&#xFF0C;distributed-by-&#x5B50;&#x53E5;&#x5341;&#x5206;&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x6B64;&#x5904;&#x91CD;&#x65B0;&#x5206;&#x5E03;&#x7684;&#x64CD;&#x4F5C;&#x662F;&#x5728;&#x67E5;&#x8BE2;&#x8FD0;&#x884C;&#x65F6;&#x53D1;&#x751F;&#x7684;&#x3002;

&#x6CE8;&#x610F;&#xFF1A;&#x6839;&#x636E;&#x6570;&#x636E;&#x7684;&#x5206;&#x5E03;&#xFF0C;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x5730;&#x5728;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x5E76;&#x884C;&#x7684;&#x8FD0;&#x884C;-&#x8868;-&#x8868;&#x8FBE;&#x5F0F;&#x3002;

&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x6570;&#x636E;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x901A;&#x8FC7;&#x63D0;&#x4F9B;&#x6210;&#x5458;&#x503C;&#x7684;&#x65B9;&#x5F0F;&#x6784;&#x9020;&#x6570;&#x7EC4;&#x503C;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#xFF1A;&#x5173;&#x952E;&#x5B57;-array&#xFF0C;&#x5DE6;&#x65B9;&#x62EC;&#x53F7;&#xFF08;&#xFF09;&#xFF0C;&#x7528;&#x6765;&#x7EC4;&#x6210;&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x503C;&#x7684;&#x901A;&#x8FC7;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x4E00;&#x4E2A;&#x591A;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x548C;&#x4E00;&#x4E2A;&#x53F3;&#x65B9;&#x62EC;&#x53F7;&#xFF08;&#xFF09;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-array1234
--array
---------
-127
&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x7684;&#x7C7B;&#x578B;&#x5C31;&#x662F;&#x5176;&#x6210;&#x5458;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x516C;&#x5171;&#x7C7B;&#x578B;&#xFF0C;&#x786E;&#x5B9A;&#x7684;&#x65B9;&#x5F0F;&#x548C;-union&#xFF0C;case-&#x6784;&#x9020;&#x5668;&#x89C4;&#x5219;&#x76F8;&#x540C;&#x3002;
&#x901A;&#x8FC7;&#x5D4C;&#x5957;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x503C;&#x3002;&#x5185;&#x90E8;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x5173;&#x952E;&#x5B57;-array&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E0B;&#x9762;&#x4E24;&#x4E2A;-select-&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#xFF1A;
select-arrayarray12-array34
select-array1234
-----array
---------------
-1234
&#x7531;&#x4E8E;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x4E00;&#x5B9A;&#x662F;&#x77E9;&#x5F62;&#xFF08;&#x957F;&#x65B9;&#x5F62;&#xFF09;&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x5C42;&#x7684;&#x5185;&#x90E8;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x4EA7;&#x751F;&#x7684;&#x5B50;&#x6570;&#x7EC4;&#x5FC5;&#x987B;&#x62E5;&#x6709;&#x76F8;&#x540C;&#x7684;&#x7EF4;&#x5EA6;&#x3002;
&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5668;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x5B50;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x4EA7;&#x751F;&#x9002;&#x5F53;&#x7C7B;&#x578B;&#x6570;&#x7EC4;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
create-table-arrf1-int-f2-int
insert-into-arr-values-array1234
array5678
select-arrayf1-f2-9101112int-from-arr
---------------------array
------------------------------------------------
-123456789101112
&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x6765;&#x6784;&#x9020;&#x6570;&#x7EC4;&#x3002;&#x8FD9;&#x91CC;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x5173;&#x952E;&#x5B57;-array-&#x5F00;&#x5934;&#xFF0C;&#x540E;&#x9762;&#x8DDF;&#x7740;&#x5728;&#x5706;&#x62EC;&#x53F7;&#x4E2D;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-arrayselect-oid-from-pgproc-where-proname-like-bytea
--------------------------column
-----------------------------------------------------------
-2011195419481952195112441950200519491953200631
&#x8FD9;&#x91CC;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x53EA;&#x80FD;&#x8FD4;&#x56DE;&#x5355;&#x5217;&#x3002;&#x751F;&#x6210;&#x7684;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x5BF9;&#x5E94;&#x7740;&#x5B50;&#x67E5;&#x8BE2;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x7684;&#x7C7B;&#x578B;&#x662F;&#x5B50;&#x67E5;&#x8BE2;&#x8F93;&#x51FA;&#x5217;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x901A;&#x8FC7;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x5F97;&#x5230;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x4E0B;&#x6807;&#x603B;&#x662F;&#x4ECE;-1-&#x5F00;&#x59CB;&#x7F16;&#x53F7;&#x3002;
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x5668;&#x662F;&#x4E00;&#x79CD;&#x7528;&#x6765;&#x4ECE;&#x6210;&#x5458;&#x503C;&#x6784;&#x5EFA;&#x8BB0;&#x5F55;&#x503C;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;&#x8BB0;&#x5F55;&#x8868;&#x8FBE;&#x5F0F;&#x4E5F;&#x88AB;&#x79F0;&#x4E3A;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF09;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-row125this-is-a-test
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x8FD8;&#x652F;&#x6301;&#x8BED;&#x6CD5;-rowvalue-&#xFF0C;&#x8BE5;&#x8868;&#x8FBE;&#x5F0F;&#x80FD;&#x591F;&#x5C06;&#x8BB0;&#x5F55;&#x503C;&#x7684;&#x6210;&#x5458;&#x5C55;&#x5F00;&#x6210;&#x5217;&#x8868;&#xFF0C;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x7C7B;&#x4F3C;&#x4E8E;&#x5F53;&#x4F60;&#x5728;-select-&#x76EE;&#x6807;&#x5217;&#x8868;&#x65F6;&#x4F7F;&#x7528;&#x7684;--&#x8BED;&#x6CD5;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x8868;-t-&#x6709;&#x4E24;&#x5217;-f1-&#x548C;-f2&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x662F;&#x7B49;&#x4EF7;&#x7684;&#xFF1A;
select-rowt-42-from-t
select-rowtf1-tf2-42-from-t
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x9ED8;&#x8BA4;&#x521B;&#x5EFA;&#x7684;&#x8BB0;&#x5F55;&#x503C;&#x5177;&#x6709;&#x533F;&#x540D;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#x3002;&#x6839;&#x636E;&#x9700;&#x8981;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x8BE5;&#x503C;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8F6C;&#x6362;&#x6210;&#x4E00;&#x4E2A;&#x547D;&#x540D;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF1A;&#x6570;&#x636E;&#x8868;&#x7684;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#x6216;&#x8005;&#x662F;&#x901A;&#x8FC7;-create-type-as-&#x547D;&#x4EE4;&#x521B;&#x5EFA;&#x7684;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x5730;&#x63D0;&#x4F9B;&#x7C7B;&#x578B;&#x8F6C;&#x6765;&#x907F;&#x514D;&#x51FA;&#x73B0;&#x6B67;&#x4E49;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
create-table-mytablef1-int-f2-float-f3-text
create-function-getf1mytable-returns-int-as-select-1f1
language-sql
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x5168;&#x5C40;&#x53EA;&#x6709;&#x4E00;&#x4E2A;-getf1-&#x51FD;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x4E0D;&#x4EA7;&#x751F;&#x4EFB;&#x4F55;&#x7684;&#x6B67;&#x4E49;&#xFF0C;&#x60A8;&#x4E5F;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x7684;&#x5904;&#x7406;&#xFF1A;
select-getf1row125this-is-a-test
-getf1
-------
-----1
create-type-myrowtype-as-f1-int-f2-text-f3-numeric
create-function-getf1myrowtype-returns-int-as-select
1f1-language-sql
&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x6765;&#x6307;&#x5B9A;&#x5177;&#x4F53;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;&#xFF1A;
select-getf1row125this-is-a-test
error--function-getf1record-is-not-unique
select-getf1row125this-is-a-testmytable
-getf1
-------
-----1
select-getf1castrow11this-is-a-test25-as
myrowtype
-getf1
-------
----11
&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x5668;&#x6765;&#x6784;&#x5EFA;&#x590D;&#x5408;&#x503C;&#xFF0C;&#x5C06;&#x5176;&#x5B58;&#x50A8;&#x5728;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x7684;&#x5217;&#x4E2D;&#x6216;&#x8005;&#x5C06;&#x5176;&#x4F20;&#x7ED9;&#x63A5;&#x53D7;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#x3002;
&#x8868;&#x8FBE;&#x5F0F;&#x6C42;&#x503C;&#x89C4;&#x5219;
&#x81EA;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x662F;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x3002;&#x8FD0;&#x7B97;&#x7B26;&#x6216;&#x8005;&#x51FD;&#x6570;&#x7684;&#x6C42;&#x503C;&#x4E0D;&#x4E00;&#x5B9A;&#x9075;&#x5B88;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x4E5F;&#x4E0D;&#x4FDD;&#x8BC1;&#x6309;&#x7167;&#x4EFB;&#x4F55;&#x7279;&#x5B9A;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x3002;
&#x5982;&#x679C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x80FD;&#x591F;&#x7531;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x786E;&#x5B9A;&#xFF0C;&#x90A3;&#x4E48;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x7684;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x88AB;&#x6C42;&#x503C;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;
select-true-or-somefunc
somefunc-&#x51FD;&#x6570;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x7C7B;&#x4F3C;&#x7684;&#x60C5;&#x51B5;&#x5BF9;&#x4E0B;&#x9762;&#x4F8B;&#x5B50;&#x4E5F;&#x9002;&#x7528;&#xFF1A;
select-somefunc-or-true
&#x8FD9;&#x4E2A;&#x7279;&#x70B9;&#x548C;&#x5927;&#x591A;&#x6570;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E2D;&#xFF0C;&#x5E03;&#x5C14;&#x8FD0;&#x7B97;&#x7B26;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x603B;&#x662F;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x4E0D;&#x592A;&#x4E00;&#x6837;&#x3002;
&#x4E0D;&#x8981;&#x5728;&#x590D;&#x6742;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x4F7F;&#x7528;&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x50CF;-where-&#x6216;&#x8005;-having-&#x5B50;&#x53E5;&#x3002;&#x56E0;&#x4E3A;&#x8FD9;&#x91CC;&#x8BED;&#x53E5;&#x5728;&#x751F;&#x6210;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x88AB;&#x591A;&#x6B21;&#x5904;&#x7406;&#x3002;&#x5728;&#x4E0A;&#x9762;&#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x5E03;&#x5C14;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;andornot-&#x7EC4;&#x5408;&#xFF09;&#x5C06;&#x4F1A;&#x6839;&#x636E;&#x5E03;&#x5C14;&#x4EE3;&#x6570;&#x89C4;&#x5219;&#x91CD;&#x65B0;&#x6392;&#x5217;&#x6210;&#x4E3A;&#x4EFB;&#x4F55;&#x6700;&#x4F18;&#x5408;&#x6CD5;&#x7ED3;&#x6784;&#x3002;
&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-case-&#x7ED3;&#x6784;&#x6765;&#x4FDD;&#x8BC1;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x907F;&#x514D;&#x9664;0&#x9519;&#x8BEF;&#x7684;&#x60C5;&#x51B5;&#xFF1A;
select--where-x--0-and-yx--15
&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x80FD;&#x591F;&#x4FDD;&#x8BC1;&#x907F;&#x514D;&#x9664;0&#x9519;&#x8BEF;&#xFF1A;
select--where-case-when-x--0-then-yx--15-else-false-end
&#x8FD9;&#x79CD;-case-&#x7ED3;&#x6784;&#x5C06;&#x4F1A;&#x963B;&#x6B62;&#x67E5;&#x8BE2;&#x4F18;&#x5316;&#xFF0C;&#x56E0;&#x6B64;&#x8BF7;&#x5C0F;&#x5FC3;&#x4F7F;&#x7528;&#x3002;
&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5728;-sql-&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x5BF9;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x8FDB;&#x884C;&#x6C42;&#x503C;&#x3002;&#x4E00;&#x4E9B;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x53EA;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x8FD0;&#x884C;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x7ED3;&#x679C;&#x51FA;&#x73B0;&#x4E0D;&#x4E00;&#x81F4;&#x72B6;&#x6001;&#x3002;
&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x51FD;&#x6570;
&#x8868;1-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E2D;&#x7684;&#x51FD;&#x6570;



&#x51FD;&#x6570;&#x7C7B;&#x578B;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x60C5;&#x51B5;
&#x8BF4;&#x660E;
&#x5907;&#x6CE8;




immutable
&#x5B8C;&#x5168;&#x652F;&#x6301;
&#x51FD;&#x6570;&#x53EA;&#x76F4;&#x63A5;&#x4F9D;&#x8D56;&#x53C2;&#x6570;&#x5217;&#x8868;&#x4E2D;&#x63D0;&#x4F9B;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x5BF9;&#x4E8E;&#x76F8;&#x540C;&#x7684;&#x53C2;&#x6570;&#x503C;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4E0D;&#x53D8;&#x3002;



stable
&#x5927;&#x90E8;&#x5206;&#x60C5;&#x51B5;&#x652F;&#x6301;
&#x5728;&#x4E00;&#x6B21;&#x7684;&#x8868;&#x626B;&#x63CF;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5176;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5BF9;&#x76F8;&#x540C;&#x8F93;&#x5165;&#x53C2;&#x6570;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#xFF0C;&#x4F46;&#x662F;&#x7ED3;&#x679C;&#x5728;&#x4E0D;&#x540C;-sql-&#x8BED;&#x53E5;&#x4E4B;&#x95F4;&#x4F1A;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x3002;
&#x5176;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x53D6;&#x51B3;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x6216;&#x53C2;&#x6570;&#x503C;&#x3002;&#x4F8B;&#x5982;&#xFF1A;-currenttimestamp-&#x5BB6;&#x65CF;&#x7684;&#x51FD;&#x6570;&#x90FD;&#x662F;-stable-&#x7684;&#x3002;&#x5728;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x4E2D;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x503C;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#x3002;


volatile
&#x9650;&#x5236;&#x6027;&#x7684;&#x4F7F;&#x7528;
&#x5728;&#x4E00;&#x6B21;&#x8868;&#x626B;&#x63CF;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x51FD;&#x6570;&#x503C;&#x4E5F;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002;-&#x4F8B;&#x5982;&#xFF1A;random-currval-timeofday&#x3002;
&#x5373;&#x4F7F;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x9884;&#x6D4B;&#xFF0C;&#x4EFB;&#x4F55;&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;&#xFF08;side-effects&#xFF09;&#x7684;&#x51FD;&#x6570;&#x4ECD;&#x7136;&#x5C5E;&#x4E8E;&#x6613;&#x53D8;&#x51FD;&#x6570;&#x3002;&#x4F8B;&#x5982;&#xFF1A;-setval&#x3002;



hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x8868;&#x5F15;&#x7528;&#xFF08;rangefuncs&#xFF09;&#x6216;&#x8005;&#x51FD;&#x6570;&#x4F7F;&#x7528;-refcursor-&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;
&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;
&#x6B64;&#x529F;&#x80FD;&#x6B63;&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x672A;&#x6765;&#x7248;&#x672C;&#x5C06;&#x4F1A;&#x5F00;&#x653E;&#x3002;
&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;
&#x4E0B;&#x8868;&#x5217;&#x51FA;&#x4E86;-postgresql-&#x652F;&#x6301;&#x7684;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x79CD;&#x7C7B;&#x3002;
-&#x8868;2-&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;



operatorfunction-category
volatile-&#x51FD;&#x6570;
stable-&#x51FD;&#x6570;
&#x4F7F;&#x7528;&#x9650;&#x5236;




logical-operators





comparison-operators





mathematical-functions-and-operators
random&#x3001;setseed




string-functions-and-operators
all-built-in-conversion-functions
convert&#x3001;pgclientencoding



binary-string-functions-and-operators





bit-string-functions-and-operators





pattern-matching





data-type-formatting-functions

tochar&#x3001;totimestamp



datetime-functions-and-operators
timeofday
age&#x3001;currentdate&#x3001;currenttime&#x3001;currenttimestamp&#x3001;localtime&#x3001;localtimestamp&#x3001;now



geometric-functions-and-operators





network-address-functions-and-operators





sequence-manipulation-functions
currval&#x3001;lastval&#x3001;nextval&#x3001;setval




conditional-expressions





array-functions-and-operators

all-array-functions



aggregate-functions





subquery-expressions





row-and-array-comparisons





set-returning-functions
generateseries




system-information-functions

all-session-information-functions&#x3001;all-access-privilege-inquiry-functions&#x3001;all-schema-visibility-inquiry-functions&#x3001;all-system-catalog-information-functions&#x3001;all-comment-information-functions



system-administration-functions
setconfig&#x3001;pgcancelbackend&#x3001;pgreloadconf&#x3001;pgrotatelogfile&#x3001;pgstartbackup&#x3001;pgstopbackup&#x3001;pgsizepretty&#x3001;pglsdir&#x3001;pgreadfile&#x3001;pgstatfile
currentsetting&#x3001;all-database-object-size-functions
note-the-function-pgcolumnsize-the-value-perhaps-with-toast-compression


xml-functions

xmlaggxml&#x3001;xmlexiststext-xml&#x3001;xmliswellformedtext&#x3001;xmliswellformeddocumenttext&#x3001;xmliswellformedcontenttext&#x3001;xpathtext-xml&#x3001;xpathtext-xml-text&#x3001;xpathexiststext-xml&#x3001;xpathexiststext-xml-text&#x3001;xmltext&#x3001;textxml&#x3001;xmlcommentxml&#x3001;xmlconcat2xml-xml




&#x7A97;&#x53E3;&#x51FD;&#x6570;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x5185;&#x7F6E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x662F;-hashdata-database-&#x5BF9;-postgresql-&#x7684;&#x6269;&#x5C55;&#x3002;-&#x6240;&#x6709;&#x7684;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x90FD;&#x662F;-immutable-&#x7684;&#x3002;&#x8981;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x5173;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;-&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;-&#x3002;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




cumedist
double-precision
cumedist-over--partition-by-expr--order-by-expr-
&#x8BA1;&#x7B97;&#x6570;&#x503C;&#x5728;&#x4E00;&#x4E2A;&#x7EC4;&#x6570;&#x503C;&#x7684;&#x7D2F;&#x79EF;&#x5206;&#x5E03;&#x3002;&#x76F8;&#x540C;&#x503C;&#x7684;&#x8BB0;&#x5F55;&#x6C42;&#x503C;&#x7ED3;&#x679C;&#x603B;&#x4F1A;&#x5F97;&#x5230;&#x76F8;&#x540C;&#x7684;&#x7D2F;&#x79EF;&#x5206;&#x5E03;&#x503C;&#x3002;


denserank
bigint
denserank-over--partition-by-expr--order-by-expr
&#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7EC4;&#x4E2D;&#xFF0C;&#x8BB0;&#x5F55;&#x7684;&#x6392;&#x540D;&#xFF0C;&#x6392;&#x540D;&#x503C;&#x8FDE;&#x7EED;&#x5206;&#x914D;&#x3002;&#x8BB0;&#x5F55;-&#x503C;&#x76F8;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5206;&#x914D;&#x76F8;&#x540C;&#x7684;&#x6392;&#x540D;&#x3002;


firstvalueexpr
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
firstvalue-expr--over--partition-by-expr--order-by-expr-rows-range-frameexpr--
&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7684;&#x503C;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x503C;&#x3002;


lagexpr-offset-default
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;&#x7C7B;&#x578B;&#x76F8;&#x540C;
lag-expr--offset---default--over--partition-by-expr--order-by-expr-
&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x4E0D;&#x4F7F;&#x7528;&#x81EA;&#x8FDE;&#x63A5;&#x8BBF;&#x95EE;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x591A;&#x884C;&#x8BB0;&#x5F55;&#x3002;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;-&#x65F6;&#x6BCF;&#x4E2A;&#x8BB0;&#x5F55;&#x6709;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x4F4D;&#x7F6E;&#xFF0C;lag-&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x4ECE;&#x5F53;&#x524D;&#x7269;&#x7406;&#x4F4D;-&#x7F6E;&#x5411;&#x524D;-offset-&#x7684;&#x8BB0;&#x5F55;&#x3002;offset-&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;-1-&#x3002;-default-&#x503C;&#x4F1A;&#x5728;-offset-&#x503C;&#x8D85;&#x51FA;&#x7A97;&#x53E3;&#x8303;&#x56F4;&#x540E;&#x88AB;&#x8FD4;&#x56DE;&#x3002;-&#x5982;&#x679C;-default-&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;-null&#x3002;


lastvalueexpr
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
lastvalueexpr-over--partition-by-expr-order-by-expr-rows-range-frameexpr-
&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7684;&#x503C;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x503C;&#x3002;


leadexpr-offset-default
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
leadexpr-offset-default-over--partition-by-expr-order-by-expr-
&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x4E0D;&#x4F7F;&#x7528;&#x81EA;&#x8FDE;&#x63A5;&#x8BBF;&#x95EE;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x591A;&#x884C;&#x8BB0;&#x5F55;&#x3002;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;-&#x65F6;&#x6BCF;&#x4E2A;&#x8BB0;&#x5F55;&#x6709;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x4F4D;&#x7F6E;&#xFF0C;lag-&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x4ECE;&#x5F53;&#x524D;&#x7269;&#x7406;&#x4F4D;-&#x7F6E;&#x5411;&#x540E;-offset-&#x7684;&#x8BB0;&#x5F55;&#x3002;offset-&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;-1-&#x3002;-default-&#x503C;&#x4F1A;&#x5728;-offset-&#x503C;&#x8D85;&#x51FA;&#x7A97;&#x53E3;&#x8303;&#x56F4;&#x540E;&#x88AB;&#x8FD4;&#x56DE;&#x3002;-&#x5982;&#x679C;-default-&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;-null&#x3002;


ntileexpr
bigint
ntileexpr-over--partition-by-expr-order-by-expr-
&#x5C06;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x6570;&#x636E;&#x96C6;&#x5212;&#x5206;&#x5230;&#x591A;&#x4E2A;&#x6876;&#xFF08;buckets&#xFF09;&#x4E2D;&#xFF0C;&#x6876;&#x7684;&#x6570;&#x91CF;-&#x7531;&#x53C2;&#x6570;&#x51B3;&#x5B9A;&#xFF0C;&#x5E76;&#x4E3A;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x6876;&#x7F16;&#x53F7;&#x3002;


percentrank
double-precision
percentrank--over--partition-by-expr-order-by-expr-
&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x516C;&#x5F0F;&#x8BA1;&#x7B97;&#x6392;&#x540D;&#xFF1A;&#x8BB0;&#x5F55;&#x6392;&#x540D;---1-&#x9664;&#x4EE5;&#x603B;&#x6392;&#x540D;&#x8BB0;&#x5F55;-&#x6570;---1-&#x3002;


rank
bigint
rank--over--partition-by-expr-order-by-expr-
&#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7EC4;&#x4E2D;&#xFF0C;&#x8BB0;&#x5F55;&#x7684;&#x6392;&#x540D;&#x3002;&#x8BB0;&#x5F55;&#x503C;&#x76F8;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;-&#x5206;&#x914D;&#x76F8;&#x540C;&#x7684;&#x6392;&#x540D;&#x3002;&#x5206;&#x914D;&#x5230;&#x76F8;&#x540C;&#x6392;&#x540D;&#x7684;&#x6BCF;&#x7EC4;&#x8BB0;&#x5F55;&#x7684;&#x6570;&#x91CF;&#x5C06;&#x4F1A;-&#x88AB;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x4E0B;&#x4E2A;&#x5206;&#x914D;&#x7684;&#x6392;&#x540D;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6392;&#x540D;&#x7684;&#x5206;&#x914D;&#x53EF;-&#x80FD;&#x4E0D;&#x662F;&#x8FDE;&#x7EED;&#x3002;


rownumber
bigint
rownumber--over--partition-by-expr-order-by-expr-----&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x7F16;&#x53F7;&#x3002;&#xFF08;&#x53EF;&#x4EE5;&#x662F;&#x6574;&#x4E2A;&#x67E5;&#x8BE2;&#x7684;-&#x7ED3;&#x679C;&#x8BB0;&#x5F55;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#xFF09;&#x3002;




&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x5185;&#x7F6E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x662F;-hashdata-database-&#x5BF9;-postgresql-&#x7684;&#x6269;&#x5C55;&#x3002;-&#x5206;&#x6790;&#x51FD;&#x6570;&#x662F;-immutable-&#x3002;
&#x8868;4-&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




matrixadd-array-array
smallint-int-bigint-float
matrixaddarray1122-array3456
&#x5C06;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x76F8;&#x52A0;&#x3002;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x5FC5;&#x987B;&#x4E00;&#x81F4;&#x3002;


matrixmultiply-array-array
smallintint-bigint-float
matrixmultiply-array200020002-array303030003
&#x5C06;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x76F8;&#x4E58;&#x3002;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x5FC5;&#x987B;&#x4E00;&#x81F4;&#x3002;


matrixmultiply-array-expr
int-float
matrixmultiplyarray111-222-333-2
&#x5C06;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x4E0E;&#x4E00;&#x4E2A;&#x6807;&#x91CF;&#x6570;&#x503C;&#x76F8;&#x4E58;&#x3002;


matrixtranspose-array
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
matrixtransposearray-111-222
&#x5C06;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x8F6C;&#x7F6E;&#x3002;


pinvarray-
smallintint-bigint-float
pinvarray2500-010005
&#x8BA1;&#x7B97;&#x77E9;&#x9635;&#x7684;-moore-penrose-pseudoinverse-&#x3002;


unnestarray
set-of-anyelement
unnestarrayone-row-per-item
&#x5C06;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x8F6C;&#x5316;&#x4E3A;&#x591A;&#x884C;&#x3002;&#x8FD4;&#x56DE;-anyelement-&#x7684;&#x96C6;&#x5408;&#x3002;&#x8BE5;&#x7C7B;&#x578B;&#x662F;-postgresql-&#x4E2D;&#x7684;&#x591A;&#x6001;&#x4F2A;&#x7C7B;&#x578B;&#x3002;



-&#x8868;5-&#x9AD8;&#x7EA7;&#x805A;&#x5408;&#x51FD;&#x6570;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




median-expr
timestamp-timestampz-interval-float
median-expression-exampleselect-departmentid-mediansalary-from-employees-group-by-departmentid
&#x8BA1;&#x7B97;&#x4E2D;&#x4F4D;&#x6570;&#x3002;


percentilecont-expr-within-group-order-by-expr-descasc
timestamp-timestampz-interval-float
percentilecontpercentage-within-group-order-by-expression-exampleselect-departmentidpercentilecont-05-within-group-order-by-salary-desc-mediancont-from-employees-group-by-departmentid
&#x5728;&#x8FDE;&#x7EED;&#x5206;&#x5E03;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x8FD0;&#x7B97;&#x3002;&#x51FD;&#x6570;&#x8F93;&#x5165;-&#x4E00;&#x4E2A;&#x5206;&#x4F4D;&#x6BD4;&#x4F8B;&#x548C;&#x6392;&#x5E8F;&#x4FE1;&#x606F;&#xFF0C;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x662F;&#x8BA1;&#x7B97;&#x6570;&#x636E;&#x7684;&#x7C7B;-&#x578B;&#x3002;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x8FDB;&#x884C;&#x7EBF;&#x6027;&#x63D2;&#x503C;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x3002;-&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D;-null-&#x503C;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;


percentiledisc-expr-within-group-order-by-expr-descasc
timestamp-timestampz-interval-float
percentilediscpercentage-within-group-order-by-expression-exampleselect-departmentidpercentiledisc-05-within-group-order-by-salary-desc-mediancont-from-employees-group-by-departmentid
&#x5728;&#x8FDE;&#x7EED;&#x5206;&#x5E03;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x8FD0;&#x7B97;&#x3002;&#x51FD;&#x6570;&#x8F93;&#x5165;-&#x4E00;&#x4E2A;&#x5206;&#x4F4D;&#x6BD4;&#x4F8B;&#x548C;&#x6392;&#x5E8F;&#x4FE1;&#x606F;&#x3002;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x8F93;&#x5165;&#x96C6;&#x5408;&#x4E2D;-&#x7684;&#x503C;&#x3002;&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D;-null-&#x503C;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;


sumarray
smallint-int-bigint-float
sumarray1234-example-create-table-mymatrix-myvalue-int-insert-into-mymatrix-values--array1234-insert-into-mymatrix-values--array0110-select--summyvalue-from-mymatrix
&#x6267;&#x884C;&#x77E9;&#x9635;&#x52A0;&#x6CD5;&#x8FD0;&#x7B97;&#x3002;&#x5C06;&#x8F93;&#x5165;&#x7684;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;&#x5F53;&#x4F5C;&#x77E9;&#x9635;&#x5904;&#x7406;&#x3002;


pivotsum-label-label-expr
int-bigint-float
pivotsum-arraya1a2-attr-value
&#x900F;&#x89C6;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x901A;&#x8FC7;&#x805A;&#x5408;&#x6C42;&#x6765;&#x6D88;&#x9664;&#x91CD;&#x590D;&#x9879;&#x3002;


mregrcoef-expr-array
float
mregrcoefy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrcoef-&#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7CFB;&#x6570;&#x3002;-mregrcoef-&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x5305;&#x542B;&#x6BCF;&#x4E2A;&#x81EA;&#x53D8;&#x91CF;&#x7684;&#x56DE;&#x5F52;&#x7CFB;&#x6570;&#xFF0C;-&#x56E0;&#x6B64;&#x5927;&#x5C0F;&#x4E0E;&#x8F93;&#x5165;&#x7684;&#x81EA;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#x5927;&#x5C0F;&#x76F8;&#x7B49;&#x3002;


mregrr2-expr-array
float
mregrr2y-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrr2-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-r-&#x5E73;&#x65B9;&#x503C;&#x3002;


mregrpvalues-expr-array
float
mregrpvaluesy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrpvalues-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-p-&#x503C;&#x3002;


mregrtstats-expr-array
float
mregrtstatsy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrtstats-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-t-&#x7EDF;&#x8BA1;&#x91CF;&#x503C;&#x3002;


nbclassify-text-bigint-bigint-biggint
text
nbclassifyclasses-attrcount-classcount-classtotal
&#x4F7F;&#x7528;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x5668;&#x5BF9;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x3002;&#x6B64;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;-&#x7528;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x57FA;&#x7EBF;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x9884;&#x6D4B;&#xFF0C;&#x8FD4;&#x56DE;-&#x8BE5;&#x8BB0;&#x5F55;&#x6700;&#x6709;&#x53EF;&#x80FD;&#x51FA;&#x7EBF;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x3002;


nbprobabilities-text-bigint-bigint-biggint
text
nbprobabilitiesclasses-attrcount-classcount-classtotal
&#x4F7F;&#x7528;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x5668;&#x8BA1;&#x7B97;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x3002;&#x6B64;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x57FA;&#x7EBF;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x9884;&#x6D4B;&#xFF0C;&#x8FD4;&#x56DE;&#x8BE5;&#x8BB0;&#x5F55;&#x51FA;&#x73B0;&#x5728;&#x5404;&#x4E2A;&#x5206;&#x7C7B;&#x4E2D;&#x7684;&#x6982;&#x7387;&#x3002;



&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x793A;&#x4F8B;
&#x672C;&#x7AE0;&#x8282;&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5728;&#x7B80;&#x5316;&#x7684;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x4E0A;&#x5E94;&#x7528;&#x4E0A;&#x9762;&#x90E8;&#x5206;&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x7684;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#x3002;-&#x793A;&#x4F8B;&#x5305;&#x62EC;&#xFF1A;&#x591A;&#x5143;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x548C;&#x4F7F;&#x7528;-nbclassify-&#x7684;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x3002;
&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x793A;&#x4F8B;
&#x4E0B;&#x9762;&#x793A;&#x4F8B;&#x4F7F;&#x7528;&#x56DB;&#x4E2A;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF1A;mregrcoef&#xFF0C;mregrr2&#xFF0C;mregrpvalues-&#x548C;-mregrtstats-&#x5728;&#x793A;&#x4F8B;&#x8868;-regrexample-&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x3002;-&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x56E0;&#x53D8;&#x91CF;&#xFF08;dependent-variable&#xFF09;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x81EA;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#xFF08;independent-variable&#xFF09;&#x3002;
select-mregrcoefy-array1-x1-x2
-------mregrr2y-array1-x1-x2
-------mregrpvaluesy-array1-x1-x2
-------mregrtstatsy-array1-x1-x2
from-regrexample
&#x8868;-regrexample-&#x4E2D;&#x7684;&#x6570;&#x636E;
-id--y---x1--x2
----------------
--1---5---2---1
--2--10---4---2
--3---6---3---1
--4---8---3---1
&#x5728;&#x8868;&#x4E0A;&#x8FD0;&#x884C;&#x524D;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x884C;&#x6570;&#x636E;&#xFF0C;&#x5305;&#x542B;&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x503C;&#xFF1A;
mregrcoef

-7105427357601e-152000000000000030999999999999943
mregrr2

086440677966103
mregrpvalues

099999999999999904543710516569920783653104061216
mregrtstats

-224693341988919e-15115470053837932035355339059327
&#x5982;&#x679C;&#x4E0A;&#x9762;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x672A;&#x5B9A;&#x4E49;&#xFF0C;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;-nan&#xFF08;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x503C;&#xFF09;&#x3002;&#x5F53;&#x6570;&#x636E;&#x91CF;&#x592A;&#x5C11;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x9047;&#x5230;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;

&#x6CE8;&#x610F;-&#x5982;&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x6240;&#x793A;&#xFF0C;&#x53D8;&#x91CF;&#x53C2;&#x6570;&#x4F30;&#x8BA1;&#x503C;&#xFF08;intercept&#xFF09;&#x662F;&#x901A;&#x8FC7;&#x5C06;&#x4E00;&#x4E2A;&#x81EA;&#x53D8;&#x91CF;&#x8BBE;&#x7F6E;&#x4E3A;-1-&#x8BA1;&#x7B97;&#x5F97;&#x5230;&#x7684;&#x3002;

&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;
&#x4F7F;&#x7528;-nbclassify-&#x548C;-nbprobabilities-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6D89;&#x53CA;&#x5230;&#x56DB;&#x6B65;&#x7684;&#x5206;&#x7C7B;&#x8FC7;&#x7A0B;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x4E3A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x7684;&#x8868;&#x548C;&#x89C6;&#x56FE;&#x3002;-&#x4E0B;&#x9762;&#x7684;&#x4E24;&#x4E2A;&#x793A;&#x4F8B;&#x5C55;&#x793A;&#x4E86;&#x8FD9;&#x56DB;&#x4E2A;&#x6B65;&#x9AA4;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x968F;&#x610F;&#x6784;&#x9020;&#x7684;&#x6570;&#x636E;&#x96C6;&#x4E0A;&#x5C55;&#x793A;&#x3002;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;-hashdata-database-&#x6839;&#x636E;&#x5929;&#x6C14;&#x6761;&#x4EF6;&#x4F7F;&#x7528;&#x975E;&#x5E38;&#x53D7;&#x6B22;&#x8FCE;&#x7684;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x793A;&#x4F8B;&#x3002;
&#x603B;&#x89C8;
&#x4E0B;&#x9762;&#x5411;&#x4F60;&#x4ECB;&#x7ECD;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x503C;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x5217;&#x540D;&#xFF09;&#x5C06;&#x4F1A;&#x505A;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x4F7F;&#x7528;&#xFF1A;

&#x5C06;&#x6570;&#x636E;&#x9006;&#x900F;&#x89C6;&#xFF08;unpivot&#xFF09;

&#x5982;&#x679C;&#x6570;&#x636E;&#x662F;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x6240;&#x6709;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x9006;&#x900F;&#x89C6;&#xFF0C;&#x8FDE;&#x540C;&#x6807;&#x8BC6;&#x5B57;&#x6BB5;&#x548C;&#x5206;&#x7C7B;&#x5B57;&#x6BB5;&#x521B;&#x5EFA;&#x89C6;&#x56FE;&#x3002;-&#x5982;&#x679C;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x662F;&#x975E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#xFF0C;&#x8BF7;&#x8DF3;&#x8FC7;&#x6B64;&#x6B65;&#x3002;

&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;

&#x8BAD;&#x7EC3;&#x8868;&#x5C06;&#x6570;&#x636E;&#x89C6;&#x56FE;&#x53D8;&#x5316;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x3002;

&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;

&#x4F7F;&#x7528;-nbclassify&#xFF0C;nbprobabilities-&#x6216;&#x5C06;-nbclassify-&#x548C;-nbprobabilities-&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;
&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;1---&#x5C0F;&#x89C4;&#x6A21;&#x6570;&#x636E;
&#x4F8B;&#x5B50;&#x5C06;&#x4ECE;&#x5305;&#x542B;&#x8303;&#x5F0F;&#x5316;&#x6570;&#x636E;&#x7684;&#x793A;&#x4F8B;&#x8868;-classexample-&#x5F00;&#x59CB;&#xFF0C;&#x901A;&#x8FC7;&#x56DB;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x6B65;&#x9AA4;&#x5B8C;&#x6210;&#xFF1A;
&#x8868;-classexample-&#x4E2D;&#x7684;&#x6570;&#x636E;
-id--class--a1--a2--a3
-----------------------
--1--c1------1---2---3
--2--c1------1---4---3
--3--c2------0---2---2
--4--c1------1---2---1
--5--c2------1---2---2
--6--c2------0---1---3
&#x5C06;&#x6570;&#x636E;&#x9006;&#x900F;&#x89C6;&#xFF08;unpivot&#xFF09;
&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x7528;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x9700;&#x8981;&#x5BF9;-classexample-&#x4E2D;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x9006;&#x900F;&#x89C6;&#x64CD;&#x4F5C;&#x3002;
&#x5728;&#x4E0B;&#x9762;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x7684;&#x9879;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A;&#x65B0;&#x589E;&#x7684;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x7684;&#x503C;&#x4F7F;&#x7528;&#x3002;&#x4E60;&#x60EF;&#x4E0A;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4E0E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x8868;&#x5217;&#x540D;&#x76F8;&#x540C;&#x3002;-&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x66F4;&#x5BB9;&#x6613;&#x7684;&#x4ECE;&#x547D;&#x4EE4;&#x4E2D;&#x627E;&#x5230;&#x8FD9;&#x4E9B;&#x503C;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4EE5;&#x5927;&#x5199;&#x65B9;&#x5F0F;&#x4E66;&#x5199;&#x3002;
create-view-classexampleunpivot-as
select-id-class
--unnestarraya1-a2-a3-as-attr
--unnestarraya1a2a3-as-value
from-classexample
&#x4F7F;&#x7528;&#x540E;&#x9762;&#x7684;-sql-&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x975E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x6570;&#x636E;-select--from-classexampleunpivot&#xFF1A;
-id--class--attr--value
------------------------
--2--c1-----a1--------1
--2--c1-----a2--------2
--2--c1-----a3--------1
--4--c2-----a1--------1
--4--c2-----a2--------2
--4--c2-----a3--------2
--6--c2-----a1--------0
--6--c2-----a2--------1
--6--c2-----a3--------3
--1--c1-----a1--------1
--1--c1-----a2--------2
--1--c1-----a3--------3
--3--c1-----a1--------1
--3--c1-----a2--------4
--3--c1-----a3--------3
--5--c2-----a1--------0
--5--c2-----a2--------2
--5--c2-----a3--------2
18-rows
&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;
&#x4E0B;&#x9762;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x7684;&#x9879;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x805A;&#x5408;&#x7684;&#x9879;&#x3002;&#x901A;&#x8FC7;&#x6570;&#x7EC4;&#x5F62;&#x5F0F;&#x4F20;&#x9012;&#x7ED9;-pivtosum-&#x51FD;&#x6570;&#x7684;&#x9879;&#x5FC5;&#x987B;&#x548C;&#x539F;&#x59CB;&#x6570;&#x636E;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x548C;&#x6570;&#x91CF;&#x76F8;&#x7B26;&#x3002;-&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x5206;&#x7C7B;&#x4E3A;-c1-&#x548C;-c2&#xFF1A;
create-table-classexamplenbtraining-as
select-attr-value
--pivotsumarrayc1-c2-class-1-as-classcount
from---classexampleunpivot
group-by-attr-value
distributed-by-attr
&#x4E0B;&#x9762;&#x662F;&#x8BAD;&#x7EC3;&#x8868;&#x7684;&#x7ED3;&#x679C;&#xFF1A;
-attr--value--classcount
--------------------------
-a3--------1--10
-a3--------3--21
-a1--------1--31
-a1--------0--02
-a3--------2--02
-a2--------2--22
-a2--------4--10
-a2--------1--01
8-rows
&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;
create-view-classexamplenbclassifyfunctions-as
select-attr-value-classcount
--arrayc1-c2-as-classes
--sumclasscount-over-wainteger-as-classtotal
--countdistinct-value-over-wa-as-attrcount
from-classexamplenbtraining
window-wa-as-partition-by-attr
&#x4E0B;&#x9762;&#x662F;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x7684;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#xFF1A;
-attr-value--classcount-classes--classtotal-attrcount
-------------------------------------------------------
-a2-------2--22-------c1c2--33----------------3
-a2-------4--10-------c1c2--33----------------3
-a2-------1--01-------c1c2--33----------------3
-a1-------0--02-------c1c2--33----------------2
-a1-------1--31-------c1c2--33----------------2
-a3-------2--02-------c1c2--33----------------3
-a3-------3--21-------c1c2--33----------------3
-a3-------1--10-------c1c2--33----------------3
8-rows
&#x4F7F;&#x7528;-nbclassify-&#x5BF9;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x4EE5;&#x53CA;&#x4F7F;&#x7528;-nbprobabilities-&#x663E;&#x793A;&#x5F52;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;
&#x5728;&#x51C6;&#x5907;&#x597D;&#x6458;&#x8981;&#x89C6;&#x56FE;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x4E3A;&#x5BF9;&#x65B0;&#x8BB0;&#x5F55;&#x5206;&#x7C7B;&#x7684;&#x57FA;&#x7EBF;&#x4E86;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x901A;&#x8FC7;-nbclassify-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6765;&#x9884;&#x6D4B;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5C5E;&#x4E8E;-c1-&#x8FD8;&#x662F;-c2&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
from-classexamplenbclassifyfunctions
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E0B;&#x9762;&#x7B26;&#x5408;&#x671F;&#x671B;&#x7684;&#x5355;&#x884C;&#x7ED3;&#x679C;&#xFF1A;
class
-------
c2
1-row
&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-nbprobabilities-&#x663E;&#x793A;&#x5404;&#x4E2A;&#x5217;&#x522B;&#x7684;&#x6982;&#x7387;&#x3002;&#x5728;&#x51C6;&#x5907;&#x597D;&#x89C6;&#x56FE;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x4E3A;&#x5BF9;&#x65B0;&#x8BB0;&#x5F55;&#x5206;&#x7C7B;&#x7684;&#x57FA;&#x7EBF;&#x4E86;&#x3002;-&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x901A;&#x8FC7;-nbprobabilities-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6765;&#x9884;&#x6D4B;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5C5E;&#x4E8E;-c1-&#x8FD8;&#x662F;-c2&#x3002;
select-nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-classexamplenbclassifyfunctions
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x60C5;&#x51B5;&#xFF0C;&#x7B2C;&#x4E00;&#x503C;&#x662F;-c1-&#x7684;&#x6982;&#x7387;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x503C;&#x662F;-c2-&#x7684;&#x6982;&#x7387;&#xFF1A;
probability
-------------
-0406
1-row
&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x540C;&#x65F6;&#x663E;&#x793A;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x548C;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-classexamplenbclassify
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x5982;&#x4E0B;&#x7ED3;&#x679C;&#xFF1A;
-class--probability
--------------------
----c2--0406
-1-row
&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x76F8;&#x6BD4;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x66F4;&#x52A0;&#x5168;&#x9762;&#xFF0C;&#x56E0;&#x6B64;&#x9884;&#x6D4B;&#x6548;&#x679C;&#x66F4;&#x597D;&#x3002;-&#x5F53;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;-nbclassify-&#x548C;-nbprobabilities-&#x7684;&#x5F52;&#x7C7B;&#x51C6;&#x786E;&#x5EA6;&#x5C06;&#x4F1A;&#x663E;&#x8457;&#x63D0;&#x9AD8;&#x3002;
&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;2-&#x2013;-&#x5929;&#x6C14;&#x548C;&#x6237;&#x5916;&#x8FD0;&#x52A8;
&#x5728;&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x5C06;&#x4F1A;&#x6839;&#x636E;&#x5929;&#x60C5;&#x51B5;&#x6765;&#x8BA1;&#x7B97;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x9AD8;&#x5C14;&#x592B;&#x7403;&#x6216;&#x8005;&#x7F51;&#x7403;&#x3002;-&#x8868;-weatherexample-&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E9B;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x3002;&#x8868;&#x7684;&#x6807;&#x793A;&#x5B57;&#x6BB5;&#x662F;-day&#x3002;-&#x7528;&#x4E8E;&#x5206;&#x7C7B;&#x7684;&#x5B57;&#x6BB5;-play-&#x5305;&#x542B;&#x4E24;&#x4E2A;&#x503C;&#xFF1A;yes-&#x6216;-no&#x3002;&#x5929;&#x6C14;&#x5305;&#x542B;&#x56DB;&#x79CD;&#x5C5E;&#x6027;&#xFF1A;&#x72B6;&#x51B5;&#xFF0C;&#x6E29;&#x5EA6;&#xFF0C;&#x6E7F;&#x5EA6;&#xFF0C;&#x98CE;&#x529B;&#x3002;-&#x6570;&#x636E;&#x6309;&#x7167;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x3002;
-day--play--outlook---temperature--humidity--wind
----------------------------------------------------
-2----no----sunny-----hot----------high------strong
-4----yes---rain------mild---------high------weak
-6----no----rain------cool---------normal----strong
-8----no----sunny-----mild---------high------weak
10----yes---rain------mild---------normal----weak
12----yes---overcast--mild---------high------strong
14----no----rain------mild---------high------strong
-1----no----sunny-----hot----------high------weak
-3----yes---overcast--hot----------high------weak
-5----yes---rain------cool---------normal----weak
-7----yes---overcast--cool---------normal----strong
-9----yes---sunny-----cool---------normal----weak
11----yes---sunny-----mild---------normal----strong
13----yes---overcast--hot----------normal----weak
-14-rows
&#x7531;&#x4E8E;&#x8FD9;&#x91CC;&#x7684;&#x6570;&#x636E;&#x662F;&#x6309;&#x7167;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x56DB;&#x4E2A;&#x6B65;&#x9AA4;&#x90FD;&#x662F;&#x9700;&#x8981;&#x7684;&#x3002;
&#x9006;&#x900F;&#x89C6;&#x5316;&#x6570;&#x636E;
create-view-weatherexampleunpivot-as
select-day-play
--unnestarrayoutlooktemperature-humiditywind-as-attr
--unnestarrayoutlooktemperaturehumiditywind-as-value
from-weatherexample
&#x8BF7;&#x6CE8;&#x610F;&#x4E0A;&#x9762;&#x5355;&#x5F15;&#x53F7;&#x7684;&#x4F7F;&#x7528;&#x3002;
&#x8BED;&#x53E5;-select--from-weatherexampleunpivot-&#x5C06;&#x4F1A;&#x663E;&#x793A;&#x7ECF;&#x8FC7;&#x9006;&#x900F;&#x89C6;&#x5316;&#x540E;&#x7684;&#x975E;&#x8303;&#x5F0F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6570;&#x636E;&#x4E00;&#x5171;-56-&#x884C;&#x3002;
-day--play--attr---------value
----------------------------------
---2--no----outlook------sunny
---2--no----temperature--hot
---2--no----humidity-----high
---2--no----wind---------strong
---4--yes---outlook------rain
---4--yes---temperature--mild
---4--yes---humidity-----high
---4--yes---wind---------weak
---6--no----outlook------rain
---6--no----temperature--cool
---6--no----humidity-----normal
---6--no----wind---------strong
---8--no----outlook------sunny
---8--no----temperature--mild
---8--no----humidity-----high
---8--no----wind---------weak
--10--yes---outlook------rain
--10--yes---temperature--mild
--10--yes---humidity-----normal
--10--yes---wind---------weak
--12--yes---outlook------overcast
--12--yes---temperature--mild
--12--yes---humidity-----high
--12--yes---wind---------strong
--14--no----outlook------rain
--14--no----temperature--mild
--14--no----humidity-----high
--14--no----wind---------strong
---1--no----outlook------sunny
---1--no----temperature--hot
---1--no----humidity-----high
---1--no----wind---------weak
---3--yes---outlook------overcast
---3--yes---temperature--hot
---3--yes---humidity-----high
---3--yes---wind---------weak
---5--yes---outlook------rain
---5--yes---temperature--cool
---5--yes---humidity-----normal
---5--yes---wind---------weak
---7--yes---outlook------overcast
---7--yes---temperature--cool
---7--yes---humidity-----normal
---7--yes---wind---------strong
---9--yes---outlook------sunny
---9--yes---temperature--cool
---9--yes---humidity-----normal
---9--yes---wind---------weak
--11--yes---outlook------sunny
--11--yes---temperature--mild
--11--yes---humidity-----normal
--11--yes---wind---------strong
--13--yes---outlook------overcast
--13--yes---temperature--hot
--13--yes---humidity-----normal
--13--yes---wind---------weak
--56-rows
&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;
create-table-weatherexamplenbtraining-as
select-attr-value-pivotsumarrayyesno-play-1-as-classcount
from-weatherexampleunpivot
group-by-attr-value
distributed-by-attr
&#x8BED;&#x53E5;-select--from-weatherexamplenbtraining-&#x663E;&#x793A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x4E00;&#x5171;-10-&#x884C;&#xFF1A;
-attr---------value-----classcount
------------------------------------
outlook-------rain------32
humidity------high------34
outlook-------overcast--40
humidity------normal----61
outlook-------sunny-----23
wind----------strong----33
temperature---hot-------22
temperature---cool------31
temperature---mild------42
wind----------weak------62
10-rows
&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;
create-view-weatherexamplenbclassifyfunctions-as
select-attr-value-classcount
--arrayyesno-as-classes
--sumclasscount-over-wainteger-as-classtotal
--countdistinct-value-over-wa-as-attrcount
from-weatherexamplenbtraining
window-wa-as-partition-by-attr
&#x8BED;&#x53E5;-select--from-weatherexamplenbclassifyfunction-&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;-10-&#x884C;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x3002;
attr----------value---classcount-classes--classtotal-attrcount
-----------------------------------------------------------------
temperature--mild-----42-------yesno-95---------------3
temperature--cool-----31-------yesno-95---------------3
temperature--hot------22-------yesno-95---------------3
wind---------weak-----62-------yesno-95---------------2
wind---------strong---33-------yesno-95---------------2
humidity-----high-----34-------yesno-95---------------2
humidity-----normal---61-------yesno-95---------------2
outlook------sunny----23-------yesno-95---------------3
outlook------overcast-40-------yesno-95---------------3
outlook------rain-----32-------yesno-95---------------3
10-rows
&#x4F7F;&#x7528;-nbclassify&#xFF0C;nbprobabilities-&#x6216;&#x5C06;-nbclassify-&#x548C;-nbprobabilities-&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;
&#x9996;&#x5148;&#x8981;&#x51B3;&#x5B9A;&#x5BF9;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x4F8B;&#x5982;&#x5BF9;&#x4E0B;&#x9762;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;
temperature--wind--humidity--outlook
-------------------------------------
cool---------weak--high------overcast
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x3002;&#x7ED3;&#x679C;&#x5C06;&#x4F1A;&#x7ED9;&#x51FA;&#x5224;&#x65AD;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;-yes-&#x548C;-no-&#x7684;&#x6982;&#x7387;&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-weatherexamplenbclassifyfunctions
where
--attr--temperature-and-value--cool-or
--attr--wind--------and-value--weak-or
--attr--humidity----and-value--high-or
--attr--outlook-----and-value--overcast
&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF1A;
class----------------probability
----------------------------------------------
-yes----08581033539207260141896646079274
1-row
&#x8981;&#x5BF9;&#x4E00;&#x7EC4;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x4ED6;&#x4EEC;&#x5B58;&#x50A8;&#x5230;&#x8868;&#x4E2D;&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x4F8B;&#x5982;&#x4E0B;&#x9762;&#x7684;&#x8868;-t1-&#x5305;&#x542B;&#x4E86;&#x8981;&#x5206;&#x7C7B;&#x7684;&#x8BB0;&#x5F55;&#xFF1A;
-day--outlook---temperature--humidity---wind
----------------------------------------------
--15--sunny-----mild---------high------strong
--16--rain------cool---------normal----strong
--17--overcast--hot----------normal----weak
--18--rain------hot----------high------weak
4-rows
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7528;&#x6765;&#x5BF9;&#x6574;&#x5F20;&#x8868;&#x8BA1;&#x7B97;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x3002;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x5BF9;&#x8868;&#x4E2D;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x5224;&#x65AD;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;-yes-&#x548C;-no-&#x7684;&#x6982;&#x7387;&#x3002;-&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;-nbclassify-&#x548C;-nbprobabilities-&#x4E24;&#x4E2A;&#x805A;&#x5408;&#x51FD;&#x6570;&#x90FD;&#x53C2;&#x4E0E;&#x4E86;&#x8FD0;&#x7B97;&#x3002;
select-t1day
-------t1temperature-t1wind-t1humidity-t1outlook
-------nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-t1-weatherexamplenbclassifyfunctions
where
--attr--temperature-and-value--t1temperature-or
--attr--wind--------and-value--t1wind-or
--attr--humidity----and-value--t1humidity-or
--attr--outlook-----and-value--t1outlook
group-by-t1day-t1temperature-t1wind-t1humidity-t1outlook
&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x56DB;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x5206;&#x522B;&#x5BF9;&#x5E94;-t1-&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x3002;
day-temp-wind----humidity--outlook---class--probability
---------------------------------------------------------
15--mild-strong--high------sunny-----no-----02446941323345820755305867665418
16--cool-strong--normal----rain------yes----07514719978091190248528002190881
18--hot--weak----high------rain------no-----04463875388901310553612461109869
17--hot--weak----normal----overcast--yes----0929719264278800702807357212004
4-rows
"><h5 id="pic3"> &#x56FE;3&#xFF1A;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5207;&#x7247;</h5>
<h3 id="&#x7406;&#x89E3;&#x5E76;&#x884C;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x6267;&#x884C;">&#x7406;&#x89E3;&#x5E76;&#x884C;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x6267;&#x884C;</h3>
<p>HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5C06;&#x4F1A;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x7A0B;&#x6765;&#x5904;&#x7406;&#x67E5;&#x8BE2;&#x7684;&#x76F8;&#x5173;&#x5DE5;&#x4F5C;&#x3002;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x67E5;&#x8BE2;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x88AB;&#x79F0;&#x4E3A;&#x67E5;&#x8BE2;&#x5206;&#x6D3E;&#x5668;&#xFF08;QD&#xFF09;&#x3002;QD &#x8D1F;&#x8D23;&#x521B;&#x5EFA;&#x548C;&#x5206;&#x6D3E;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x3002;&#x5B83;&#x540C;&#x65F6;&#x8D1F;&#x8D23;&#x6536;&#x96C6;&#x548C;&#x5C55;&#x793A;&#x6700;&#x7EC8;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x3002; &#x5728;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x67E5;&#x8BE2;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x88AB;&#x79F0;&#x4F5C;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x5668;&#xFF08;QE&#xFF09;&#x3002;QE &#x8D1F;&#x8D23;&#x6267;&#x884C;&#x5206;&#x914D;&#x7ED9;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5E76;&#x901A;&#x8FC7;&#x901A;&#x4FE1;&#x6A21;&#x5757;&#x5C06;&#x4E2D;&#x95F4;&#x7ED3;&#x679C;&#x53D1;&#x9001;&#x7ED9;&#x5176;&#x5B83;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x3002;</p>
<p>&#x6BCF;&#x4E2A;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x5207;&#x7247;&#x90FD;&#x81F3;&#x5C11;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x4E0E;&#x4E4B;&#x5BF9;&#x5E94;&#x8D1F;&#x8D23;&#x6267;&#x884C;&#x3002;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x8D4B;&#x4E88;&#x4E0D;&#x4F1A;&#x4E92;&#x76F8;&#x4F9D;&#x8D56;&#x7684;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7247;&#x6BB5;&#x3002;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x90FD;&#x4F1A;&#x6709;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x5E76;&#x884C;&#x5730;&#x53C2;&#x4E0E;&#x67E5;&#x8BE2;&#x7684;&#x5904;&#x7406;&#x5DE5;&#x4F5C;&#x3002;</p>
<p>&#x5728;&#x4E0D;&#x540C;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x4E0A;&#x6267;&#x884C;&#x76F8;&#x540C;&#x5207;&#x7247;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x7684;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x88AB;&#x79F0;&#x4E3A;&#x8FDB;&#x7A0B;&#x7EC4;&#x3002;&#x968F;&#x7740;&#x4E00;&#x90E8;&#x5206;&#x5DE5;&#x4F5C;&#x7684;&#x5B8C;&#x6210;&#xFF0C;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x5C06;&#x4F1A;&#x4ECE;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7EC4;&#x6D41;&#x5411;&#x5176;&#x5B83;&#x8FDB;&#x7A0B;&#x7EC4;&#x3002;&#x8FD9;&#x79CD;&#x5728;&#x6570;&#x636E;&#x8282;&#x70B9;&#x4E4B;&#x95F4;&#x7684;&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;&#x88AB;&#x79F0;&#x4E3A;&#x4E92;&#x8054;&#x7EC4;&#x4EF6;&#x3002;</p>
<p><a href="#pic4">&#x56FE;4</a> &#x5411;&#x60A8;&#x5C55;&#x793A;&#x5BF9;&#x4E8E; <a href="#pic3">&#x56FE;3</a> &#x4E2D;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x548C;&#x4E24;&#x4E2A;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x4E0A;&#x7684;&#x8FDB;&#x7A0B;&#x5206;&#x5E03;&#x60C5;&#x51B5;&#x3002;</p>
<p><img src="assets/figure-4-query-worker-processes.jpg" alt=""></p>
<h5 id="&#x56FE;4&#xFF1A;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;
&#x67E5;&#x8BE2;&#x7684;&#x5B9A;&#x4E49;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x67E5;&#x8BE2;&#x547D;&#x4EE4;&#x662F;&#x57FA;&#x4E8E;-postgresql-&#x5F00;&#x53D1;&#xFF0C;&#x800C;-postgresql-&#x662F;&#x5B9E;&#x73B0;&#x4E86;-sql-&#x6807;&#x51C6;&#x3002;
&#x672C;&#x5C0F;&#x7ED3;&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x5728;-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E2D;&#x7F16;&#x5199;-sql-&#x67E5;&#x8BE2;&#x3002;

sql-&#x8BCD;&#x6CD5;&#x5143;&#x7D20;
sql-&#x503C;&#x8868;&#x8FBE;&#x5F0F;

sql-&#x8BCD;&#x6CD5;&#x5143;&#x7D20;
sql-&#x662F;&#x4E00;&#x79CD;&#x6807;&#x51C6;&#x5316;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8BBF;&#x95EE;&#x8BED;&#x8A00;&#x3002;&#x4E0D;&#x540C;&#x5143;&#x7D20;&#x7EC4;&#x6784;&#x6210;&#x7684;&#x8BED;&#x8A00;&#x5141;&#x8BB8;&#x63A7;&#x5236;&#x6570;&#x636E;&#x5B58;&#x50A8;&#xFF0C;&#x6570;&#x636E;&#x83B7;&#x53D6;&#xFF0C;&#x6570;&#x636E;&#x5206;&#x6790;&#xFF0C;-&#x6570;&#x636E;&#x53D8;&#x6362;&#x548C;&#x6570;&#x636E;&#x4FEE;&#x6539;&#x7B49;&#x3002;&#x4F60;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x4F7F;&#x7528;-sql-&#x547D;&#x4EE4;&#x6765;&#x7F16;&#x5199;-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x7406;&#x89E3;&#x7684;&#x67E5;&#x8BE2;&#x548C;&#x547D;&#x4EE4;&#x3002;sql-&#x67E5;&#x8BE2;&#x7531;&#x4E00;&#x6761;&#x6216;&#x591A;&#x6761;&#x547D;&#x4EE4;&#x987A;&#x5E8F;&#x7EC4;&#x6210;&#x3002;&#x6BCF;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x662F;&#x7531;&#x591A;&#x4E2A;&#x8BCD;&#x6CD5;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x6B63;&#x786E;&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#x6784;&#x6210;&#x7684;&#xFF0C;-&#x6BCF;&#x6761;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x5206;&#x53F7;&#xFF08;&#xFF09;&#x5206;&#x9694;&#x3002;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5728;-postgresql-&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#x4E0A;&#x8FDB;&#x884C;&#x4E86;&#x4E00;&#x4E9B;&#x6269;&#x5C55;&#xFF0C;&#x5E76;&#x6839;&#x636E;&#x5206;&#x5E03;&#x5F0F;&#x73AF;&#x5883;&#x589E;&#x52A0;&#x4E86;&#x90E8;&#x5206;&#x7684;&#x9650;&#x5236;&#x3002;&#x5982;&#x679C;&#x60A8;&#x5E0C;&#x671B;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x5173;&#x4E8E;-postgresql-&#x4E2D;&#x7684;-sql-&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x548C;&#x6982;&#x5FF5;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x53C2;&#x8003;-postgresql82&#x82F1;&#x6587;&#x624B;&#x518C;&#x4E2D;sql&#x8BED;&#x6CD5;&#x7AE0;&#x8282;-&#x6216;&#x8005;-postgresql93&#x4E2D;&#x6587;&#x624B;&#x518C;&#x4E2D;-sql-&#x8BED;&#x6CD5;&#x7AE0;&#x8282;&#x3002;&#x7531;&#x4E8E;&#x4E2D;&#x6587;&#x7F51;&#x7AD9;&#x6CA1;&#x6709;-82-&#x624B;&#x518C;&#xFF0C;&#x8BF7;&#x60A8;&#x6CE8;&#x610F;&#x76F8;&#x5173;&#x8D44;&#x6599;&#x4E2D;&#x7684;&#x8BED;&#x6CD5;&#x53D8;&#x52A8;&#x3002;
sql-&#x503C;&#x8868;&#x8FBE;&#x5F0F;
sql-&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x503C;&#xFF0C;&#x7B26;&#x53F7;&#xFF0C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;sql-&#x51FD;&#x6570;&#x548C;&#x6570;&#x636E;&#x7EC4;&#x6210;&#x3002;&#x8868;&#x8FBE;&#x5F0F;&#x901A;&#x8FC7;&#x6BD4;&#x8F83;&#x6570;&#x636E;&#xFF0C;&#x6267;&#x884C;&#x8BA1;&#x7B97;&#x75C5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x3002;&#x8868;&#x8FBE;&#x5F0F;&#x8BA1;&#x7B97;&#x5305;&#x62EC;&#xFF1A;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#xFF0C;&#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x548C;&#x96C6;&#x5408;&#x8FD0;&#x7B97;&#x3002;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7C7B;&#x522B;&#xFF1A;

&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;
&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x5217;&#x5F15;&#x7528;
&#x5E38;&#x4EAE;&#x6216;&#x5B57;&#x9762;&#x503C;
&#x76F8;&#x5173;&#x81EA;&#x67E5;&#x8BE2;
&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;
&#x51FD;&#x6570;&#x8C03;&#x7528;
insert-&#x6216;-update-&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x4E3A;&#x5217;&#x63D0;&#x4F9B;&#x7684;&#x503C;
&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;
&#x5217;&#x5F15;&#x7528;
&#x5728;&#x51FD;&#x6570;&#x4F53;&#x5185;&#x6216;-prepared-&#x8BED;&#x53E5;&#x4E2D;&#x5F15;&#x7528;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;
where-&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x641C;&#x7D22;&#x6761;&#x4EF6;
select-&#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x8FD4;&#x56DE;&#x5217;&#x8868;
&#x7C7B;&#x578B;&#x8F6C;&#x6362;
&#x62EC;&#x53F7;&#x4FDD;&#x62A4;&#x7684;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;

&#x50CF;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x8FD9;&#x6837;&#x7684;-sql-&#x7ED3;&#x6784;&#x867D;&#x7136;&#x5C5E;&#x4E8E;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x4E0E;&#x666E;&#x901A;&#x7684;&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x4E0D;&#x76F8;&#x540C;&#x3002;&#x8BF7;&#x53C2;&#x8003;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x5217;&#x5F15;&#x7528;
&#x5217;&#x5F15;&#x7528;&#x7684;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;
correlationcolumnname
&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;correlation-&#x662F;&#x8868;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF1A;&#x5728;&#x8868;&#x540D;&#x524D;&#x9762;&#x6DFB;&#x52A0;&#x6A21;&#x5F0F;&#x540D;&#xFF09;&#x6216;&#x8005;&#x5B9A;&#x4E49;&#x5728;-from-&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x8868;&#x7684;&#x522B;&#x540D;&#x3002;&#x5982;&#x679C;&#x5217;&#x540D;&#x5728;&#x67E5;&#x8BE2;&#x8BBF;&#x95EE;&#x7684;&#x8868;&#x4E2D;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF0C;&#x90A3;&#x4E48;-correlation-&#x90E8;&#x5206;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x7701;&#x7565;&#x7684;&#x3002;
&#x4F4D;&#x7F6E;&#x53C2;&#x6570;
&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x662F;&#x6307;&#x901A;&#x8FC7;&#x6307;&#x5B9A;&#x4F20;&#x9012;&#x7ED9;-sql-&#x8BED;&#x53E5;&#x6216;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;&#x6765;&#x5F15;&#x7528;&#x7684;&#x53C2;&#x6570;&#x3002;&#x4F8B;&#x5982;&#xFF1A;1-&#x5F15;&#x7528;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;2-&#x5F15;&#x7528;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4F9D;&#x6B64;&#x7C7B;&#x63A8;&#x3002;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x7684;&#x503C;&#x662F;&#x901A;&#x8FC7;&#x5728;-sql-&#x8BED;&#x53E5;&#x7684;&#x5916;&#x90E8;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x6216;&#x8005;&#x901A;&#x8FC7;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x4F20;&#x9012;&#x3002;-&#x4E00;&#x4E9B;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x53E3;&#x5E93;&#x51FD;&#x6570;&#x652F;&#x6301;&#x5728;-sql-&#x547D;&#x4EE4;&#x4E4B;&#x5916;&#x6307;&#x5B9A;&#x6570;&#x503C;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x53C2;&#x6570;&#x5F15;&#x7528;&#x7684;&#x662F;-sql-&#x4E4B;&#x5916;&#x7684;&#x5B9E;&#x9645;&#x503C;&#x3002;
&#x5F15;&#x7528;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x7684;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;
number
&#x793A;&#x4F8B;
create-function-depttext-returns-dept
----as--select--from-dept-where-name--1-
----language-sql
&#x8FD9;&#x91CC;-1-&#x5F15;&#x7528;&#x7684;&#x662F;&#x5728;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x4F20;&#x9012;&#x7ED9;&#x51FD;&#x6570;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x503C;&#x3002;
&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;
&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x4EA7;&#x751F;&#x4E86;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x7C7B;&#x578B;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x6570;&#x7EC4;&#x4E2D;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x5143;&#x7D20;&#x503C;&#xFF1A;
expressionsubscript
&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x591A;&#x4E2A;&#x76F8;&#x8FDE;&#x7684;&#x5143;&#x7D20;&#x503C;&#xFF0C;&#x79F0;&#x4E3A;&#x6570;&#x7EC4;&#x5206;&#x7247;&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;
expressionlowersubscriptuppersubscript
&#x4E0B;&#x6807;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8BE5;&#x8868;&#x8FBE;&#x5F0F;&#x5FC5;&#x987B;&#x8FD4;&#x56DE;&#x6574;&#x6570;&#x503C;&#x7C7B;&#x578B;&#x3002;
&#x5927;&#x90E8;&#x5206;&#x65F6;&#x5019;&#xFF0C;&#x6570;&#x7EC4;&#x8868;&#x8FBE;&#x5F0F;&#x5FC5;&#x987B;&#x5728;&#x62EC;&#x53F7;&#x4E2D;&#x4F7F;&#x7528;&#x3002;&#x5982;&#x679C;&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;&#x8BBF;&#x95EE;&#x5217;&#x5F15;&#x7528;&#x6216;&#x8005;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x62EC;&#x53F7;&#x662F;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x7684;&#x3002;-&#x5BF9;&#x4E8E;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8FDE;&#x63A5;&#x591A;&#x4E2A;&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;
mytablearraycolumn4
mytabletwodcolumn1734
11042
arrayfunctionab42
&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;
&#x5982;&#x679C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#xFF09;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x9009;&#x62E9;&#x8BE5;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x4E2D;&#x7684;&#x7279;&#x5B9A;&#x6210;&#x5458;&#x503C;&#xFF1A;
expressionfieldname
&#x8BB0;&#x5F55;&#x8868;&#x8FBE;&#x5F0F;&#x901A;&#x5E38;&#x9700;&#x8981;&#x5728;&#x62EC;&#x53F7;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x88AB;&#x8BBF;&#x95EE;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x8868;&#x5F15;&#x7528;&#x6216;&#x8005;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x62EC;&#x53F7;&#x662F;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x7684;&#x3002;&#x793A;&#x4F8B;&#xFF1A;
mytablemycolumn
1somecolumn
rowfunctionabcol3
&#x4E00;&#x4E2A;&#x9650;&#x5B9A;&#x7684;&#x5217;&#x5F15;&#x7528;&#x662F;&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7279;&#x4F8B;&#x3002;
&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;
&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x7684;&#x51E0;&#x79CD;&#x8BED;&#x6CD5;&#xFF1A;
expression-operator-expressionbinary-infix-operator
operator-expressionunary-prefix-operator
expression-operatorunary-postfix-operator
&#x793A;&#x4F8B;&#x4E2D;&#x7684;-operator-&#x5B9E;&#x9645;&#x662F;&#x8FD0;&#x7B97;&#x7B26;&#x7B26;&#x53F7;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;and&#xFF0C;or&#xFF0C;-&#x7B49;&#x3002;&#x8FD0;&#x7B97;&#x7B26;&#x4E5F;&#x6709;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;
operatorschemaoperatorname
&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x4EE5;&#x53CA;&#x4ED6;&#x4EEC;&#x7A76;&#x7ADF;&#x662F;&#x4E00;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#x8FD8;&#x662F;&#x4E8C;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x53D6;&#x51B3;&#x4E8E;&#x7CFB;&#x7EDF;&#x548C;&#x7528;&#x6237;&#x7684;&#x5B9A;&#x4E49;&#x3002;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x5185;&#x5EFA;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x51FD;&#x6570;&#x8C03;&#x7528;
&#x51FD;&#x6570;&#x8C03;&#x7528;&#x7684;&#x8BED;&#x6CD5;&#x662F;&#x51FD;&#x6570;&#x540D;&#xFF08;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF1A;&#x5728;&#x51FD;&#x6570;&#x540D;&#x5F00;&#x5934;&#x6DFB;&#x52A0;&#x6A21;&#x5F0F;&#x540D;&#xFF09;&#x8DDF;&#x968F;&#x7740;&#x4F7F;&#x7528;&#x62EC;&#x53F7;&#x4FDD;&#x62A4;&#x7684;&#x53C2;&#x6570;&#x5217;&#x8868;&#xFF1A;
function-expression--expression--
&#x4E0B;&#x9762;&#x793A;&#x4F8B;&#x662F;&#x901A;&#x8FC7;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x8BA1;&#x7B97;2&#x7684;&#x5E73;&#x65B9;&#x6839;&#xFF1A;
sqrt2
&#x53C2;&#x8003;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x805A;&#x96C6;&#x8868;&#x8FBE;&#x5F0F;
&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x6307;&#x5BF9;&#x4E8E;&#x67E5;&#x8BE2;&#x9009;&#x62E9;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x4E0A;&#x5E94;&#x7528;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x51FD;&#x6570;&#x3002;&#x805A;&#x5408;&#x51FD;&#x6570;&#x5728;&#x4E00;&#x7EC4;&#x503C;&#x4E0A;&#x8FDB;&#x884C;&#x8FD0;&#x7B97;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x5BF9;&#x4E00;&#x7EC4;&#x503C;&#x8FDB;&#x884C;&#x6C42;&#x548C;&#x8FD0;&#x7B97;&#x6216;&#x8005;&#x8BA1;&#x7B97;&#x5E73;&#x5747;&#x503C;&#x3002;&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#xFF1A;

aggregatenameexpression------&#x2014;-&#x5904;&#x7406;&#x6240;&#x6709;&#x503C;&#x4E3A;&#x975E;&#x7A7A;&#x7684;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#x3002;
aggregatenameall-expression------&#x2014;-&#x548C;&#x4E0A;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x884C;&#x4E3A;&#x4E00;&#x81F4;&#xFF0C;&#x56E0;&#x4E3A;-all-&#x662F;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x3002;
aggregatenamedistinct-expression------&#x2014;-&#x5904;&#x7406;&#x6240;&#x6709;&#x53BB;&#x9664;&#x91CD;&#x590D;&#x540E;&#x7684;&#x975E;&#x7A7A;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#x3002;
aggregatename-&#x2014;-&#x5904;&#x7406;&#x6240;&#x6709;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#xFF0C;&#x975E;&#x7A7A;&#x503C;&#x548C;&#x7A7A;&#x503C;&#x90FD;&#x4F1A;&#x88AB;&#x5904;&#x7406;&#x3002;&#x901A;&#x5E38;&#x8FD9;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x90FD;&#x662F;&#x4E3A;count&#x670D;&#x52A1;&#x7684;&#x3002;

&#x4E0A;&#x9762;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;-aggregatename-&#x662F;&#x4E00;&#x4E2A;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x540D;&#x79F0;&#xFF08;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6A21;&#x5F0F;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF09;&#x3002;&#x4E0A;&#x9762;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;-expression-&#x53EF;&#x4EE5;&#x662F;&#x9664;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x81EA;&#x8EAB;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x503C;&#x5408;&#x6CD5;&#x8868;&#x8FBE;&#x5F0F;&#x3002;
&#x4F8B;&#x5982;&#xFF0C;count-&#x8FD4;&#x56DE;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x7684;&#x603B;&#x6570;&#x91CF;&#xFF0C;countf1-&#x8FD4;&#x56DE;-f1-&#x503C;&#x4E2D;&#x975E;&#x7A7A;&#x7684;&#x603B;&#x6570;&#x91CF;&#xFF0C;countdistinct-f1-&#x8FD4;&#x56DE;&#x7684;&#x662F;-f1-&#x503C;&#x4E2D;&#x975E;&#x7A7A;&#x5E76;&#x53BB;&#x9664;&#x91CD;&#x590D;&#x503C;&#x540E;&#x7684;&#x603B;&#x6570;&#x91CF;&#x3002;
&#x8981;&#x4E86;&#x89E3;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x3002;&#x9664;&#x4E86;&#x9884;&#x5B9A;&#x4E49;&#x805A;&#x5408;&#x51FD;&#x6570;&#x5916;&#xFF0C;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x3002;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x63D0;&#x4F9B;-median-&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x8FD4;&#x56DE;-percentilecont-&#x7684;-50-&#x5206;&#x4F4D;&#x6570;&#x7ED3;&#x679C;&#x3002;-&#x4E0B;&#x9762;&#x662F;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x652F;&#x6301;&#x7684;&#x7279;&#x6B8A;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;
percentilecontpercentage-within-group-order-by-expression
percentilediscpercentage-within-group-order-by-expression
&#x76EE;&#x524D;&#x53EA;&#x6709;&#x4E0A;&#x9762;&#x4E24;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5173;&#x952E;&#x5B57;-within-group&#x3002;
&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x9650;&#x5236;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x4E86;&#x76EE;&#x524D;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x9650;&#x5236;&#xFF1A;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x5173;&#x952E;&#x5B57;&#xFF1A;all&#xFF0C;distinct&#xFF0C;filter-&#x548C;-over&#x3002;&#x8BF7;&#x53C2;&#x8003;-&#x8868;5-&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;
&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x53EA;&#x80FD;&#x51FA;&#x73B0;&#x5728;-select-&#x547D;&#x4EE4;&#x7684;&#x7ED3;&#x679C;&#x5217;&#x8868;&#x6216;&#x8005;-having-&#x5B50;&#x53E5;&#x4E2D;&#x3002;&#x5728;&#x5176;&#x5B83;&#x4F4D;&#x7F6E;&#x7D27;&#x81F4;&#x8BBF;&#x95EE;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;where&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5728;&#x5176;&#x5B83;&#x5176;&#x5B83;&#x4F4D;&#x7F6E;&#x7684;&#x8BA1;&#x7B97;&#x65E9;&#x4E8E;&#x805A;&#x5408;&#x6570;&#x636E;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x6B64;&#x9650;&#x5236;&#x7279;&#x6307;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x6240;&#x5C5E;&#x7684;&#x67E5;&#x8BE2;&#x5C42;&#x6B21;&#x3002;
&#x5F53;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x51FA;&#x73B0;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x805A;&#x5408;&#x64CD;&#x4F5C;&#x76F8;&#x5F53;&#x4E8E;&#x4F5C;&#x7528;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x53EA;&#x5305;&#x542B;&#x5916;&#x5C42;&#x53D8;&#x91CF;&#xFF0C;&#x8BE5;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x5C5E;&#x4E8E;&#x6700;&#x8FD1;&#x4E00;&#x5C42;&#x7684;&#x5916;&#x90E8;&#x8868;&#x67E5;&#x8BE2;&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x5728;&#x8BE5;&#x67E5;&#x8BE2;&#x7ED3;-&#x679C;&#x4E0A;&#x8FDB;&#x884C;&#x805A;&#x5408;&#x8FD0;&#x7B97;&#x3002;&#x8BE5;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x5BF9;&#x4E8E;&#x51FA;&#x73B0;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x6765;&#x8BF4;&#xFF0C;&#x5C06;&#x4F1A;&#x5F53;&#x6210;&#x4E00;&#x4E2A;&#x5916;&#x90E8;&#x5F15;&#x7528;&#xFF0C;&#x5E76;&#x4EE5;&#x5E38;&#x91CF;&#x503C;&#x5904;&#x7406;&#x3002;&#x8BF7;&#x53C2;&#x8003;-&#x8868;2-&#x4E86;&#x89E3;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x3002;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x5728;&#x591A;&#x4E2A;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;&#x4E0A;&#x4F7F;&#x7528;-distinct&#x3002;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x5141;&#x8BB8;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x66F4;&#x52A0;&#x7B80;&#x5355;&#x5730;&#x901A;&#x8FC7;&#x6807;&#x51C6;sql&#x8BED;&#x8A00;&#xFF0C;&#x6765;&#x6784;&#x5EFA;&#x590D;&#x6742;&#x7684;&#x5728;&#x7EBF;&#x5206;&#x6790;&#x5904;&#x7406;&#xFF08;olap&#xFF09;&#x3002;-&#x4F8B;&#x5982;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x8BA1;&#x7B97;&#x79FB;&#x52A8;&#x5E73;&#x5747;&#x503C;&#xFF0C;&#x67D0;&#x4E2A;&#x8303;&#x56F4;&#x5185;&#x7684;&#x603B;&#x548C;&#xFF0C;&#x6839;&#x636E;&#x67D0;&#x4E9B;&#x5217;&#x503C;&#x7684;&#x53D8;&#x5316;&#x91CD;&#x7F6E;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x6216;&#x6392;&#x540D;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x7B80;&#x5355;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x8868;&#x8FF0;&#x590D;&#x6742;&#x7684;&#x6BD4;&#x4F8B;&#x5173;&#x7CFB;&#x3002;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x8868;&#x793A;&#x5728;&#x7A97;&#x53E3;&#x5E27;&#x4E0A;&#x5E94;&#x7528;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#xFF0C;&#x7A97;&#x53E3;&#x5E27;&#x662F;&#x901A;&#x8FC7;&#x975E;&#x5E38;&#x7279;&#x522B;&#x7684;-over-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x7684;&#x3002;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x662F;&#x5206;&#x7EC4;&#x540E;&#x7684;&#x5E94;&#x7528;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x96C6;&#x5408;&#x3002;&#x4E0E;&#x805A;&#x5408;&#x51FD;&#x6570;&#x9488;&#x5BF9;&#x6BCF;&#x4E2A;&#x5206;&#x7EC4;&#x7684;&#x8BB0;&#x5F55;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x4E0D;&#x540C;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x771F;&#x5BF9;&#x6BCF;&#x884C;&#x90FD;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;&#x4F46;&#x662F;&#x8BE5;&#x503C;&#x7684;&#x8BA1;&#x7B97;&#x662F;&#x5B8C;&#x5168;&#x771F;&#x5BF9;&#x6839;&#x636E;&#x8BB0;&#x5F55;&#x5BF9;&#x5E94;&#x7684;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x8FDB;&#x884C;&#x7684;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;&#x5206;&#x533A;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5C31;&#x4F1A;&#x5728;&#x6574;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x8D4F;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x3002;
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8BED;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;
windowfunction--expression----over--windowspecification-
&#x8FD9;&#x91CC;&#x7684;-windowfunction-&#x662F;&#x8868;-3-&#x5217;&#x51FA;&#x7684;&#x51FD;&#x6570;&#x4E4B;&#x4E00;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x4EFB;&#x4F55;&#x4E0D;&#x5305;&#x542B;&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5408;&#x6CD5;&#x503C;&#x3002;windowspecification-&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;
windowname
partition-by-expression--
order-by-expression-asc--desc--using-operator--
----range--rows
--------unbounded-preceding
--------expression-preceding
--------current-row
--------between-windowframebound-and-windowframebound-
&#x4E0A;&#x9762;&#x7684;-windowframebound-&#x5B9A;&#x4E49;&#x5982;&#x4E0B;
unbounded-preceding
expression-preceding
current-row
expression-following
unbounded-following
&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x53EA;&#x80FD;&#x5728;-select-&#x7684;&#x8FD4;&#x56DE;&#x91CC;&#x8868;&#x4E2D;&#x51FA;&#x73B0;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-count-overpartition-by-customerid--from-sales
over-&#x5B50;&#x53E5;&#x662F;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x4E0E;&#x5176;&#x4ED6;&#x805A;&#x5408;&#x51FD;&#x6570;&#x6216;&#x62A5;&#x8868;&#x51FD;&#x6570;&#x6700;&#x5927;&#x7684;&#x533A;&#x522B;&#x3002;over-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x7684;-windowspecification-&#x786E;&#x5B9A;&#x4E86;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5E94;&#x7528;&#x7684;&#x8303;&#x56F4;&#x3002;&#x7A97;&#x53E3;&#x8BF4;&#x660E;&#x5305;&#x542B;&#x4E0B;&#x9762;&#x7279;&#x5F81;&#xFF1A;
partition-by-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x5E94;&#x7528;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x4E0A;&#x7684;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x3002;&#x5982;&#x679C;&#x7701;&#x7565;&#x6B64;&#x53C2;&#x6570;&#xFF0C;&#x6574;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x5206;&#x533A;&#x4F7F;&#x7528;&#x3002;
order-by-&#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x5728;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E2D;&#x7528;&#x4E8E;&#x6392;&#x5E8F;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x7A97;&#x53E3;&#x8BF4;&#x660E;&#x4E2D;&#x7684;-order-by-&#x5B50;&#x53E5;&#x548C;&#x4E3B;&#x67E5;&#x8BE2;&#x4E2D;&#x7684;-order-by-&#x5B50;&#x53E5;&#x662F;&#x76F8;&#x4E92;&#x72EC;&#x7ACB;&#x7684;&#x3002;order-by-&#x5B50;&#x53E5;&#x5BF9;&#x4E8E;&#x8BA1;&#x7B97;&#x6392;&#x540D;&#x7684;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x6765;&#x8BF4;&#x662F;&#x5FC5;&#x9700;&#x7684;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x6392;&#x5E8F;&#x540E;&#x624D;&#x80FD;&#x83B7;&#x5F97;&#x6392;&#x540D;&#x503C;&#x3002;-&#x5BF9;&#x4E8E;&#x5728;&#x7EBF;&#x5206;&#x6790;&#x5904;&#x7406;&#x805A;&#x5408;&#x64CD;&#x4F5C;&#xFF0C;&#x7A97;&#x53E3;&#x5E27;&#xFF08;rows-&#x6216;-range-&#x5B50;&#x53E5;&#xFF09;&#x9700;&#x8981;-order-by-&#x5B50;&#x53E5;&#x624D;&#x80FD;&#x4F7F;&#x7528;&#x3002;
rowsrange-&#x5B50;&#x53E5;&#x4E3A;&#x805A;&#x5408;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#xFF08;&#x975E;&#x6392;&#x540D;&#x64CD;&#x4F5C;&#xFF09;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7A97;&#x53E3;&#x5E27;&#x3002;&#x7A97;&#x53E3;&#x5E27;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5206;&#x533A;&#x5185;&#x7684;&#x4E00;&#x7EC4;&#x8BB0;&#x5F55;&#x3002;-&#x5B9A;&#x4E49;&#x4E86;&#x7A97;&#x53E3;&#x5E27;&#x4E4B;&#x540E;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5C06;&#x4F1A;&#x5728;&#x79FB;&#x52A8;&#x7A97;&#x53E3;&#x5E27;&#x4E0A;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#x5728;&#x6574;&#x4E2A;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E0A;&#x8FDB;&#x884C;&#x3002;-&#x7A97;&#x53E3;&#x5E27;&#x53EF;&#x4EE5;&#x662F;&#x57FA;&#x4E8E;&#x8BB0;&#x5F55;&#x5206;&#x9694;&#x7684;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x57FA;&#x4E8E;&#x503C;&#x5206;&#x9694;&#x7684;&#x3002;
&#x7C7B;&#x578B;&#x8F6C;&#x6362;
&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x4E24;&#x79CD;&#x7B49;&#x4EF7;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8BED;&#x6CD5;&#xFF1A;
cast--expression-as-type-
expressiontype
cast-&#x7684;&#x8BED;&#x6CD5;&#x662F;&#x7B26;&#x5408;-sql-&#x6807;&#x51C6;&#x7684;&#x7684;&#xFF1B;&#x800C;&#x8BED;&#x6CD5;--&#x662F;-postgresql-&#x5386;&#x53F2;&#x9057;&#x7559;&#x7684;&#x4E60;&#x60EF;&#x3002;
&#x5BF9;&#x4E8E;&#x5DF2;&#x77E5;&#x7C7B;&#x578B;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x64CD;&#x4F5C;&#x662F;&#x8FD0;&#x884C;&#x65F6;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x3002;&#x53EA;&#x6709;&#x5F53;&#x7CFB;&#x7EDF;&#x4E2D;&#x9002;&#x7528;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x51FD;&#x6570;&#xFF0C;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x624D;&#x53EF;&#x80FD;&#x6210;&#x529F;&#x3002;-&#x8FD9;&#x4E0E;&#x76F4;&#x63A5;&#x5728;&#x5E38;&#x91CF;&#x4E0A;&#x5E94;&#x7528;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5E76;&#x4E0D;&#x76F8;&#x540C;&#x3002;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x5B57;&#x9762;&#x503C;&#x4E0A;&#x5E94;&#x7528;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x4EE3;&#x8868;&#x4E86;&#x7528;&#x5B57;&#x9762;&#x503C;&#x5E38;&#x91CF;&#x5BF9;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x8D4B;&#x503C;&#x3002;-&#x56E0;&#x6B64;&#xFF0C;&#x8BE5;&#x5B57;&#x7B26;&#x4E32;&#x5B57;&#x9762;&#x503C;&#x53EA;&#x8981;&#x662F;&#x8BE5;&#x7C7B;&#x578B;&#x63A5;&#x6536;&#x7684;&#x5408;&#x6CD5;&#x8F93;&#x5165;&#xFF0C;&#x8BE5;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x90FD;&#x4F1A;&#x6210;&#x529F;&#x3002;
&#x5728;&#x4E00;&#x4E9B;&#x4F4D;&#x7F6E;&#x4E0A;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x7C7B;&#x578B;&#x5982;&#x679C;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x6B67;&#x4E49;&#x65F6;&#xFF0C;&#x663E;&#x793A;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x7701;&#x7565;&#x7684;&#x3002;-&#x4F8B;&#x5982;&#xFF0C;&#x5F53;&#x4E3A;&#x4E00;&#x5F20;&#x8868;&#x7684;&#x67D0;&#x4E2A;&#x5217;&#x8D4B;&#x503C;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x5E94;&#x7528;&#x6B63;&#x786E;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x3002;-&#x7CFB;&#x7EDF;&#x8981;&#x5E94;&#x7528;&#x81EA;&#x52A8;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x89C4;&#x5219;&#x7684;&#x524D;&#x63D0;&#x662F;&#xFF0C;&#x5F53;&#x4E14;&#x4EC5;&#x5F53;&#x7CFB;&#x7EDF;&#x8868;&#x4E2D;&#x5B9A;&#x4E49;&#x9690;&#x5F0F;&#x5730;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x662F;&#x5408;&#x6CD5;&#x7684;&#x3002;-&#x5176;&#x4ED6;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#xFF0C;&#x5FC5;&#x9700;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8BED;&#x6CD5;&#x663E;&#x793A;&#x5730;&#x8FDB;&#x884C;&#x8C03;&#x7528;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x53EF;&#x4EE5;&#x963B;&#x6B62;&#x4E00;&#x90E8;&#x5206;&#x7528;&#x6237;&#x610F;&#x6599;&#x4E4B;&#x5916;&#x7684;&#x975E;&#x671F;&#x671B;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x7684;&#x53D1;&#x751F;&#x3002;
&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;
&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x4E00;&#x4E2A;&#x62EC;&#x53F7;&#x4E2D;&#x7684;-select-&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#xFF0C;&#x5E76;&#x4E14;&#x8BE5;&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x884C;&#x4E00;&#x5217;&#xFF08;&#x4E00;&#x4E2A;&#x503C;&#xFF09;&#x3002;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x4E0D;&#x652F;&#x6301;&#x4F7F;&#x7528;&#x8FD4;&#x56DE;&#x591A;&#x884C;&#x6216;&#x591A;&#x5217;&#x7684;-select-&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x3002;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x8FD0;&#x884C;&#x5E76;&#x4F7F;&#x7528;&#x76F8;&#x5173;&#x81EA;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;&#x76F8;&#x5173;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x5F15;&#x7528;&#x4E86;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x53D8;&#x91CF;&#x7684;&#x67E5;&#x8BE2;&#x3002;
&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;
&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x4E00;&#x4E2A;-select-&#x67E5;&#x8BE2;&#x4F4D;&#x4E8E;-&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x6216;-where-&#x6761;&#x4EF6;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x5E76;&#x5F15;&#x7528;&#x4E86;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x3002;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x5141;&#x8BB8;&#x66F4;&#x9AD8;&#x6548;&#x7684;&#x8868;&#x793A;&#x51FA;&#x5F15;&#x7528;&#x5176;&#x4ED6;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x80FD;&#x591F;&#x652F;&#x6301;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x7279;&#x6027;&#xFF0C;&#x6B64;&#x7279;&#x6027;&#x80FD;&#x591F;&#x5141;&#x8BB8;&#x517C;&#x5BB9;&#x5F88;&#x591A;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;-&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x8FD4;&#x56DE;&#x8BB0;&#x5F55;&#x662F;&#x4E00;&#x6761;&#x8FD8;&#x662F;&#x591A;&#x6761;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x662F;&#x6807;&#x91CF;&#x6216;&#x8005;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;-&#x8FD9;&#x53D6;&#x51B3;&#x4E8E;&#x5B83;&#x8FD4;&#x56DE;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x4E00;&#x6761;&#x8FD8;&#x662F;&#x591A;&#x6761;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x76EE;&#x524D;&#x4E0D;&#x652F;&#x6301;&#x5F15;&#x7528;&#x8DE8;&#x5C42;&#x7684;&#x53D8;&#x91CF;&#xFF08;&#x4E0D;&#x652F;&#x6301;&#x95F4;&#x63A5;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF09;&#x3002;
&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x793A;&#x4F8B;-
&#x793A;&#x4F8B;-1-&#x2013;-&#x6807;&#x91CF;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;
select--from-t1-where-t1x
-------------select-maxt2x-from-t2-where-t2y--t1y
&#x793A;&#x4F8B;-2-&#x2013;-&#x76F8;&#x5173;-exists-&#x5B50;&#x67E5;&#x8BE2;
select--from-t1-where
exists-select-1-from-t2-where-t2x--t1x
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5229;&#x7528;&#x4E0B;&#x9762;&#x4E24;&#x4E2A;&#x7B97;&#x6CD5;&#x6765;&#x8FD0;&#x884C;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF1A;
&#x5C06;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x5C55;&#x5F00;&#x6210;&#x4E3A;&#x8FDE;&#x63A5;&#x8FD0;&#x7B97;&#xFF1A;&#x8FD9;&#x79CD;&#x7B97;&#x662F;&#x662F;&#x6700;&#x9AD8;&#x6548;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5BF9;&#x4E8E;&#x5927;&#x90E8;&#x5206;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x4F7F;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x4E00;&#x4E9B;-tpc-h-&#x6D4B;&#x8BD5;&#x96C6;&#x4E2D;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6B64;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x4F18;&#x5316;&#x3002;
&#x5BF9;&#x4E8E;&#x5F15;&#x7528;&#x7684;&#x67E5;&#x8BE2;&#x7684;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x90FD;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF1A;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x76F8;&#x5BF9;&#x6765;&#x8BF4;&#x4F4E;&#x6548;&#x7684;&#x7B97;&#x6CD5;&#x3002;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5BF9;&#x4E8E;&#x4F4D;&#x4E8E;-select-&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x548C;-where-&#x6761;&#x4EF6;&#x4E2D;-or-&#x8FDE;&#x63A5;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x7B97;&#x6CD5;&#x3002;
&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5BF9;&#x4E8E;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x67E5;&#x8BE2;&#x91CD;&#x5199;&#x6765;&#x6539;&#x8FDB;&#x6027;&#x80FD;&#x3002;
&#x793A;&#x4F8B;-3---select-&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;
&#x539F;&#x59CB;&#x67E5;&#x8BE2;
select-t1a
------select-countdistinct-t2z-from-t2-where-t1x--t2y-dt2
from-t1
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x9996;&#x5148;&#x4E0E;&#x8868;-t1-&#x6267;&#x884C;&#x5185;&#x8FDE;&#x63A5;&#xFF0C;&#x518D;&#x6267;&#x884C;&#x5DE6;&#x5916;&#x8FDE;&#x63A5;&#x3002;&#x67E5;&#x8BE2;&#x91CD;&#x5199;&#x53EA;&#x80FD;&#x5BF9;&#x7B49;&#x503C;&#x8FDE;&#x63A5;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x6761;&#x4EF6;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;
select-t1a-dt2-from-t1
-------left-join
--------select-t2y-as-csqy-countdistinct-t2z-as-dt2
--------------from-t1-t2-where-t1x--t2y
--------------group-by-t1x
-------on-t1x--csqy
&#x793A;&#x4F8B;-4---or-&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;-&#x539F;&#x59CB;&#x67E5;&#x8BE2;
select--from-t1
where
x--select-count-from-t2-where-t1x--t2x
or-x--select-count-from-t3-where-t1y--t3y
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x662F;&#x6839;&#x636E;-or-&#x6761;&#x4EF6;&#xFF0C;&#x5C06;&#x539F;&#x6765;&#x67E5;&#x8BE2;&#x5206;&#x6210;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;-union-&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x3002;
&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;
select--from-t1
where-x--select-count-from-t2-where-t1x--t2x
union
select--from-t1
where-x--select-count-from-t3-where-t1y--t3y
&#x8981;&#x67E5;&#x770B;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-explain-select-&#x6216;&#x8005;-explain-analyze-select&#x3002;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x4E2D;&#x7684;-subplan-&#x8282;&#x70B9;&#x4EE3;&#x8868;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x5BF9;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x7684;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x90FD;&#x5904;&#x7406;&#x4E00;&#x6B21;&#xFF0C;&#x56E0;&#x6B64;&#x6697;&#x793A;&#x7740;&#x67E5;&#x8BE2;&#x53EF;&#x80FD;&#x53EF;&#x4EE5;&#x88AB;&#x91CD;&#x5199;&#x548C;&#x4F18;&#x5316;&#x3002;
&#x9AD8;&#x7EA7;&#x8868;&#x8868;&#x8FBE;&#x5F0F;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x80FD;&#x591F;&#x5C06;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x5BF9;&#x8F93;&#x5165;&#x9AD8;&#x7EA7;&#x8868;&#x51FD;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x4F7F;&#x7528;-order-by-&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-scatter-by-&#x5B50;&#x53E5;&#x5E76;&#x6307;&#x5B9A;&#x4E00;&#x5217;&#x6216;&#x591A;&#x5217;&#xFF08;&#x6216;&#x8868;&#x8FBE;&#x5F0F;&#xFF09;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x91CD;&#x65B0;&#x5206;&#x5E03;&#x3002;&#x8FD9;&#x79CD;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x4E0E;&#x521B;&#x5EFA;&#x8868;&#x7684;&#x65F6;&#x5019;&#xFF0C;distributed-by-&#x5B50;&#x53E5;&#x5341;&#x5206;&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x6B64;&#x5904;&#x91CD;&#x65B0;&#x5206;&#x5E03;&#x7684;&#x64CD;&#x4F5C;&#x662F;&#x5728;&#x67E5;&#x8BE2;&#x8FD0;&#x884C;&#x65F6;&#x53D1;&#x751F;&#x7684;&#x3002;

&#x6CE8;&#x610F;&#xFF1A;&#x6839;&#x636E;&#x6570;&#x636E;&#x7684;&#x5206;&#x5E03;&#xFF0C;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x5730;&#x5728;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x5E76;&#x884C;&#x7684;&#x8FD0;&#x884C;-&#x8868;-&#x8868;&#x8FBE;&#x5F0F;&#x3002;

&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x6570;&#x636E;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x901A;&#x8FC7;&#x63D0;&#x4F9B;&#x6210;&#x5458;&#x503C;&#x7684;&#x65B9;&#x5F0F;&#x6784;&#x9020;&#x6570;&#x7EC4;&#x503C;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#xFF1A;&#x5173;&#x952E;&#x5B57;-array&#xFF0C;&#x5DE6;&#x65B9;&#x62EC;&#x53F7;&#xFF08;&#xFF09;&#xFF0C;&#x7528;&#x6765;&#x7EC4;&#x6210;&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x503C;&#x7684;&#x901A;&#x8FC7;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x4E00;&#x4E2A;&#x591A;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x548C;&#x4E00;&#x4E2A;&#x53F3;&#x65B9;&#x62EC;&#x53F7;&#xFF08;&#xFF09;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-array1234
--array
---------
-127
&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x7684;&#x7C7B;&#x578B;&#x5C31;&#x662F;&#x5176;&#x6210;&#x5458;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x516C;&#x5171;&#x7C7B;&#x578B;&#xFF0C;&#x786E;&#x5B9A;&#x7684;&#x65B9;&#x5F0F;&#x548C;-union&#xFF0C;case-&#x6784;&#x9020;&#x5668;&#x89C4;&#x5219;&#x76F8;&#x540C;&#x3002;
&#x901A;&#x8FC7;&#x5D4C;&#x5957;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x503C;&#x3002;&#x5185;&#x90E8;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x5173;&#x952E;&#x5B57;-array&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E0B;&#x9762;&#x4E24;&#x4E2A;-select-&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#xFF1A;
select-arrayarray12-array34
select-array1234
-----array
---------------
-1234
&#x7531;&#x4E8E;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x4E00;&#x5B9A;&#x662F;&#x77E9;&#x5F62;&#xFF08;&#x957F;&#x65B9;&#x5F62;&#xFF09;&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x5C42;&#x7684;&#x5185;&#x90E8;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x4EA7;&#x751F;&#x7684;&#x5B50;&#x6570;&#x7EC4;&#x5FC5;&#x987B;&#x62E5;&#x6709;&#x76F8;&#x540C;&#x7684;&#x7EF4;&#x5EA6;&#x3002;
&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5668;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x5B50;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x4EA7;&#x751F;&#x9002;&#x5F53;&#x7C7B;&#x578B;&#x6570;&#x7EC4;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
create-table-arrf1-int-f2-int
insert-into-arr-values-array1234
array5678
select-arrayf1-f2-9101112int-from-arr
---------------------array
------------------------------------------------
-123456789101112
&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x6765;&#x6784;&#x9020;&#x6570;&#x7EC4;&#x3002;&#x8FD9;&#x91CC;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x5173;&#x952E;&#x5B57;-array-&#x5F00;&#x5934;&#xFF0C;&#x540E;&#x9762;&#x8DDF;&#x7740;&#x5728;&#x5706;&#x62EC;&#x53F7;&#x4E2D;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-arrayselect-oid-from-pgproc-where-proname-like-bytea
--------------------------column
-----------------------------------------------------------
-2011195419481952195112441950200519491953200631
&#x8FD9;&#x91CC;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x53EA;&#x80FD;&#x8FD4;&#x56DE;&#x5355;&#x5217;&#x3002;&#x751F;&#x6210;&#x7684;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x5BF9;&#x5E94;&#x7740;&#x5B50;&#x67E5;&#x8BE2;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x7684;&#x7C7B;&#x578B;&#x662F;&#x5B50;&#x67E5;&#x8BE2;&#x8F93;&#x51FA;&#x5217;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x901A;&#x8FC7;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x5F97;&#x5230;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x4E0B;&#x6807;&#x603B;&#x662F;&#x4ECE;-1-&#x5F00;&#x59CB;&#x7F16;&#x53F7;&#x3002;
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x5668;&#x662F;&#x4E00;&#x79CD;&#x7528;&#x6765;&#x4ECE;&#x6210;&#x5458;&#x503C;&#x6784;&#x5EFA;&#x8BB0;&#x5F55;&#x503C;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;&#x8BB0;&#x5F55;&#x8868;&#x8FBE;&#x5F0F;&#x4E5F;&#x88AB;&#x79F0;&#x4E3A;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF09;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
select-row125this-is-a-test
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x8FD8;&#x652F;&#x6301;&#x8BED;&#x6CD5;-rowvalue-&#xFF0C;&#x8BE5;&#x8868;&#x8FBE;&#x5F0F;&#x80FD;&#x591F;&#x5C06;&#x8BB0;&#x5F55;&#x503C;&#x7684;&#x6210;&#x5458;&#x5C55;&#x5F00;&#x6210;&#x5217;&#x8868;&#xFF0C;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x7C7B;&#x4F3C;&#x4E8E;&#x5F53;&#x4F60;&#x5728;-select-&#x76EE;&#x6807;&#x5217;&#x8868;&#x65F6;&#x4F7F;&#x7528;&#x7684;--&#x8BED;&#x6CD5;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x8868;-t-&#x6709;&#x4E24;&#x5217;-f1-&#x548C;-f2&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x662F;&#x7B49;&#x4EF7;&#x7684;&#xFF1A;
select-rowt-42-from-t
select-rowtf1-tf2-42-from-t
&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x9ED8;&#x8BA4;&#x521B;&#x5EFA;&#x7684;&#x8BB0;&#x5F55;&#x503C;&#x5177;&#x6709;&#x533F;&#x540D;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#x3002;&#x6839;&#x636E;&#x9700;&#x8981;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x8BE5;&#x503C;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8F6C;&#x6362;&#x6210;&#x4E00;&#x4E2A;&#x547D;&#x540D;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF1A;&#x6570;&#x636E;&#x8868;&#x7684;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#x6216;&#x8005;&#x662F;&#x901A;&#x8FC7;-create-type-as-&#x547D;&#x4EE4;&#x521B;&#x5EFA;&#x7684;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x5730;&#x63D0;&#x4F9B;&#x7C7B;&#x578B;&#x8F6C;&#x6765;&#x907F;&#x514D;&#x51FA;&#x73B0;&#x6B67;&#x4E49;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
create-table-mytablef1-int-f2-float-f3-text
create-function-getf1mytable-returns-int-as-select-1f1
language-sql
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x5168;&#x5C40;&#x53EA;&#x6709;&#x4E00;&#x4E2A;-getf1-&#x51FD;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x4E0D;&#x4EA7;&#x751F;&#x4EFB;&#x4F55;&#x7684;&#x6B67;&#x4E49;&#xFF0C;&#x60A8;&#x4E5F;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x7684;&#x5904;&#x7406;&#xFF1A;
select-getf1row125this-is-a-test
-getf1
-------
-----1
create-type-myrowtype-as-f1-int-f2-text-f3-numeric
create-function-getf1myrowtype-returns-int-as-select
1f1-language-sql
&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x6765;&#x6307;&#x5B9A;&#x5177;&#x4F53;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;&#xFF1A;
select-getf1row125this-is-a-test
error--function-getf1record-is-not-unique
select-getf1row125this-is-a-testmytable
-getf1
-------
-----1
select-getf1castrow11this-is-a-test25-as
myrowtype
-getf1
-------
----11
&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x5668;&#x6765;&#x6784;&#x5EFA;&#x590D;&#x5408;&#x503C;&#xFF0C;&#x5C06;&#x5176;&#x5B58;&#x50A8;&#x5728;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x7684;&#x5217;&#x4E2D;&#x6216;&#x8005;&#x5C06;&#x5176;&#x4F20;&#x7ED9;&#x63A5;&#x53D7;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#x3002;
&#x8868;&#x8FBE;&#x5F0F;&#x6C42;&#x503C;&#x89C4;&#x5219;
&#x81EA;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x662F;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x3002;&#x8FD0;&#x7B97;&#x7B26;&#x6216;&#x8005;&#x51FD;&#x6570;&#x7684;&#x6C42;&#x503C;&#x4E0D;&#x4E00;&#x5B9A;&#x9075;&#x5B88;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x4E5F;&#x4E0D;&#x4FDD;&#x8BC1;&#x6309;&#x7167;&#x4EFB;&#x4F55;&#x7279;&#x5B9A;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x3002;
&#x5982;&#x679C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x80FD;&#x591F;&#x7531;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x786E;&#x5B9A;&#xFF0C;&#x90A3;&#x4E48;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x7684;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x88AB;&#x6C42;&#x503C;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;
select-true-or-somefunc
somefunc-&#x51FD;&#x6570;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x7C7B;&#x4F3C;&#x7684;&#x60C5;&#x51B5;&#x5BF9;&#x4E0B;&#x9762;&#x4F8B;&#x5B50;&#x4E5F;&#x9002;&#x7528;&#xFF1A;
select-somefunc-or-true
&#x8FD9;&#x4E2A;&#x7279;&#x70B9;&#x548C;&#x5927;&#x591A;&#x6570;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E2D;&#xFF0C;&#x5E03;&#x5C14;&#x8FD0;&#x7B97;&#x7B26;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x603B;&#x662F;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x4E0D;&#x592A;&#x4E00;&#x6837;&#x3002;
&#x4E0D;&#x8981;&#x5728;&#x590D;&#x6742;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x4F7F;&#x7528;&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x50CF;-where-&#x6216;&#x8005;-having-&#x5B50;&#x53E5;&#x3002;&#x56E0;&#x4E3A;&#x8FD9;&#x91CC;&#x8BED;&#x53E5;&#x5728;&#x751F;&#x6210;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x88AB;&#x591A;&#x6B21;&#x5904;&#x7406;&#x3002;&#x5728;&#x4E0A;&#x9762;&#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x5E03;&#x5C14;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;andornot-&#x7EC4;&#x5408;&#xFF09;&#x5C06;&#x4F1A;&#x6839;&#x636E;&#x5E03;&#x5C14;&#x4EE3;&#x6570;&#x89C4;&#x5219;&#x91CD;&#x65B0;&#x6392;&#x5217;&#x6210;&#x4E3A;&#x4EFB;&#x4F55;&#x6700;&#x4F18;&#x5408;&#x6CD5;&#x7ED3;&#x6784;&#x3002;
&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-case-&#x7ED3;&#x6784;&#x6765;&#x4FDD;&#x8BC1;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x907F;&#x514D;&#x9664;0&#x9519;&#x8BEF;&#x7684;&#x60C5;&#x51B5;&#xFF1A;
select--where-x--0-and-yx--15
&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x80FD;&#x591F;&#x4FDD;&#x8BC1;&#x907F;&#x514D;&#x9664;0&#x9519;&#x8BEF;&#xFF1A;
select--where-case-when-x--0-then-yx--15-else-false-end
&#x8FD9;&#x79CD;-case-&#x7ED3;&#x6784;&#x5C06;&#x4F1A;&#x963B;&#x6B62;&#x67E5;&#x8BE2;&#x4F18;&#x5316;&#xFF0C;&#x56E0;&#x6B64;&#x8BF7;&#x5C0F;&#x5FC3;&#x4F7F;&#x7528;&#x3002;
&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5728;-sql-&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x5BF9;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x8FDB;&#x884C;&#x6C42;&#x503C;&#x3002;&#x4E00;&#x4E9B;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x53EA;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x8FD0;&#x884C;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x7ED3;&#x679C;&#x51FA;&#x73B0;&#x4E0D;&#x4E00;&#x81F4;&#x72B6;&#x6001;&#x3002;
&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x51FD;&#x6570;
&#x8868;1-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E2D;&#x7684;&#x51FD;&#x6570;



&#x51FD;&#x6570;&#x7C7B;&#x578B;
hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x60C5;&#x51B5;
&#x8BF4;&#x660E;
&#x5907;&#x6CE8;




immutable
&#x5B8C;&#x5168;&#x652F;&#x6301;
&#x51FD;&#x6570;&#x53EA;&#x76F4;&#x63A5;&#x4F9D;&#x8D56;&#x53C2;&#x6570;&#x5217;&#x8868;&#x4E2D;&#x63D0;&#x4F9B;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x5BF9;&#x4E8E;&#x76F8;&#x540C;&#x7684;&#x53C2;&#x6570;&#x503C;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4E0D;&#x53D8;&#x3002;



stable
&#x5927;&#x90E8;&#x5206;&#x60C5;&#x51B5;&#x652F;&#x6301;
&#x5728;&#x4E00;&#x6B21;&#x7684;&#x8868;&#x626B;&#x63CF;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5176;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5BF9;&#x76F8;&#x540C;&#x8F93;&#x5165;&#x53C2;&#x6570;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#xFF0C;&#x4F46;&#x662F;&#x7ED3;&#x679C;&#x5728;&#x4E0D;&#x540C;-sql-&#x8BED;&#x53E5;&#x4E4B;&#x95F4;&#x4F1A;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x3002;
&#x5176;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x53D6;&#x51B3;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x6216;&#x53C2;&#x6570;&#x503C;&#x3002;&#x4F8B;&#x5982;&#xFF1A;-currenttimestamp-&#x5BB6;&#x65CF;&#x7684;&#x51FD;&#x6570;&#x90FD;&#x662F;-stable-&#x7684;&#x3002;&#x5728;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x4E2D;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x503C;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#x3002;


volatile
&#x9650;&#x5236;&#x6027;&#x7684;&#x4F7F;&#x7528;
&#x5728;&#x4E00;&#x6B21;&#x8868;&#x626B;&#x63CF;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x51FD;&#x6570;&#x503C;&#x4E5F;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002;-&#x4F8B;&#x5982;&#xFF1A;random-currval-timeofday&#x3002;
&#x5373;&#x4F7F;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x9884;&#x6D4B;&#xFF0C;&#x4EFB;&#x4F55;&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;&#xFF08;side-effects&#xFF09;&#x7684;&#x51FD;&#x6570;&#x4ECD;&#x7136;&#x5C5E;&#x4E8E;&#x6613;&#x53D8;&#x51FD;&#x6570;&#x3002;&#x4F8B;&#x5982;&#xFF1A;-setval&#x3002;



hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x8868;&#x5F15;&#x7528;&#xFF08;rangefuncs&#xFF09;&#x6216;&#x8005;&#x51FD;&#x6570;&#x4F7F;&#x7528;-refcursor-&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;
&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;
&#x6B64;&#x529F;&#x80FD;&#x6B63;&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x672A;&#x6765;&#x7248;&#x672C;&#x5C06;&#x4F1A;&#x5F00;&#x653E;&#x3002;
&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;
&#x4E0B;&#x8868;&#x5217;&#x51FA;&#x4E86;-postgresql-&#x652F;&#x6301;&#x7684;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x79CD;&#x7C7B;&#x3002;
-&#x8868;2-&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;



operatorfunction-category
volatile-&#x51FD;&#x6570;
stable-&#x51FD;&#x6570;
&#x4F7F;&#x7528;&#x9650;&#x5236;




logical-operators





comparison-operators





mathematical-functions-and-operators
random&#x3001;setseed




string-functions-and-operators
all-built-in-conversion-functions
convert&#x3001;pgclientencoding



binary-string-functions-and-operators





bit-string-functions-and-operators





pattern-matching





data-type-formatting-functions

tochar&#x3001;totimestamp



datetime-functions-and-operators
timeofday
age&#x3001;currentdate&#x3001;currenttime&#x3001;currenttimestamp&#x3001;localtime&#x3001;localtimestamp&#x3001;now



geometric-functions-and-operators





network-address-functions-and-operators





sequence-manipulation-functions
currval&#x3001;lastval&#x3001;nextval&#x3001;setval




conditional-expressions





array-functions-and-operators

all-array-functions



aggregate-functions





subquery-expressions





row-and-array-comparisons





set-returning-functions
generateseries




system-information-functions

all-session-information-functions&#x3001;all-access-privilege-inquiry-functions&#x3001;all-schema-visibility-inquiry-functions&#x3001;all-system-catalog-information-functions&#x3001;all-comment-information-functions



system-administration-functions
setconfig&#x3001;pgcancelbackend&#x3001;pgreloadconf&#x3001;pgrotatelogfile&#x3001;pgstartbackup&#x3001;pgstopbackup&#x3001;pgsizepretty&#x3001;pglsdir&#x3001;pgreadfile&#x3001;pgstatfile
currentsetting&#x3001;all-database-object-size-functions
note-the-function-pgcolumnsize-the-value-perhaps-with-toast-compression


xml-functions

xmlaggxml&#x3001;xmlexiststext-xml&#x3001;xmliswellformedtext&#x3001;xmliswellformeddocumenttext&#x3001;xmliswellformedcontenttext&#x3001;xpathtext-xml&#x3001;xpathtext-xml-text&#x3001;xpathexiststext-xml&#x3001;xpathexiststext-xml-text&#x3001;xmltext&#x3001;textxml&#x3001;xmlcommentxml&#x3001;xmlconcat2xml-xml




&#x7A97;&#x53E3;&#x51FD;&#x6570;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x5185;&#x7F6E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x662F;-hashdata-database-&#x5BF9;-postgresql-&#x7684;&#x6269;&#x5C55;&#x3002;-&#x6240;&#x6709;&#x7684;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x90FD;&#x662F;-immutable-&#x7684;&#x3002;&#x8981;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x5173;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;-&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;-&#x3002;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




cumedist
double-precision
cumedist-over--partition-by-expr--order-by-expr-
&#x8BA1;&#x7B97;&#x6570;&#x503C;&#x5728;&#x4E00;&#x4E2A;&#x7EC4;&#x6570;&#x503C;&#x7684;&#x7D2F;&#x79EF;&#x5206;&#x5E03;&#x3002;&#x76F8;&#x540C;&#x503C;&#x7684;&#x8BB0;&#x5F55;&#x6C42;&#x503C;&#x7ED3;&#x679C;&#x603B;&#x4F1A;&#x5F97;&#x5230;&#x76F8;&#x540C;&#x7684;&#x7D2F;&#x79EF;&#x5206;&#x5E03;&#x503C;&#x3002;


denserank
bigint
denserank-over--partition-by-expr--order-by-expr
&#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7EC4;&#x4E2D;&#xFF0C;&#x8BB0;&#x5F55;&#x7684;&#x6392;&#x540D;&#xFF0C;&#x6392;&#x540D;&#x503C;&#x8FDE;&#x7EED;&#x5206;&#x914D;&#x3002;&#x8BB0;&#x5F55;-&#x503C;&#x76F8;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5206;&#x914D;&#x76F8;&#x540C;&#x7684;&#x6392;&#x540D;&#x3002;


firstvalueexpr
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
firstvalue-expr--over--partition-by-expr--order-by-expr-rows-range-frameexpr--
&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7684;&#x503C;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x503C;&#x3002;


lagexpr-offset-default
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;&#x7C7B;&#x578B;&#x76F8;&#x540C;
lag-expr--offset---default--over--partition-by-expr--order-by-expr-
&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x4E0D;&#x4F7F;&#x7528;&#x81EA;&#x8FDE;&#x63A5;&#x8BBF;&#x95EE;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x591A;&#x884C;&#x8BB0;&#x5F55;&#x3002;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;-&#x65F6;&#x6BCF;&#x4E2A;&#x8BB0;&#x5F55;&#x6709;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x4F4D;&#x7F6E;&#xFF0C;lag-&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x4ECE;&#x5F53;&#x524D;&#x7269;&#x7406;&#x4F4D;-&#x7F6E;&#x5411;&#x524D;-offset-&#x7684;&#x8BB0;&#x5F55;&#x3002;offset-&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;-1-&#x3002;-default-&#x503C;&#x4F1A;&#x5728;-offset-&#x503C;&#x8D85;&#x51FA;&#x7A97;&#x53E3;&#x8303;&#x56F4;&#x540E;&#x88AB;&#x8FD4;&#x56DE;&#x3002;-&#x5982;&#x679C;-default-&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;-null&#x3002;


lastvalueexpr
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
lastvalueexpr-over--partition-by-expr-order-by-expr-rows-range-frameexpr-
&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7684;&#x503C;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x503C;&#x3002;


leadexpr-offset-default
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
leadexpr-offset-default-over--partition-by-expr-order-by-expr-
&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x4E0D;&#x4F7F;&#x7528;&#x81EA;&#x8FDE;&#x63A5;&#x8BBF;&#x95EE;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x591A;&#x884C;&#x8BB0;&#x5F55;&#x3002;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;-&#x65F6;&#x6BCF;&#x4E2A;&#x8BB0;&#x5F55;&#x6709;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x4F4D;&#x7F6E;&#xFF0C;lag-&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x4ECE;&#x5F53;&#x524D;&#x7269;&#x7406;&#x4F4D;-&#x7F6E;&#x5411;&#x540E;-offset-&#x7684;&#x8BB0;&#x5F55;&#x3002;offset-&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;-1-&#x3002;-default-&#x503C;&#x4F1A;&#x5728;-offset-&#x503C;&#x8D85;&#x51FA;&#x7A97;&#x53E3;&#x8303;&#x56F4;&#x540E;&#x88AB;&#x8FD4;&#x56DE;&#x3002;-&#x5982;&#x679C;-default-&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;-null&#x3002;


ntileexpr
bigint
ntileexpr-over--partition-by-expr-order-by-expr-
&#x5C06;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x6570;&#x636E;&#x96C6;&#x5212;&#x5206;&#x5230;&#x591A;&#x4E2A;&#x6876;&#xFF08;buckets&#xFF09;&#x4E2D;&#xFF0C;&#x6876;&#x7684;&#x6570;&#x91CF;-&#x7531;&#x53C2;&#x6570;&#x51B3;&#x5B9A;&#xFF0C;&#x5E76;&#x4E3A;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x6876;&#x7F16;&#x53F7;&#x3002;


percentrank
double-precision
percentrank--over--partition-by-expr-order-by-expr-
&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x516C;&#x5F0F;&#x8BA1;&#x7B97;&#x6392;&#x540D;&#xFF1A;&#x8BB0;&#x5F55;&#x6392;&#x540D;---1-&#x9664;&#x4EE5;&#x603B;&#x6392;&#x540D;&#x8BB0;&#x5F55;-&#x6570;---1-&#x3002;


rank
bigint
rank--over--partition-by-expr-order-by-expr-
&#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7EC4;&#x4E2D;&#xFF0C;&#x8BB0;&#x5F55;&#x7684;&#x6392;&#x540D;&#x3002;&#x8BB0;&#x5F55;&#x503C;&#x76F8;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;-&#x5206;&#x914D;&#x76F8;&#x540C;&#x7684;&#x6392;&#x540D;&#x3002;&#x5206;&#x914D;&#x5230;&#x76F8;&#x540C;&#x6392;&#x540D;&#x7684;&#x6BCF;&#x7EC4;&#x8BB0;&#x5F55;&#x7684;&#x6570;&#x91CF;&#x5C06;&#x4F1A;-&#x88AB;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x4E0B;&#x4E2A;&#x5206;&#x914D;&#x7684;&#x6392;&#x540D;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6392;&#x540D;&#x7684;&#x5206;&#x914D;&#x53EF;-&#x80FD;&#x4E0D;&#x662F;&#x8FDE;&#x7EED;&#x3002;


rownumber
bigint
rownumber--over--partition-by-expr-order-by-expr-----&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x7F16;&#x53F7;&#x3002;&#xFF08;&#x53EF;&#x4EE5;&#x662F;&#x6574;&#x4E2A;&#x67E5;&#x8BE2;&#x7684;-&#x7ED3;&#x679C;&#x8BB0;&#x5F55;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#xFF09;&#x3002;




&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x5185;&#x7F6E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x662F;-hashdata-database-&#x5BF9;-postgresql-&#x7684;&#x6269;&#x5C55;&#x3002;-&#x5206;&#x6790;&#x51FD;&#x6570;&#x662F;-immutable-&#x3002;
&#x8868;4-&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




matrixadd-array-array
smallint-int-bigint-float
matrixaddarray1122-array3456
&#x5C06;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x76F8;&#x52A0;&#x3002;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x5FC5;&#x987B;&#x4E00;&#x81F4;&#x3002;


matrixmultiply-array-array
smallintint-bigint-float
matrixmultiply-array200020002-array303030003
&#x5C06;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x76F8;&#x4E58;&#x3002;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x5FC5;&#x987B;&#x4E00;&#x81F4;&#x3002;


matrixmultiply-array-expr
int-float
matrixmultiplyarray111-222-333-2
&#x5C06;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x4E0E;&#x4E00;&#x4E2A;&#x6807;&#x91CF;&#x6570;&#x503C;&#x76F8;&#x4E58;&#x3002;


matrixtranspose-array
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
matrixtransposearray-111-222
&#x5C06;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x8F6C;&#x7F6E;&#x3002;


pinvarray-
smallintint-bigint-float
pinvarray2500-010005
&#x8BA1;&#x7B97;&#x77E9;&#x9635;&#x7684;-moore-penrose-pseudoinverse-&#x3002;


unnestarray
set-of-anyelement
unnestarrayone-row-per-item
&#x5C06;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x8F6C;&#x5316;&#x4E3A;&#x591A;&#x884C;&#x3002;&#x8FD4;&#x56DE;-anyelement-&#x7684;&#x96C6;&#x5408;&#x3002;&#x8BE5;&#x7C7B;&#x578B;&#x662F;-postgresql-&#x4E2D;&#x7684;&#x591A;&#x6001;&#x4F2A;&#x7C7B;&#x578B;&#x3002;



-&#x8868;5-&#x9AD8;&#x7EA7;&#x805A;&#x5408;&#x51FD;&#x6570;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




median-expr
timestamp-timestampz-interval-float
median-expression-exampleselect-departmentid-mediansalary-from-employees-group-by-departmentid
&#x8BA1;&#x7B97;&#x4E2D;&#x4F4D;&#x6570;&#x3002;


percentilecont-expr-within-group-order-by-expr-descasc
timestamp-timestampz-interval-float
percentilecontpercentage-within-group-order-by-expression-exampleselect-departmentidpercentilecont-05-within-group-order-by-salary-desc-mediancont-from-employees-group-by-departmentid
&#x5728;&#x8FDE;&#x7EED;&#x5206;&#x5E03;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x8FD0;&#x7B97;&#x3002;&#x51FD;&#x6570;&#x8F93;&#x5165;-&#x4E00;&#x4E2A;&#x5206;&#x4F4D;&#x6BD4;&#x4F8B;&#x548C;&#x6392;&#x5E8F;&#x4FE1;&#x606F;&#xFF0C;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x662F;&#x8BA1;&#x7B97;&#x6570;&#x636E;&#x7684;&#x7C7B;-&#x578B;&#x3002;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x8FDB;&#x884C;&#x7EBF;&#x6027;&#x63D2;&#x503C;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x3002;-&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D;-null-&#x503C;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;


percentiledisc-expr-within-group-order-by-expr-descasc
timestamp-timestampz-interval-float
percentilediscpercentage-within-group-order-by-expression-exampleselect-departmentidpercentiledisc-05-within-group-order-by-salary-desc-mediancont-from-employees-group-by-departmentid
&#x5728;&#x8FDE;&#x7EED;&#x5206;&#x5E03;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x8FD0;&#x7B97;&#x3002;&#x51FD;&#x6570;&#x8F93;&#x5165;-&#x4E00;&#x4E2A;&#x5206;&#x4F4D;&#x6BD4;&#x4F8B;&#x548C;&#x6392;&#x5E8F;&#x4FE1;&#x606F;&#x3002;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x8F93;&#x5165;&#x96C6;&#x5408;&#x4E2D;-&#x7684;&#x503C;&#x3002;&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D;-null-&#x503C;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;


sumarray
smallint-int-bigint-float
sumarray1234-example-create-table-mymatrix-myvalue-int-insert-into-mymatrix-values--array1234-insert-into-mymatrix-values--array0110-select--summyvalue-from-mymatrix
&#x6267;&#x884C;&#x77E9;&#x9635;&#x52A0;&#x6CD5;&#x8FD0;&#x7B97;&#x3002;&#x5C06;&#x8F93;&#x5165;&#x7684;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;&#x5F53;&#x4F5C;&#x77E9;&#x9635;&#x5904;&#x7406;&#x3002;


pivotsum-label-label-expr
int-bigint-float
pivotsum-arraya1a2-attr-value
&#x900F;&#x89C6;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x901A;&#x8FC7;&#x805A;&#x5408;&#x6C42;&#x6765;&#x6D88;&#x9664;&#x91CD;&#x590D;&#x9879;&#x3002;


mregrcoef-expr-array
float
mregrcoefy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrcoef-&#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7CFB;&#x6570;&#x3002;-mregrcoef-&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x5305;&#x542B;&#x6BCF;&#x4E2A;&#x81EA;&#x53D8;&#x91CF;&#x7684;&#x56DE;&#x5F52;&#x7CFB;&#x6570;&#xFF0C;-&#x56E0;&#x6B64;&#x5927;&#x5C0F;&#x4E0E;&#x8F93;&#x5165;&#x7684;&#x81EA;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#x5927;&#x5C0F;&#x76F8;&#x7B49;&#x3002;


mregrr2-expr-array
float
mregrr2y-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrr2-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-r-&#x5E73;&#x65B9;&#x503C;&#x3002;


mregrpvalues-expr-array
float
mregrpvaluesy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrpvalues-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-p-&#x503C;&#x3002;


mregrtstats-expr-array
float
mregrtstatsy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrtstats-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-t-&#x7EDF;&#x8BA1;&#x91CF;&#x503C;&#x3002;


nbclassify-text-bigint-bigint-biggint
text
nbclassifyclasses-attrcount-classcount-classtotal
&#x4F7F;&#x7528;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x5668;&#x5BF9;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x3002;&#x6B64;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;-&#x7528;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x57FA;&#x7EBF;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x9884;&#x6D4B;&#xFF0C;&#x8FD4;&#x56DE;-&#x8BE5;&#x8BB0;&#x5F55;&#x6700;&#x6709;&#x53EF;&#x80FD;&#x51FA;&#x7EBF;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x3002;


nbprobabilities-text-bigint-bigint-biggint
text
nbprobabilitiesclasses-attrcount-classcount-classtotal
&#x4F7F;&#x7528;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x5668;&#x8BA1;&#x7B97;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x3002;&#x6B64;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x57FA;&#x7EBF;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x9884;&#x6D4B;&#xFF0C;&#x8FD4;&#x56DE;&#x8BE5;&#x8BB0;&#x5F55;&#x51FA;&#x73B0;&#x5728;&#x5404;&#x4E2A;&#x5206;&#x7C7B;&#x4E2D;&#x7684;&#x6982;&#x7387;&#x3002;



&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x793A;&#x4F8B;
&#x672C;&#x7AE0;&#x8282;&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5728;&#x7B80;&#x5316;&#x7684;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x4E0A;&#x5E94;&#x7528;&#x4E0A;&#x9762;&#x90E8;&#x5206;&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x7684;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#x3002;-&#x793A;&#x4F8B;&#x5305;&#x62EC;&#xFF1A;&#x591A;&#x5143;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x548C;&#x4F7F;&#x7528;-nbclassify-&#x7684;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x3002;
&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x793A;&#x4F8B;
&#x4E0B;&#x9762;&#x793A;&#x4F8B;&#x4F7F;&#x7528;&#x56DB;&#x4E2A;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF1A;mregrcoef&#xFF0C;mregrr2&#xFF0C;mregrpvalues-&#x548C;-mregrtstats-&#x5728;&#x793A;&#x4F8B;&#x8868;-regrexample-&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x3002;-&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x56E0;&#x53D8;&#x91CF;&#xFF08;dependent-variable&#xFF09;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x81EA;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#xFF08;independent-variable&#xFF09;&#x3002;
select-mregrcoefy-array1-x1-x2
-------mregrr2y-array1-x1-x2
-------mregrpvaluesy-array1-x1-x2
-------mregrtstatsy-array1-x1-x2
from-regrexample
&#x8868;-regrexample-&#x4E2D;&#x7684;&#x6570;&#x636E;
-id--y---x1--x2
----------------
--1---5---2---1
--2--10---4---2
--3---6---3---1
--4---8---3---1
&#x5728;&#x8868;&#x4E0A;&#x8FD0;&#x884C;&#x524D;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x884C;&#x6570;&#x636E;&#xFF0C;&#x5305;&#x542B;&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x503C;&#xFF1A;
mregrcoef

-7105427357601e-152000000000000030999999999999943
mregrr2

086440677966103
mregrpvalues

099999999999999904543710516569920783653104061216
mregrtstats

-224693341988919e-15115470053837932035355339059327
&#x5982;&#x679C;&#x4E0A;&#x9762;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x672A;&#x5B9A;&#x4E49;&#xFF0C;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;-nan&#xFF08;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x503C;&#xFF09;&#x3002;&#x5F53;&#x6570;&#x636E;&#x91CF;&#x592A;&#x5C11;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x9047;&#x5230;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;

&#x6CE8;&#x610F;-&#x5982;&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x6240;&#x793A;&#xFF0C;&#x53D8;&#x91CF;&#x53C2;&#x6570;&#x4F30;&#x8BA1;&#x503C;&#xFF08;intercept&#xFF09;&#x662F;&#x901A;&#x8FC7;&#x5C06;&#x4E00;&#x4E2A;&#x81EA;&#x53D8;&#x91CF;&#x8BBE;&#x7F6E;&#x4E3A;-1-&#x8BA1;&#x7B97;&#x5F97;&#x5230;&#x7684;&#x3002;

&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;
&#x4F7F;&#x7528;-nbclassify-&#x548C;-nbprobabilities-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6D89;&#x53CA;&#x5230;&#x56DB;&#x6B65;&#x7684;&#x5206;&#x7C7B;&#x8FC7;&#x7A0B;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x4E3A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x7684;&#x8868;&#x548C;&#x89C6;&#x56FE;&#x3002;-&#x4E0B;&#x9762;&#x7684;&#x4E24;&#x4E2A;&#x793A;&#x4F8B;&#x5C55;&#x793A;&#x4E86;&#x8FD9;&#x56DB;&#x4E2A;&#x6B65;&#x9AA4;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x968F;&#x610F;&#x6784;&#x9020;&#x7684;&#x6570;&#x636E;&#x96C6;&#x4E0A;&#x5C55;&#x793A;&#x3002;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;-hashdata-database-&#x6839;&#x636E;&#x5929;&#x6C14;&#x6761;&#x4EF6;&#x4F7F;&#x7528;&#x975E;&#x5E38;&#x53D7;&#x6B22;&#x8FCE;&#x7684;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x793A;&#x4F8B;&#x3002;
&#x603B;&#x89C8;
&#x4E0B;&#x9762;&#x5411;&#x4F60;&#x4ECB;&#x7ECD;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x503C;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x5217;&#x540D;&#xFF09;&#x5C06;&#x4F1A;&#x505A;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x4F7F;&#x7528;&#xFF1A;

&#x5C06;&#x6570;&#x636E;&#x9006;&#x900F;&#x89C6;&#xFF08;unpivot&#xFF09;

&#x5982;&#x679C;&#x6570;&#x636E;&#x662F;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x6240;&#x6709;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x9006;&#x900F;&#x89C6;&#xFF0C;&#x8FDE;&#x540C;&#x6807;&#x8BC6;&#x5B57;&#x6BB5;&#x548C;&#x5206;&#x7C7B;&#x5B57;&#x6BB5;&#x521B;&#x5EFA;&#x89C6;&#x56FE;&#x3002;-&#x5982;&#x679C;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x662F;&#x975E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#xFF0C;&#x8BF7;&#x8DF3;&#x8FC7;&#x6B64;&#x6B65;&#x3002;

&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;

&#x8BAD;&#x7EC3;&#x8868;&#x5C06;&#x6570;&#x636E;&#x89C6;&#x56FE;&#x53D8;&#x5316;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x3002;

&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;

&#x4F7F;&#x7528;-nbclassify&#xFF0C;nbprobabilities-&#x6216;&#x5C06;-nbclassify-&#x548C;-nbprobabilities-&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;
&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;1---&#x5C0F;&#x89C4;&#x6A21;&#x6570;&#x636E;
&#x4F8B;&#x5B50;&#x5C06;&#x4ECE;&#x5305;&#x542B;&#x8303;&#x5F0F;&#x5316;&#x6570;&#x636E;&#x7684;&#x793A;&#x4F8B;&#x8868;-classexample-&#x5F00;&#x59CB;&#xFF0C;&#x901A;&#x8FC7;&#x56DB;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x6B65;&#x9AA4;&#x5B8C;&#x6210;&#xFF1A;
&#x8868;-classexample-&#x4E2D;&#x7684;&#x6570;&#x636E;
-id--class--a1--a2--a3
-----------------------
--1--c1------1---2---3
--2--c1------1---4---3
--3--c2------0---2---2
--4--c1------1---2---1
--5--c2------1---2---2
--6--c2------0---1---3
&#x5C06;&#x6570;&#x636E;&#x9006;&#x900F;&#x89C6;&#xFF08;unpivot&#xFF09;
&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x7528;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x9700;&#x8981;&#x5BF9;-classexample-&#x4E2D;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x9006;&#x900F;&#x89C6;&#x64CD;&#x4F5C;&#x3002;
&#x5728;&#x4E0B;&#x9762;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x7684;&#x9879;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A;&#x65B0;&#x589E;&#x7684;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x7684;&#x503C;&#x4F7F;&#x7528;&#x3002;&#x4E60;&#x60EF;&#x4E0A;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4E0E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x8868;&#x5217;&#x540D;&#x76F8;&#x540C;&#x3002;-&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x66F4;&#x5BB9;&#x6613;&#x7684;&#x4ECE;&#x547D;&#x4EE4;&#x4E2D;&#x627E;&#x5230;&#x8FD9;&#x4E9B;&#x503C;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4EE5;&#x5927;&#x5199;&#x65B9;&#x5F0F;&#x4E66;&#x5199;&#x3002;
create-view-classexampleunpivot-as
select-id-class
--unnestarraya1-a2-a3-as-attr
--unnestarraya1a2a3-as-value
from-classexample
&#x4F7F;&#x7528;&#x540E;&#x9762;&#x7684;-sql-&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x975E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x6570;&#x636E;-select--from-classexampleunpivot&#xFF1A;
-id--class--attr--value
------------------------
--2--c1-----a1--------1
--2--c1-----a2--------2
--2--c1-----a3--------1
--4--c2-----a1--------1
--4--c2-----a2--------2
--4--c2-----a3--------2
--6--c2-----a1--------0
--6--c2-----a2--------1
--6--c2-----a3--------3
--1--c1-----a1--------1
--1--c1-----a2--------2
--1--c1-----a3--------3
--3--c1-----a1--------1
--3--c1-----a2--------4
--3--c1-----a3--------3
--5--c2-----a1--------0
--5--c2-----a2--------2
--5--c2-----a3--------2
18-rows
&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;
&#x4E0B;&#x9762;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x7684;&#x9879;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x805A;&#x5408;&#x7684;&#x9879;&#x3002;&#x901A;&#x8FC7;&#x6570;&#x7EC4;&#x5F62;&#x5F0F;&#x4F20;&#x9012;&#x7ED9;-pivtosum-&#x51FD;&#x6570;&#x7684;&#x9879;&#x5FC5;&#x987B;&#x548C;&#x539F;&#x59CB;&#x6570;&#x636E;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x548C;&#x6570;&#x91CF;&#x76F8;&#x7B26;&#x3002;-&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x5206;&#x7C7B;&#x4E3A;-c1-&#x548C;-c2&#xFF1A;
create-table-classexamplenbtraining-as
select-attr-value
--pivotsumarrayc1-c2-class-1-as-classcount
from---classexampleunpivot
group-by-attr-value
distributed-by-attr
&#x4E0B;&#x9762;&#x662F;&#x8BAD;&#x7EC3;&#x8868;&#x7684;&#x7ED3;&#x679C;&#xFF1A;
-attr--value--classcount
--------------------------
-a3--------1--10
-a3--------3--21
-a1--------1--31
-a1--------0--02
-a3--------2--02
-a2--------2--22
-a2--------4--10
-a2--------1--01
8-rows
&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;
create-view-classexamplenbclassifyfunctions-as
select-attr-value-classcount
--arrayc1-c2-as-classes
--sumclasscount-over-wainteger-as-classtotal
--countdistinct-value-over-wa-as-attrcount
from-classexamplenbtraining
window-wa-as-partition-by-attr
&#x4E0B;&#x9762;&#x662F;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x7684;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#xFF1A;
-attr-value--classcount-classes--classtotal-attrcount
-------------------------------------------------------
-a2-------2--22-------c1c2--33----------------3
-a2-------4--10-------c1c2--33----------------3
-a2-------1--01-------c1c2--33----------------3
-a1-------0--02-------c1c2--33----------------2
-a1-------1--31-------c1c2--33----------------2
-a3-------2--02-------c1c2--33----------------3
-a3-------3--21-------c1c2--33----------------3
-a3-------1--10-------c1c2--33----------------3
8-rows
&#x4F7F;&#x7528;-nbclassify-&#x5BF9;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x4EE5;&#x53CA;&#x4F7F;&#x7528;-nbprobabilities-&#x663E;&#x793A;&#x5F52;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;
&#x5728;&#x51C6;&#x5907;&#x597D;&#x6458;&#x8981;&#x89C6;&#x56FE;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x4E3A;&#x5BF9;&#x65B0;&#x8BB0;&#x5F55;&#x5206;&#x7C7B;&#x7684;&#x57FA;&#x7EBF;&#x4E86;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x901A;&#x8FC7;-nbclassify-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6765;&#x9884;&#x6D4B;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5C5E;&#x4E8E;-c1-&#x8FD8;&#x662F;-c2&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
from-classexamplenbclassifyfunctions
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E0B;&#x9762;&#x7B26;&#x5408;&#x671F;&#x671B;&#x7684;&#x5355;&#x884C;&#x7ED3;&#x679C;&#xFF1A;
class
-------
c2
1-row
&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-nbprobabilities-&#x663E;&#x793A;&#x5404;&#x4E2A;&#x5217;&#x522B;&#x7684;&#x6982;&#x7387;&#x3002;&#x5728;&#x51C6;&#x5907;&#x597D;&#x89C6;&#x56FE;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x4E3A;&#x5BF9;&#x65B0;&#x8BB0;&#x5F55;&#x5206;&#x7C7B;&#x7684;&#x57FA;&#x7EBF;&#x4E86;&#x3002;-&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x901A;&#x8FC7;-nbprobabilities-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6765;&#x9884;&#x6D4B;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5C5E;&#x4E8E;-c1-&#x8FD8;&#x662F;-c2&#x3002;
select-nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-classexamplenbclassifyfunctions
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x60C5;&#x51B5;&#xFF0C;&#x7B2C;&#x4E00;&#x503C;&#x662F;-c1-&#x7684;&#x6982;&#x7387;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x503C;&#x662F;-c2-&#x7684;&#x6982;&#x7387;&#xFF1A;
probability
-------------
-0406
1-row
&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x540C;&#x65F6;&#x663E;&#x793A;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x548C;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-classexamplenbclassify
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x5982;&#x4E0B;&#x7ED3;&#x679C;&#xFF1A;
-class--probability
--------------------
----c2--0406
-1-row
&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x76F8;&#x6BD4;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x66F4;&#x52A0;&#x5168;&#x9762;&#xFF0C;&#x56E0;&#x6B64;&#x9884;&#x6D4B;&#x6548;&#x679C;&#x66F4;&#x597D;&#x3002;-&#x5F53;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;-nbclassify-&#x548C;-nbprobabilities-&#x7684;&#x5F52;&#x7C7B;&#x51C6;&#x786E;&#x5EA6;&#x5C06;&#x4F1A;&#x663E;&#x8457;&#x63D0;&#x9AD8;&#x3002;
&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;2-&#x2013;-&#x5929;&#x6C14;&#x548C;&#x6237;&#x5916;&#x8FD0;&#x52A8;
&#x5728;&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x5C06;&#x4F1A;&#x6839;&#x636E;&#x5929;&#x60C5;&#x51B5;&#x6765;&#x8BA1;&#x7B97;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x9AD8;&#x5C14;&#x592B;&#x7403;&#x6216;&#x8005;&#x7F51;&#x7403;&#x3002;-&#x8868;-weatherexample-&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E9B;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x3002;&#x8868;&#x7684;&#x6807;&#x793A;&#x5B57;&#x6BB5;&#x662F;-day&#x3002;-&#x7528;&#x4E8E;&#x5206;&#x7C7B;&#x7684;&#x5B57;&#x6BB5;-play-&#x5305;&#x542B;&#x4E24;&#x4E2A;&#x503C;&#xFF1A;yes-&#x6216;-no&#x3002;&#x5929;&#x6C14;&#x5305;&#x542B;&#x56DB;&#x79CD;&#x5C5E;&#x6027;&#xFF1A;&#x72B6;&#x51B5;&#xFF0C;&#x6E29;&#x5EA6;&#xFF0C;&#x6E7F;&#x5EA6;&#xFF0C;&#x98CE;&#x529B;&#x3002;-&#x6570;&#x636E;&#x6309;&#x7167;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x3002;
-day--play--outlook---temperature--humidity--wind
----------------------------------------------------
-2----no----sunny-----hot----------high------strong
-4----yes---rain------mild---------high------weak
-6----no----rain------cool---------normal----strong
-8----no----sunny-----mild---------high------weak
10----yes---rain------mild---------normal----weak
12----yes---overcast--mild---------high------strong
14----no----rain------mild---------high------strong
-1----no----sunny-----hot----------high------weak
-3----yes---overcast--hot----------high------weak
-5----yes---rain------cool---------normal----weak
-7----yes---overcast--cool---------normal----strong
-9----yes---sunny-----cool---------normal----weak
11----yes---sunny-----mild---------normal----strong
13----yes---overcast--hot----------normal----weak
-14-rows
&#x7531;&#x4E8E;&#x8FD9;&#x91CC;&#x7684;&#x6570;&#x636E;&#x662F;&#x6309;&#x7167;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x56DB;&#x4E2A;&#x6B65;&#x9AA4;&#x90FD;&#x662F;&#x9700;&#x8981;&#x7684;&#x3002;
&#x9006;&#x900F;&#x89C6;&#x5316;&#x6570;&#x636E;
create-view-weatherexampleunpivot-as
select-day-play
--unnestarrayoutlooktemperature-humiditywind-as-attr
--unnestarrayoutlooktemperaturehumiditywind-as-value
from-weatherexample
&#x8BF7;&#x6CE8;&#x610F;&#x4E0A;&#x9762;&#x5355;&#x5F15;&#x53F7;&#x7684;&#x4F7F;&#x7528;&#x3002;
&#x8BED;&#x53E5;-select--from-weatherexampleunpivot-&#x5C06;&#x4F1A;&#x663E;&#x793A;&#x7ECF;&#x8FC7;&#x9006;&#x900F;&#x89C6;&#x5316;&#x540E;&#x7684;&#x975E;&#x8303;&#x5F0F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6570;&#x636E;&#x4E00;&#x5171;-56-&#x884C;&#x3002;
-day--play--attr---------value
----------------------------------
---2--no----outlook------sunny
---2--no----temperature--hot
---2--no----humidity-----high
---2--no----wind---------strong
---4--yes---outlook------rain
---4--yes---temperature--mild
---4--yes---humidity-----high
---4--yes---wind---------weak
---6--no----outlook------rain
---6--no----temperature--cool
---6--no----humidity-----normal
---6--no----wind---------strong
---8--no----outlook------sunny
---8--no----temperature--mild
---8--no----humidity-----high
---8--no----wind---------weak
--10--yes---outlook------rain
--10--yes---temperature--mild
--10--yes---humidity-----normal
--10--yes---wind---------weak
--12--yes---outlook------overcast
--12--yes---temperature--mild
--12--yes---humidity-----high
--12--yes---wind---------strong
--14--no----outlook------rain
--14--no----temperature--mild
--14--no----humidity-----high
--14--no----wind---------strong
---1--no----outlook------sunny
---1--no----temperature--hot
---1--no----humidity-----high
---1--no----wind---------weak
---3--yes---outlook------overcast
---3--yes---temperature--hot
---3--yes---humidity-----high
---3--yes---wind---------weak
---5--yes---outlook------rain
---5--yes---temperature--cool
---5--yes---humidity-----normal
---5--yes---wind---------weak
---7--yes---outlook------overcast
---7--yes---temperature--cool
---7--yes---humidity-----normal
---7--yes---wind---------strong
---9--yes---outlook------sunny
---9--yes---temperature--cool
---9--yes---humidity-----normal
---9--yes---wind---------weak
--11--yes---outlook------sunny
--11--yes---temperature--mild
--11--yes---humidity-----normal
--11--yes---wind---------strong
--13--yes---outlook------overcast
--13--yes---temperature--hot
--13--yes---humidity-----normal
--13--yes---wind---------weak
--56-rows
&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;
create-table-weatherexamplenbtraining-as
select-attr-value-pivotsumarrayyesno-play-1-as-classcount
from-weatherexampleunpivot
group-by-attr-value
distributed-by-attr
&#x8BED;&#x53E5;-select--from-weatherexamplenbtraining-&#x663E;&#x793A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x4E00;&#x5171;-10-&#x884C;&#xFF1A;
-attr---------value-----classcount
------------------------------------
outlook-------rain------32
humidity------high------34
outlook-------overcast--40
humidity------normal----61
outlook-------sunny-----23
wind----------strong----33
temperature---hot-------22
temperature---cool------31
temperature---mild------42
wind----------weak------62
10-rows
&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;
create-view-weatherexamplenbclassifyfunctions-as
select-attr-value-classcount
--arrayyesno-as-classes
--sumclasscount-over-wainteger-as-classtotal
--countdistinct-value-over-wa-as-attrcount
from-weatherexamplenbtraining
window-wa-as-partition-by-attr
&#x8BED;&#x53E5;-select--from-weatherexamplenbclassifyfunction-&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;-10-&#x884C;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x3002;
attr----------value---classcount-classes--classtotal-attrcount
-----------------------------------------------------------------
temperature--mild-----42-------yesno-95---------------3
temperature--cool-----31-------yesno-95---------------3
temperature--hot------22-------yesno-95---------------3
wind---------weak-----62-------yesno-95---------------2
wind---------strong---33-------yesno-95---------------2
humidity-----high-----34-------yesno-95---------------2
humidity-----normal---61-------yesno-95---------------2
outlook------sunny----23-------yesno-95---------------3
outlook------overcast-40-------yesno-95---------------3
outlook------rain-----32-------yesno-95---------------3
10-rows
&#x4F7F;&#x7528;-nbclassify&#xFF0C;nbprobabilities-&#x6216;&#x5C06;-nbclassify-&#x548C;-nbprobabilities-&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;
&#x9996;&#x5148;&#x8981;&#x51B3;&#x5B9A;&#x5BF9;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x4F8B;&#x5982;&#x5BF9;&#x4E0B;&#x9762;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;
temperature--wind--humidity--outlook
-------------------------------------
cool---------weak--high------overcast
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x3002;&#x7ED3;&#x679C;&#x5C06;&#x4F1A;&#x7ED9;&#x51FA;&#x5224;&#x65AD;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;-yes-&#x548C;-no-&#x7684;&#x6982;&#x7387;&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-weatherexamplenbclassifyfunctions
where
--attr--temperature-and-value--cool-or
--attr--wind--------and-value--weak-or
--attr--humidity----and-value--high-or
--attr--outlook-----and-value--overcast
&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF1A;
class----------------probability
----------------------------------------------
-yes----08581033539207260141896646079274
1-row
&#x8981;&#x5BF9;&#x4E00;&#x7EC4;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x4ED6;&#x4EEC;&#x5B58;&#x50A8;&#x5230;&#x8868;&#x4E2D;&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x4F8B;&#x5982;&#x4E0B;&#x9762;&#x7684;&#x8868;-t1-&#x5305;&#x542B;&#x4E86;&#x8981;&#x5206;&#x7C7B;&#x7684;&#x8BB0;&#x5F55;&#xFF1A;
-day--outlook---temperature--humidity---wind
----------------------------------------------
--15--sunny-----mild---------high------strong
--16--rain------cool---------normal----strong
--17--overcast--hot----------normal----weak
--18--rain------hot----------high------weak
4-rows
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7528;&#x6765;&#x5BF9;&#x6574;&#x5F20;&#x8868;&#x8BA1;&#x7B97;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x3002;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x5BF9;&#x8868;&#x4E2D;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x5224;&#x65AD;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;-yes-&#x548C;-no-&#x7684;&#x6982;&#x7387;&#x3002;-&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;-nbclassify-&#x548C;-nbprobabilities-&#x4E24;&#x4E2A;&#x805A;&#x5408;&#x51FD;&#x6570;&#x90FD;&#x53C2;&#x4E0E;&#x4E86;&#x8FD0;&#x7B97;&#x3002;
select-t1day
-------t1temperature-t1wind-t1humidity-t1outlook
-------nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-t1-weatherexamplenbclassifyfunctions
where
--attr--temperature-and-value--t1temperature-or
--attr--wind--------and-value--t1wind-or
--attr--humidity----and-value--t1humidity-or
--attr--outlook-----and-value--t1outlook
group-by-t1day-t1temperature-t1wind-t1humidity-t1outlook
&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x56DB;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x5206;&#x522B;&#x5BF9;&#x5E94;-t1-&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x3002;
day-temp-wind----humidity--outlook---class--probability
---------------------------------------------------------
15--mild-strong--high------sunny-----no-----02446941323345820755305867665418
16--cool-strong--normal----rain------yes----07514719978091190248528002190881
18--hot--weak----high------rain------no-----04463875388901310553612461109869
17--hot--weak----normal----overcast--yes----0929719264278800702807357212004
4-rows
"><h5 id="pic4"> &#x56FE;4&#xFF1A;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;</h5>
<h2 id="&#x67E5;&#x8BE2;&#x7684;&#x5B9A;&#x4E49;">&#x67E5;&#x8BE2;&#x7684;&#x5B9A;&#x4E49;</h2>
<p>HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x67E5;&#x8BE2;&#x547D;&#x4EE4;&#x662F;&#x57FA;&#x4E8E; PostgreSQL &#x5F00;&#x53D1;&#xFF0C;&#x800C; PostgreSQL &#x662F;&#x5B9E;&#x73B0;&#x4E86; SQL &#x6807;&#x51C6;&#x3002;</p>
<p>&#x672C;&#x5C0F;&#x7ED3;&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x5728; HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E2D;&#x7F16;&#x5199; SQL &#x67E5;&#x8BE2;&#x3002;</p>
<ul>
<li>SQL &#x8BCD;&#x6CD5;&#x5143;&#x7D20;</li>
<li>SQL &#x503C;&#x8868;&#x8FBE;&#x5F0F;</li>
</ul>
<h3 id="sql-&#x8BCD;&#x6CD5;&#x5143;&#x7D20;">SQL &#x8BCD;&#x6CD5;&#x5143;&#x7D20;</h3>
<p>SQL &#x662F;&#x4E00;&#x79CD;&#x6807;&#x51C6;&#x5316;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8BBF;&#x95EE;&#x8BED;&#x8A00;&#x3002;&#x4E0D;&#x540C;&#x5143;&#x7D20;&#x7EC4;&#x6784;&#x6210;&#x7684;&#x8BED;&#x8A00;&#x5141;&#x8BB8;&#x63A7;&#x5236;&#x6570;&#x636E;&#x5B58;&#x50A8;&#xFF0C;&#x6570;&#x636E;&#x83B7;&#x53D6;&#xFF0C;&#x6570;&#x636E;&#x5206;&#x6790;&#xFF0C; &#x6570;&#x636E;&#x53D8;&#x6362;&#x548C;&#x6570;&#x636E;&#x4FEE;&#x6539;&#x7B49;&#x3002;&#x4F60;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x4F7F;&#x7528; SQL &#x547D;&#x4EE4;&#x6765;&#x7F16;&#x5199; HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x7406;&#x89E3;&#x7684;&#x67E5;&#x8BE2;&#x548C;&#x547D;&#x4EE4;&#x3002;SQL &#x67E5;&#x8BE2;&#x7531;&#x4E00;&#x6761;&#x6216;&#x591A;&#x6761;&#x547D;&#x4EE4;&#x987A;&#x5E8F;&#x7EC4;&#x6210;&#x3002;&#x6BCF;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x662F;&#x7531;&#x591A;&#x4E2A;&#x8BCD;&#x6CD5;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x6B63;&#x786E;&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#x6784;&#x6210;&#x7684;&#xFF0C; &#x6BCF;&#x6761;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x5206;&#x53F7;&#xFF08;;&#xFF09;&#x5206;&#x9694;&#x3002;</p>
<p>HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5728; PostgreSQL &#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#x4E0A;&#x8FDB;&#x884C;&#x4E86;&#x4E00;&#x4E9B;&#x6269;&#x5C55;&#xFF0C;&#x5E76;&#x6839;&#x636E;&#x5206;&#x5E03;&#x5F0F;&#x73AF;&#x5883;&#x589E;&#x52A0;&#x4E86;&#x90E8;&#x5206;&#x7684;&#x9650;&#x5236;&#x3002;&#x5982;&#x679C;&#x60A8;&#x5E0C;&#x671B;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x5173;&#x4E8E; PostgreSQL &#x4E2D;&#x7684; SQL &#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x548C;&#x6982;&#x5FF5;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x53C2;&#x8003; PostgreSQL8.2&#x82F1;&#x6587;&#x624B;&#x518C;&#x4E2D;SQL&#x8BED;&#x6CD5;&#x7AE0;&#x8282; &#x6216;&#x8005; PostgreSQL9.3&#x4E2D;&#x6587;&#x624B;&#x518C;&#x4E2D; SQL &#x8BED;&#x6CD5;&#x7AE0;&#x8282;&#x3002;&#x7531;&#x4E8E;&#x4E2D;&#x6587;&#x7F51;&#x7AD9;&#x6CA1;&#x6709; 8.2 &#x624B;&#x518C;&#xFF0C;&#x8BF7;&#x60A8;&#x6CE8;&#x610F;&#x76F8;&#x5173;&#x8D44;&#x6599;&#x4E2D;&#x7684;&#x8BED;&#x6CD5;&#x53D8;&#x52A8;&#x3002;</p>
<h3 id="sql-&#x503C;&#x8868;&#x8FBE;&#x5F0F;">SQL &#x503C;&#x8868;&#x8FBE;&#x5F0F;</h3>
<p>SQL &#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x503C;&#xFF0C;&#x7B26;&#x53F7;&#xFF0C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;SQL &#x51FD;&#x6570;&#x548C;&#x6570;&#x636E;&#x7EC4;&#x6210;&#x3002;&#x8868;&#x8FBE;&#x5F0F;&#x901A;&#x8FC7;&#x6BD4;&#x8F83;&#x6570;&#x636E;&#xFF0C;&#x6267;&#x884C;&#x8BA1;&#x7B97;&#x75C5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x3002;&#x8868;&#x8FBE;&#x5F0F;&#x8BA1;&#x7B97;&#x5305;&#x62EC;&#xFF1A;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#xFF0C;&#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x548C;&#x96C6;&#x5408;&#x8FD0;&#x7B97;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7C7B;&#x522B;&#xFF1A;</p>
<ul>
<li>&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;</li>
<li>&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;</li>
<li>&#x5217;&#x5F15;&#x7528;</li>
<li>&#x5E38;&#x4EAE;&#x6216;&#x5B57;&#x9762;&#x503C;</li>
<li>&#x76F8;&#x5173;&#x81EA;&#x67E5;&#x8BE2;</li>
<li>&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;</li>
<li>&#x51FD;&#x6570;&#x8C03;&#x7528;</li>
<li>INSERT &#x6216; UPDATE &#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x4E3A;&#x5217;&#x63D0;&#x4F9B;&#x7684;&#x503C;</li>
<li>&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;</li>
<li>&#x5217;&#x5F15;&#x7528;</li>
<li>&#x5728;&#x51FD;&#x6570;&#x4F53;&#x5185;&#x6216; Prepared &#x8BED;&#x53E5;&#x4E2D;&#x5F15;&#x7528;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;</li>
<li>&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;</li>
<li>&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;</li>
<li>WHERE &#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x641C;&#x7D22;&#x6761;&#x4EF6;</li>
<li>SELECT &#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x8FD4;&#x56DE;&#x5217;&#x8868;</li>
<li>&#x7C7B;&#x578B;&#x8F6C;&#x6362;</li>
<li>&#x62EC;&#x53F7;&#x4FDD;&#x62A4;&#x7684;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;</li>
<li>&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;</li>
</ul>
<p>&#x50CF;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x8FD9;&#x6837;&#x7684; SQL &#x7ED3;&#x6784;&#x867D;&#x7136;&#x5C5E;&#x4E8E;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x4E0E;&#x666E;&#x901A;&#x7684;&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x4E0D;&#x76F8;&#x540C;&#x3002;&#x8BF7;&#x53C2;&#x8003;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;</p>
<h4 id="&#x5217;&#x5F15;&#x7528;">&#x5217;&#x5F15;&#x7528;</h4>
<p>&#x5217;&#x5F15;&#x7528;&#x7684;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="language-"><code>correlation.columnname
</code></pre><p>&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;correlation &#x662F;&#x8868;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF1A;&#x5728;&#x8868;&#x540D;&#x524D;&#x9762;&#x6DFB;&#x52A0;&#x6A21;&#x5F0F;&#x540D;&#xFF09;&#x6216;&#x8005;&#x5B9A;&#x4E49;&#x5728; FROM &#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x8868;&#x7684;&#x522B;&#x540D;&#x3002;&#x5982;&#x679C;&#x5217;&#x540D;&#x5728;&#x67E5;&#x8BE2;&#x8BBF;&#x95EE;&#x7684;&#x8868;&#x4E2D;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF0C;&#x90A3;&#x4E48; &#x201C;correlation.&#x201D; &#x90E8;&#x5206;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x7701;&#x7565;&#x7684;&#x3002;</p>
<h4 id="&#x4F4D;&#x7F6E;&#x53C2;&#x6570;">&#x4F4D;&#x7F6E;&#x53C2;&#x6570;</h4>
<p>&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x662F;&#x6307;&#x901A;&#x8FC7;&#x6307;&#x5B9A;&#x4F20;&#x9012;&#x7ED9; SQL &#x8BED;&#x53E5;&#x6216;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;&#x6765;&#x5F15;&#x7528;&#x7684;&#x53C2;&#x6570;&#x3002;&#x4F8B;&#x5982;&#xFF1A;<code>$1</code> &#x5F15;&#x7528;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;<code>$2</code> &#x5F15;&#x7528;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4F9D;&#x6B64;&#x7C7B;&#x63A8;&#x3002;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x7684;&#x503C;&#x662F;&#x901A;&#x8FC7;&#x5728; SQL &#x8BED;&#x53E5;&#x7684;&#x5916;&#x90E8;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x6216;&#x8005;&#x901A;&#x8FC7;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x4F20;&#x9012;&#x3002; &#x4E00;&#x4E9B;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x53E3;&#x5E93;&#x51FD;&#x6570;&#x652F;&#x6301;&#x5728; SQL &#x547D;&#x4EE4;&#x4E4B;&#x5916;&#x6307;&#x5B9A;&#x6570;&#x503C;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x53C2;&#x6570;&#x5F15;&#x7528;&#x7684;&#x662F; SQL &#x4E4B;&#x5916;&#x7684;&#x5B9E;&#x9645;&#x503C;&#x3002;</p>
<p>&#x5F15;&#x7528;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x7684;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="language-"><code>$number
</code></pre><p>&#x793A;&#x4F8B;:</p>
<pre class="language-"><code>CREATE FUNCTION dept(text) RETURNS dept
    AS $$ SELECT * FROM dept WHERE name = $1 $$
    LANGUAGE SQL;
</code></pre><p>&#x8FD9;&#x91CC;, <code>$1</code> &#x5F15;&#x7528;&#x7684;&#x662F;&#x5728;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x4F20;&#x9012;&#x7ED9;&#x51FD;&#x6570;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x503C;&#x3002;</p>
<h4 id="&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;">&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;</h4>
<p>&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x4EA7;&#x751F;&#x4E86;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x7C7B;&#x578B;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x6570;&#x7EC4;&#x4E2D;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x5143;&#x7D20;&#x503C;&#xFF1A;</p>
<pre class="language-"><code>expression[subscript]
</code></pre><p>&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x591A;&#x4E2A;&#x76F8;&#x8FDE;&#x7684;&#x5143;&#x7D20;&#x503C;&#xFF0C;&#x79F0;&#x4E3A;&#x6570;&#x7EC4;&#x5206;&#x7247;&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="language-"><code>expression[lower_subscript:upper_subscript]
</code></pre><p>&#x4E0B;&#x6807;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8BE5;&#x8868;&#x8FBE;&#x5F0F;&#x5FC5;&#x987B;&#x8FD4;&#x56DE;&#x6574;&#x6570;&#x503C;&#x7C7B;&#x578B;&#x3002;</p>
<p>&#x5927;&#x90E8;&#x5206;&#x65F6;&#x5019;&#xFF0C;&#x6570;&#x7EC4;&#x8868;&#x8FBE;&#x5F0F;&#x5FC5;&#x987B;&#x5728;&#x62EC;&#x53F7;&#x4E2D;&#x4F7F;&#x7528;&#x3002;&#x5982;&#x679C;&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;&#x8BBF;&#x95EE;&#x5217;&#x5F15;&#x7528;&#x6216;&#x8005;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x62EC;&#x53F7;&#x662F;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x7684;&#x3002; &#x5BF9;&#x4E8E;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8FDE;&#x63A5;&#x591A;&#x4E2A;&#x4E0B;&#x6807;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="language-"><code>mytable.arraycolumn[4]
mytable.two_d_column[17][34]
$1[10:42]
(arrayfunction(a,b))[42]
</code></pre><h4 id="&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;">&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;</h4>
<p>&#x5982;&#x679C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#xFF09;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x9009;&#x62E9;&#x8BE5;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x4E2D;&#x7684;&#x7279;&#x5B9A;&#x6210;&#x5458;&#x503C;&#xFF1A;</p>
<pre class="language-"><code>expression.fieldname
</code></pre><p>&#x8BB0;&#x5F55;&#x8868;&#x8FBE;&#x5F0F;&#x901A;&#x5E38;&#x9700;&#x8981;&#x5728;&#x62EC;&#x53F7;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x88AB;&#x8BBF;&#x95EE;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x8868;&#x5F15;&#x7528;&#x6216;&#x8005;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x62EC;&#x53F7;&#x662F;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x7684;&#x3002;&#x793A;&#x4F8B;&#xFF1A;</p>
<pre class="language-"><code>mytable.mycolumn
$1.somecolumn
(rowfunction(a,b)).col3
</code></pre><p>&#x4E00;&#x4E2A;&#x9650;&#x5B9A;&#x7684;&#x5217;&#x5F15;&#x7528;&#x662F;&#x6210;&#x5458;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7279;&#x4F8B;&#x3002;</p>
<h4 id="&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;">&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;</h4>
<p>&#x8FD0;&#x7B97;&#x7B26;&#x8C03;&#x7528;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x7684;&#x51E0;&#x79CD;&#x8BED;&#x6CD5;&#xFF1A;</p>
<pre class="language-"><code>expression operator expression(binary infix operator)
operator expression(unary prefix operator)
expression operator(unary postfix operator)
</code></pre><p>&#x793A;&#x4F8B;&#x4E2D;&#x7684; operator &#x5B9E;&#x9645;&#x662F;&#x8FD0;&#x7B97;&#x7B26;&#x7B26;&#x53F7;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;AND&#xFF0C;OR&#xFF0C;+ &#x7B49;&#x3002;&#x8FD0;&#x7B97;&#x7B26;&#x4E5F;&#x6709;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre class="language-"><code>OPERATOR(schema.operatorname)
</code></pre><p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x4EE5;&#x53CA;&#x4ED6;&#x4EEC;&#x7A76;&#x7ADF;&#x662F;&#x4E00;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#x8FD8;&#x662F;&#x4E8C;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x53D6;&#x51B3;&#x4E8E;&#x7CFB;&#x7EDF;&#x548C;&#x7528;&#x6237;&#x7684;&#x5B9A;&#x4E49;&#x3002;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x5185;&#x5EFA;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;</p>
<h4 id="&#x51FD;&#x6570;&#x8C03;&#x7528;">&#x51FD;&#x6570;&#x8C03;&#x7528;</h4>
<p>&#x51FD;&#x6570;&#x8C03;&#x7528;&#x7684;&#x8BED;&#x6CD5;&#x662F;&#x51FD;&#x6570;&#x540D;&#xFF08;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF1A;&#x5728;&#x51FD;&#x6570;&#x540D;&#x5F00;&#x5934;&#x6DFB;&#x52A0;&#x6A21;&#x5F0F;&#x540D;&#xFF09;&#x8DDF;&#x968F;&#x7740;&#x4F7F;&#x7528;&#x62EC;&#x53F7;&#x4FDD;&#x62A4;&#x7684;&#x53C2;&#x6570;&#x5217;&#x8868;&#xFF1A;</p>
<pre class="language-"><code>function ([expression [, expression ... ]])
</code></pre><p>&#x4E0B;&#x9762;&#x793A;&#x4F8B;&#x662F;&#x901A;&#x8FC7;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x8BA1;&#x7B97;2&#x7684;&#x5E73;&#x65B9;&#x6839;&#xFF1A;</p>
<pre class="language-"><code>sqrt(2)
</code></pre><p>&#x53C2;&#x8003;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;</p>
<h4 id="&#x805A;&#x96C6;&#x8868;&#x8FBE;&#x5F0F;">&#x805A;&#x96C6;&#x8868;&#x8FBE;&#x5F0F;</h4>
<p>&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x6307;&#x5BF9;&#x4E8E;&#x67E5;&#x8BE2;&#x9009;&#x62E9;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x4E0A;&#x5E94;&#x7528;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x51FD;&#x6570;&#x3002;&#x805A;&#x5408;&#x51FD;&#x6570;&#x5728;&#x4E00;&#x7EC4;&#x503C;&#x4E0A;&#x8FDB;&#x884C;&#x8FD0;&#x7B97;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x5BF9;&#x4E00;&#x7EC4;&#x503C;&#x8FDB;&#x884C;&#x6C42;&#x548C;&#x8FD0;&#x7B97;&#x6216;&#x8005;&#x8BA1;&#x7B97;&#x5E73;&#x5747;&#x503C;&#x3002;&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#xFF1A;</p>
<ul>
<li>aggregate_name(expression [ , &#x2026; ] ) &#x2014; &#x5904;&#x7406;&#x6240;&#x6709;&#x503C;&#x4E3A;&#x975E;&#x7A7A;&#x7684;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#x3002;</li>
<li>aggregate_name(ALL expression [ , &#x2026; ] ) &#x2014; &#x548C;&#x4E0A;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x884C;&#x4E3A;&#x4E00;&#x81F4;&#xFF0C;&#x56E0;&#x4E3A; ALL &#x662F;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x3002;</li>
<li>aggregate_name(DISTINCT expression [ , &#x2026; ] ) &#x2014; &#x5904;&#x7406;&#x6240;&#x6709;&#x53BB;&#x9664;&#x91CD;&#x590D;&#x540E;&#x7684;&#x975E;&#x7A7A;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#x3002;</li>
<li>aggregate_name(*) &#x2014; &#x5904;&#x7406;&#x6240;&#x6709;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x503C;&#xFF0C;&#x975E;&#x7A7A;&#x503C;&#x548C;&#x7A7A;&#x503C;&#x90FD;&#x4F1A;&#x88AB;&#x5904;&#x7406;&#x3002;&#x901A;&#x5E38;&#x8FD9;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x90FD;&#x662F;&#x4E3A;count(*)&#x670D;&#x52A1;&#x7684;&#x3002;</li>
</ul>
<p>&#x4E0A;&#x9762;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684; aggregate_name &#x662F;&#x4E00;&#x4E2A;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x540D;&#x79F0;&#xFF08;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6A21;&#x5F0F;&#x9650;&#x5B9A;&#x540D;&#x683C;&#x5F0F;&#xFF09;&#x3002;&#x4E0A;&#x9762;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684; expression &#x53EF;&#x4EE5;&#x662F;&#x9664;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x81EA;&#x8EAB;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x503C;&#x5408;&#x6CD5;&#x8868;&#x8FBE;&#x5F0F;&#x3002;</p>
<p>&#x4F8B;&#x5982;&#xFF0C;count(*) &#x8FD4;&#x56DE;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x7684;&#x603B;&#x6570;&#x91CF;&#xFF0C;count(f1) &#x8FD4;&#x56DE; f1 &#x503C;&#x4E2D;&#x975E;&#x7A7A;&#x7684;&#x603B;&#x6570;&#x91CF;&#xFF0C;count(distinct f1) &#x8FD4;&#x56DE;&#x7684;&#x662F; f1 &#x503C;&#x4E2D;&#x975E;&#x7A7A;&#x5E76;&#x53BB;&#x9664;&#x91CD;&#x590D;&#x503C;&#x540E;&#x7684;&#x603B;&#x6570;&#x91CF;&#x3002;</p>
<p>&#x8981;&#x4E86;&#x89E3;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x3002;&#x9664;&#x4E86;&#x9884;&#x5B9A;&#x4E49;&#x805A;&#x5408;&#x51FD;&#x6570;&#x5916;&#xFF0C;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x3002;</p>
<p>HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x63D0;&#x4F9B; MEDIAN &#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x8FD4;&#x56DE; PERCENTILE_CONT &#x7684; 50 &#x5206;&#x4F4D;&#x6570;&#x7ED3;&#x679C;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x652F;&#x6301;&#x7684;&#x7279;&#x6B8A;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;</p>
<pre class="language-"><code>PERCENTILE_CONT(percentage) WITHIN GROUP (ORDER BY expression)
PERCENTILE_DISC(percentage) WITHIN GROUP (ORDER BY expression)
</code></pre><p>&#x76EE;&#x524D;&#x53EA;&#x6709;&#x4E0A;&#x9762;&#x4E24;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5173;&#x952E;&#x5B57; WITHIN GROUP&#x3002;</p>
<h4 id="&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x9650;&#x5236;">&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x9650;&#x5236;</h4>
<p>&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x4E86;&#x76EE;&#x524D;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x9650;&#x5236;&#xFF1A;</p>
<p>HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x5173;&#x952E;&#x5B57;&#xFF1A;ALL&#xFF0C;DISTINCT&#xFF0C;FILTER &#x548C; OVER&#x3002;&#x8BF7;&#x53C2;&#x8003; <a href="#tab5">&#x8868;5</a> &#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;</p>
<p>&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x53EA;&#x80FD;&#x51FA;&#x73B0;&#x5728; SELECT &#x547D;&#x4EE4;&#x7684;&#x7ED3;&#x679C;&#x5217;&#x8868;&#x6216;&#x8005; HAVING &#x5B50;&#x53E5;&#x4E2D;&#x3002;&#x5728;&#x5176;&#x5B83;&#x4F4D;&#x7F6E;&#x7D27;&#x81F4;&#x8BBF;&#x95EE;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;WHERE&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5728;&#x5176;&#x5B83;&#x5176;&#x5B83;&#x4F4D;&#x7F6E;&#x7684;&#x8BA1;&#x7B97;&#x65E9;&#x4E8E;&#x805A;&#x5408;&#x6570;&#x636E;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x6B64;&#x9650;&#x5236;&#x7279;&#x6307;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x6240;&#x5C5E;&#x7684;&#x67E5;&#x8BE2;&#x5C42;&#x6B21;&#x3002;</p>
<p>&#x5F53;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x51FA;&#x73B0;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x805A;&#x5408;&#x64CD;&#x4F5C;&#x76F8;&#x5F53;&#x4E8E;&#x4F5C;&#x7528;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x53EA;&#x5305;&#x542B;&#x5916;&#x5C42;&#x53D8;&#x91CF;&#xFF0C;&#x8BE5;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x5C5E;&#x4E8E;&#x6700;&#x8FD1;&#x4E00;&#x5C42;&#x7684;&#x5916;&#x90E8;&#x8868;&#x67E5;&#x8BE2;&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x5728;&#x8BE5;&#x67E5;&#x8BE2;&#x7ED3; &#x679C;&#x4E0A;&#x8FDB;&#x884C;&#x805A;&#x5408;&#x8FD0;&#x7B97;&#x3002;&#x8BE5;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x5BF9;&#x4E8E;&#x51FA;&#x73B0;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x6765;&#x8BF4;&#xFF0C;&#x5C06;&#x4F1A;&#x5F53;&#x6210;&#x4E00;&#x4E2A;&#x5916;&#x90E8;&#x5F15;&#x7528;&#xFF0C;&#x5E76;&#x4EE5;&#x5E38;&#x91CF;&#x503C;&#x5904;&#x7406;&#x3002;&#x8BF7;&#x53C2;&#x8003; <a href="#tab2">&#x8868;2</a> &#x4E86;&#x89E3;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x3002;</p>
<p>HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x5728;&#x591A;&#x4E2A;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;&#x4E0A;&#x4F7F;&#x7528; DISTINCT&#x3002;</p>
<h4 id="&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;">&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;</h4>
<p>&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x5141;&#x8BB8;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x66F4;&#x52A0;&#x7B80;&#x5355;&#x5730;&#x901A;&#x8FC7;&#x6807;&#x51C6;SQL&#x8BED;&#x8A00;&#xFF0C;&#x6765;&#x6784;&#x5EFA;&#x590D;&#x6742;&#x7684;&#x5728;&#x7EBF;&#x5206;&#x6790;&#x5904;&#x7406;&#xFF08;OLAP&#xFF09;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x8BA1;&#x7B97;&#x79FB;&#x52A8;&#x5E73;&#x5747;&#x503C;&#xFF0C;&#x67D0;&#x4E2A;&#x8303;&#x56F4;&#x5185;&#x7684;&#x603B;&#x548C;&#xFF0C;&#x6839;&#x636E;&#x67D0;&#x4E9B;&#x5217;&#x503C;&#x7684;&#x53D8;&#x5316;&#x91CD;&#x7F6E;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x6216;&#x6392;&#x540D;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x7B80;&#x5355;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x8868;&#x8FF0;&#x590D;&#x6742;&#x7684;&#x6BD4;&#x4F8B;&#x5173;&#x7CFB;&#x3002;</p>
<p>&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x8868;&#x793A;&#x5728;&#x7A97;&#x53E3;&#x5E27;&#x4E0A;&#x5E94;&#x7528;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#xFF0C;&#x7A97;&#x53E3;&#x5E27;&#x662F;&#x901A;&#x8FC7;&#x975E;&#x5E38;&#x7279;&#x522B;&#x7684; OVER() &#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x7684;&#x3002;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x662F;&#x5206;&#x7EC4;&#x540E;&#x7684;&#x5E94;&#x7528;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x96C6;&#x5408;&#x3002;&#x4E0E;&#x805A;&#x5408;&#x51FD;&#x6570;&#x9488;&#x5BF9;&#x6BCF;&#x4E2A;&#x5206;&#x7EC4;&#x7684;&#x8BB0;&#x5F55;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x4E0D;&#x540C;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x771F;&#x5BF9;&#x6BCF;&#x884C;&#x90FD;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;&#x4F46;&#x662F;&#x8BE5;&#x503C;&#x7684;&#x8BA1;&#x7B97;&#x662F;&#x5B8C;&#x5168;&#x771F;&#x5BF9;&#x6839;&#x636E;&#x8BB0;&#x5F55;&#x5BF9;&#x5E94;&#x7684;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x8FDB;&#x884C;&#x7684;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;&#x5206;&#x533A;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5C31;&#x4F1A;&#x5728;&#x6574;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x8D4F;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x3002;</p>
<p>&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8BED;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="language-"><code>window_function ( [expression [, ...]] ) OVER ( window_specification )
</code></pre><p>&#x8FD9;&#x91CC;&#x7684; window_function &#x662F;&#x8868; 3 &#x5217;&#x51FA;&#x7684;&#x51FD;&#x6570;&#x4E4B;&#x4E00;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x4EFB;&#x4F55;&#x4E0D;&#x5305;&#x542B;&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5408;&#x6CD5;&#x503C;&#x3002;window_specification &#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="language-"><code>[window_name]
[PARTITION BY expression [, ...]]
[[ORDER BY expression [ASC | DESC | USING operator] [, ...]
    [{RANGE | ROWS}
       { UNBOUNDED PRECEDING
       | expression PRECEDING
       | CURRENT ROW
       | BETWEEN window_frame_bound AND window_frame_bound }]]
</code></pre><p>&#x4E0A;&#x9762;&#x7684; window_frame_bound &#x5B9A;&#x4E49;&#x5982;&#x4E0B;:</p>
<pre class="language-"><code>UNBOUNDED PRECEDING
expression PRECEDING
CURRENT ROW
expression FOLLOWING
UNBOUNDED FOLLOWING
</code></pre><p>&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;&#x53EA;&#x80FD;&#x5728; SELECT &#x7684;&#x8FD4;&#x56DE;&#x91CC;&#x8868;&#x4E2D;&#x51FA;&#x73B0;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre class="language-"><code>SELECT count(*) OVER(PARTITION BY customer_id), * FROM sales;
</code></pre><p>OVER &#x5B50;&#x53E5;&#x662F;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x4E0E;&#x5176;&#x4ED6;&#x805A;&#x5408;&#x51FD;&#x6570;&#x6216;&#x62A5;&#x8868;&#x51FD;&#x6570;&#x6700;&#x5927;&#x7684;&#x533A;&#x522B;&#x3002;OVER &#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x7684; window_specification &#x786E;&#x5B9A;&#x4E86;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5E94;&#x7528;&#x7684;&#x8303;&#x56F4;&#x3002;&#x7A97;&#x53E3;&#x8BF4;&#x660E;&#x5305;&#x542B;&#x4E0B;&#x9762;&#x7279;&#x5F81;&#xFF1A;</p>
<p>PARTITION BY &#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x5E94;&#x7528;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x4E0A;&#x7684;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x3002;&#x5982;&#x679C;&#x7701;&#x7565;&#x6B64;&#x53C2;&#x6570;&#xFF0C;&#x6574;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x5206;&#x533A;&#x4F7F;&#x7528;&#x3002;</p>
<p>ORDER BY &#x5B50;&#x53E5;&#x5B9A;&#x4E49;&#x5728;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E2D;&#x7528;&#x4E8E;&#x6392;&#x5E8F;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x7A97;&#x53E3;&#x8BF4;&#x660E;&#x4E2D;&#x7684; ORDER BY &#x5B50;&#x53E5;&#x548C;&#x4E3B;&#x67E5;&#x8BE2;&#x4E2D;&#x7684; ORDER BY &#x5B50;&#x53E5;&#x662F;&#x76F8;&#x4E92;&#x72EC;&#x7ACB;&#x7684;&#x3002;ORDER BY &#x5B50;&#x53E5;&#x5BF9;&#x4E8E;&#x8BA1;&#x7B97;&#x6392;&#x540D;&#x7684;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x6765;&#x8BF4;&#x662F;&#x5FC5;&#x9700;&#x7684;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x6392;&#x5E8F;&#x540E;&#x624D;&#x80FD;&#x83B7;&#x5F97;&#x6392;&#x540D;&#x503C;&#x3002; &#x5BF9;&#x4E8E;&#x5728;&#x7EBF;&#x5206;&#x6790;&#x5904;&#x7406;&#x805A;&#x5408;&#x64CD;&#x4F5C;&#xFF0C;&#x7A97;&#x53E3;&#x5E27;&#xFF08;ROWS &#x6216; RANGE &#x5B50;&#x53E5;&#xFF09;&#x9700;&#x8981; ORDER BY &#x5B50;&#x53E5;&#x624D;&#x80FD;&#x4F7F;&#x7528;&#x3002;
ROWS/RANGE &#x5B50;&#x53E5;&#x4E3A;&#x805A;&#x5408;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#xFF08;&#x975E;&#x6392;&#x540D;&#x64CD;&#x4F5C;&#xFF09;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7A97;&#x53E3;&#x5E27;&#x3002;&#x7A97;&#x53E3;&#x5E27;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5206;&#x533A;&#x5185;&#x7684;&#x4E00;&#x7EC4;&#x8BB0;&#x5F55;&#x3002; &#x5B9A;&#x4E49;&#x4E86;&#x7A97;&#x53E3;&#x5E27;&#x4E4B;&#x540E;&#xFF0C;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x5C06;&#x4F1A;&#x5728;&#x79FB;&#x52A8;&#x7A97;&#x53E3;&#x5E27;&#x4E0A;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#x5728;&#x6574;&#x4E2A;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E0A;&#x8FDB;&#x884C;&#x3002; &#x7A97;&#x53E3;&#x5E27;&#x53EF;&#x4EE5;&#x662F;&#x57FA;&#x4E8E;&#x8BB0;&#x5F55;&#x5206;&#x9694;&#x7684;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x57FA;&#x4E8E;&#x503C;&#x5206;&#x9694;&#x7684;&#x3002;</p>
<h4 id="&#x7C7B;&#x578B;&#x8F6C;&#x6362;">&#x7C7B;&#x578B;&#x8F6C;&#x6362;</h4>
<p>&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x4E0B;&#x9762;&#x4E24;&#x79CD;&#x7B49;&#x4EF7;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8BED;&#x6CD5;&#xFF1A;</p>
<pre class="language-"><code>CAST ( expression AS type )
expression::type
</code></pre><p>CAST &#x7684;&#x8BED;&#x6CD5;&#x662F;&#x7B26;&#x5408; SQL &#x6807;&#x51C6;&#x7684;&#x7684;&#xFF1B;&#x800C;&#x8BED;&#x6CD5; :: &#x662F; PostgreSQL &#x5386;&#x53F2;&#x9057;&#x7559;&#x7684;&#x4E60;&#x60EF;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x5DF2;&#x77E5;&#x7C7B;&#x578B;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x64CD;&#x4F5C;&#x662F;&#x8FD0;&#x884C;&#x65F6;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x3002;&#x53EA;&#x6709;&#x5F53;&#x7CFB;&#x7EDF;&#x4E2D;&#x9002;&#x7528;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x51FD;&#x6570;&#xFF0C;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x624D;&#x53EF;&#x80FD;&#x6210;&#x529F;&#x3002; &#x8FD9;&#x4E0E;&#x76F4;&#x63A5;&#x5728;&#x5E38;&#x91CF;&#x4E0A;&#x5E94;&#x7528;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5E76;&#x4E0D;&#x76F8;&#x540C;&#x3002;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x5B57;&#x9762;&#x503C;&#x4E0A;&#x5E94;&#x7528;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x4EE3;&#x8868;&#x4E86;&#x7528;&#x5B57;&#x9762;&#x503C;&#x5E38;&#x91CF;&#x5BF9;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x8D4B;&#x503C;&#x3002; &#x56E0;&#x6B64;&#xFF0C;&#x8BE5;&#x5B57;&#x7B26;&#x4E32;&#x5B57;&#x9762;&#x503C;&#x53EA;&#x8981;&#x662F;&#x8BE5;&#x7C7B;&#x578B;&#x63A5;&#x6536;&#x7684;&#x5408;&#x6CD5;&#x8F93;&#x5165;&#xFF0C;&#x8BE5;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x90FD;&#x4F1A;&#x6210;&#x529F;&#x3002;</p>
<p>&#x5728;&#x4E00;&#x4E9B;&#x4F4D;&#x7F6E;&#x4E0A;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x7C7B;&#x578B;&#x5982;&#x679C;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x6B67;&#x4E49;&#x65F6;&#xFF0C;&#x663E;&#x793A;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x7701;&#x7565;&#x7684;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x5F53;&#x4E3A;&#x4E00;&#x5F20;&#x8868;&#x7684;&#x67D0;&#x4E2A;&#x5217;&#x8D4B;&#x503C;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x5E94;&#x7528;&#x6B63;&#x786E;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x3002; &#x7CFB;&#x7EDF;&#x8981;&#x5E94;&#x7528;&#x81EA;&#x52A8;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x89C4;&#x5219;&#x7684;&#x524D;&#x63D0;&#x662F;&#xFF0C;&#x5F53;&#x4E14;&#x4EC5;&#x5F53;&#x7CFB;&#x7EDF;&#x8868;&#x4E2D;&#x5B9A;&#x4E49;&#x9690;&#x5F0F;&#x5730;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x662F;&#x5408;&#x6CD5;&#x7684;&#x3002; &#x5176;&#x4ED6;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#xFF0C;&#x5FC5;&#x9700;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8BED;&#x6CD5;&#x663E;&#x793A;&#x5730;&#x8FDB;&#x884C;&#x8C03;&#x7528;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x53EF;&#x4EE5;&#x963B;&#x6B62;&#x4E00;&#x90E8;&#x5206;&#x7528;&#x6237;&#x610F;&#x6599;&#x4E4B;&#x5916;&#x7684;&#x975E;&#x671F;&#x671B;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x7684;&#x53D1;&#x751F;&#x3002;</p>
<h4 id="&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;">&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;</h4>
<p>&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x4E00;&#x4E2A;&#x62EC;&#x53F7;&#x4E2D;&#x7684; SELECT &#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#xFF0C;&#x5E76;&#x4E14;&#x8BE5;&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x884C;&#x4E00;&#x5217;&#xFF08;&#x4E00;&#x4E2A;&#x503C;&#xFF09;&#x3002;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x4E0D;&#x652F;&#x6301;&#x4F7F;&#x7528;&#x8FD4;&#x56DE;&#x591A;&#x884C;&#x6216;&#x591A;&#x5217;&#x7684; SELECT &#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x3002;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x8FD0;&#x884C;&#x5E76;&#x4F7F;&#x7528;&#x76F8;&#x5173;&#x81EA;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;&#x76F8;&#x5173;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x5F15;&#x7528;&#x4E86;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x53D8;&#x91CF;&#x7684;&#x67E5;&#x8BE2;&#x3002;</p>
<h4 id="&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;">&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;</h4>
<p>&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x6307;&#x4E00;&#x4E2A; SELECT &#x67E5;&#x8BE2;&#x4F4D;&#x4E8E; &#x8FD4;&#x56DE;&#x5217;&#x8868;&#x6216; WHERE &#x6761;&#x4EF6;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x5E76;&#x5F15;&#x7528;&#x4E86;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x3002;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x5141;&#x8BB8;&#x66F4;&#x9AD8;&#x6548;&#x7684;&#x8868;&#x793A;&#x51FA;&#x5F15;&#x7528;&#x5176;&#x4ED6;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x80FD;&#x591F;&#x652F;&#x6301;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x7279;&#x6027;&#xFF0C;&#x6B64;&#x7279;&#x6027;&#x80FD;&#x591F;&#x5141;&#x8BB8;&#x517C;&#x5BB9;&#x5F88;&#x591A;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002; &#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x8FD4;&#x56DE;&#x8BB0;&#x5F55;&#x662F;&#x4E00;&#x6761;&#x8FD8;&#x662F;&#x591A;&#x6761;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x662F;&#x6807;&#x91CF;&#x6216;&#x8005;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C; &#x8FD9;&#x53D6;&#x51B3;&#x4E8E;&#x5B83;&#x8FD4;&#x56DE;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x4E00;&#x6761;&#x8FD8;&#x662F;&#x591A;&#x6761;&#x3002;HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x76EE;&#x524D;&#x4E0D;&#x652F;&#x6301;&#x5F15;&#x7528;&#x8DE8;&#x5C42;&#x7684;&#x53D8;&#x91CF;&#xFF08;&#x4E0D;&#x652F;&#x6301;&#x95F4;&#x63A5;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF09;&#x3002;</p>
<p>&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x793A;&#x4F8B; </p>
<p><strong><em>&#x793A;&#x4F8B; 1 &#x2013; &#x6807;&#x91CF;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;</em></strong></p>
<pre class="language-"><code>SELECT * FROM t1 WHERE t1.x
            &gt; (SELECT MAX(t2.x) FROM t2 WHERE t2.y = t1.y);
</code></pre><p><strong><em>&#x793A;&#x4F8B; 2 &#x2013; &#x76F8;&#x5173; EXISTS &#x5B50;&#x67E5;&#x8BE2;</em></strong></p>
<pre class="language-"><code>SELECT * FROM t1 WHERE
EXISTS (SELECT 1 FROM t2 WHERE t2.x = t1.x);
</code></pre><p>HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5229;&#x7528;&#x4E0B;&#x9762;&#x4E24;&#x4E2A;&#x7B97;&#x6CD5;&#x6765;&#x8FD0;&#x884C;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF1A;</p>
<p>&#x5C06;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x5C55;&#x5F00;&#x6210;&#x4E3A;&#x8FDE;&#x63A5;&#x8FD0;&#x7B97;&#xFF1A;&#x8FD9;&#x79CD;&#x7B97;&#x662F;&#x662F;&#x6700;&#x9AD8;&#x6548;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F; HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5BF9;&#x4E8E;&#x5927;&#x90E8;&#x5206;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x4F7F;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x4E00;&#x4E9B; TPC-H &#x6D4B;&#x8BD5;&#x96C6;&#x4E2D;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6B64;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x4F18;&#x5316;&#x3002;
&#x5BF9;&#x4E8E;&#x5F15;&#x7528;&#x7684;&#x67E5;&#x8BE2;&#x7684;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x90FD;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF1A;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x76F8;&#x5BF9;&#x6765;&#x8BF4;&#x4F4E;&#x6548;&#x7684;&#x7B97;&#x6CD5;&#x3002;HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5BF9;&#x4E8E;&#x4F4D;&#x4E8E; SELECT &#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x548C; WHERE &#x6761;&#x4EF6;&#x4E2D; OR &#x8FDE;&#x63A5;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x7B97;&#x6CD5;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5BF9;&#x4E8E;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x67E5;&#x8BE2;&#x91CD;&#x5199;&#x6765;&#x6539;&#x8FDB;&#x6027;&#x80FD;&#x3002;</p>
<p><strong><em>&#x793A;&#x4F8B; 3 - Select &#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;</em></strong></p>
<p>&#x539F;&#x59CB;&#x67E5;&#x8BE2;</p>
<pre class="language-"><code>SELECT T1.a,
      (SELECT COUNT(DISTINCT T2.z) FROM t2 WHERE t1.x = t2.y) dt2
FROM t1;
</code></pre><p>&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x9996;&#x5148;&#x4E0E;&#x8868; t1 &#x6267;&#x884C;&#x5185;&#x8FDE;&#x63A5;&#xFF0C;&#x518D;&#x6267;&#x884C;&#x5DE6;&#x5916;&#x8FDE;&#x63A5;&#x3002;&#x67E5;&#x8BE2;&#x91CD;&#x5199;&#x53EA;&#x80FD;&#x5BF9;&#x7B49;&#x503C;&#x8FDE;&#x63A5;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x6761;&#x4EF6;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;</p>
<p>&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;</p>
<pre class="language-"><code>SELECT t1.a, dt2 FROM t1
       LEFT JOIN
        (SELECT t2.y AS csq_y, COUNT(DISTINCT t2.z) AS dt2
              FROM t1, t2 WHERE t1.x = t2.y
              GROUP BY t1.x)
       ON (t1.x = csq_y);
</code></pre><p><strong><em>&#x793A;&#x4F8B; 4 - OR &#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2; &#x539F;&#x59CB;&#x67E5;&#x8BE2;</em></strong></p>
<pre class="language-"><code>SELECT * FROM t1
WHERE
x &gt; (SELECT COUNT(*) FROM t2 WHERE t1.x = t2.x)
OR x &lt; (SELECT COUNT(*) FROM t3 WHERE t1.y = t3.y)
</code></pre><p>&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x662F;&#x6839;&#x636E; OR &#x6761;&#x4EF6;&#xFF0C;&#x5C06;&#x539F;&#x6765;&#x67E5;&#x8BE2;&#x5206;&#x6210;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x5E76;&#x4F7F;&#x7528; UNION &#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x3002;</p>
<p>&#x91CD;&#x5199;&#x540E;&#x7684;&#x67E5;&#x8BE2;</p>
<pre class="language-"><code>SELECT * FROM t1
WHERE x &gt; (SELECT count(*) FROM t2 WHERE t1.x = t2.x)
UNION
SELECT * FROM t1
WHERE x &lt; (SELECT count(*) FROM t3 WHERE t1.y = t3.y)
</code></pre><p>&#x8981;&#x67E5;&#x770B;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; EXPLAIN SELECT &#x6216;&#x8005; EXPLAIN ANALYZE SELECT&#x3002;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x4E2D;&#x7684; Subplan &#x8282;&#x70B9;&#x4EE3;&#x8868;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x5BF9;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x7684;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x90FD;&#x5904;&#x7406;&#x4E00;&#x6B21;&#xFF0C;&#x56E0;&#x6B64;&#x6697;&#x793A;&#x7740;&#x67E5;&#x8BE2;&#x53EF;&#x80FD;&#x53EF;&#x4EE5;&#x88AB;&#x91CD;&#x5199;&#x548C;&#x4F18;&#x5316;&#x3002;</p>
<h4 id="&#x9AD8;&#x7EA7;&#x8868;&#x8868;&#x8FBE;&#x5F0F;">&#x9AD8;&#x7EA7;&#x201C;&#x8868;&#x201D;&#x8868;&#x8FBE;&#x5F0F;</h4>
<p>HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x80FD;&#x591F;&#x5C06;&#x201C;&#x8868;&#x201D;&#x8868;&#x8FBE;&#x5F0F;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x5BF9;&#x8F93;&#x5165;&#x9AD8;&#x7EA7;&#x201C;&#x8868;&#x201D;&#x51FD;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x4F7F;&#x7528; ORDER BY &#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; SCATTER BY &#x5B50;&#x53E5;&#x5E76;&#x6307;&#x5B9A;&#x4E00;&#x5217;&#x6216;&#x591A;&#x5217;&#xFF08;&#x6216;&#x8868;&#x8FBE;&#x5F0F;&#xFF09;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x91CD;&#x65B0;&#x5206;&#x5E03;&#x3002;&#x8FD9;&#x79CD;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x4E0E;&#x521B;&#x5EFA;&#x8868;&#x7684;&#x65F6;&#x5019;&#xFF0C;DISTRIBUTED BY &#x5B50;&#x53E5;&#x5341;&#x5206;&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x6B64;&#x5904;&#x91CD;&#x65B0;&#x5206;&#x5E03;&#x7684;&#x64CD;&#x4F5C;&#x662F;&#x5728;&#x67E5;&#x8BE2;&#x8FD0;&#x884C;&#x65F6;&#x53D1;&#x751F;&#x7684;&#x3002;</p>
<blockquote>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x6839;&#x636E;&#x6570;&#x636E;&#x7684;&#x5206;&#x5E03;&#xFF0C;HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x5730;&#x5728;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x5E76;&#x884C;&#x7684;&#x8FD0;&#x884C; &#x201C;&#x8868;&#x201D; &#x8868;&#x8FBE;&#x5F0F;&#x3002;</p>
</blockquote>
<h4 id="&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;">&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;</h4>
<p>&#x6570;&#x636E;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x901A;&#x8FC7;&#x63D0;&#x4F9B;&#x6210;&#x5458;&#x503C;&#x7684;&#x65B9;&#x5F0F;&#x6784;&#x9020;&#x6570;&#x7EC4;&#x503C;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#xFF1A;&#x5173;&#x952E;&#x5B57; ARRAY&#xFF0C;&#x5DE6;&#x65B9;&#x62EC;&#x53F7;&#xFF08;[&#xFF09;&#xFF0C;&#x7528;&#x6765;&#x7EC4;&#x6210;&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x503C;&#x7684;&#x901A;&#x8FC7;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x4E00;&#x4E2A;&#x591A;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x548C;&#x4E00;&#x4E2A;&#x53F3;&#x65B9;&#x62EC;&#x53F7;&#xFF08;]&#xFF09;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre class="language-"><code>SELECT ARRAY[1,2,3+4];
  array
---------
 {1,2,7}
</code></pre><p>&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x7684;&#x7C7B;&#x578B;&#x5C31;&#x662F;&#x5176;&#x6210;&#x5458;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x516C;&#x5171;&#x7C7B;&#x578B;&#xFF0C;&#x786E;&#x5B9A;&#x7684;&#x65B9;&#x5F0F;&#x548C; UNION&#xFF0C;CASE &#x6784;&#x9020;&#x5668;&#x89C4;&#x5219;&#x76F8;&#x540C;&#x3002;</p>
<p>&#x901A;&#x8FC7;&#x5D4C;&#x5957;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x503C;&#x3002;&#x5185;&#x90E8;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x5173;&#x952E;&#x5B57; ARRAY&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E0B;&#x9762;&#x4E24;&#x4E2A; SELECT &#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#xFF1A;</p>
<pre class="language-"><code>SELECT ARRAY[ARRAY[1,2], ARRAY[3,4]];
SELECT ARRAY[[1,2],[3,4]];
     array
---------------
 {{1,2},{3,4}}
</code></pre><p>&#x7531;&#x4E8E;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x4E00;&#x5B9A;&#x662F;&#x77E9;&#x5F62;&#xFF08;&#x957F;&#x65B9;&#x5F62;&#xFF09;&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x5C42;&#x7684;&#x5185;&#x90E8;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x4EA7;&#x751F;&#x7684;&#x5B50;&#x6570;&#x7EC4;&#x5FC5;&#x987B;&#x62E5;&#x6709;&#x76F8;&#x540C;&#x7684;&#x7EF4;&#x5EA6;&#x3002;</p>
<p>&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5668;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x5B50;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x4EA7;&#x751F;&#x9002;&#x5F53;&#x7C7B;&#x578B;&#x6570;&#x7EC4;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre class="language-"><code>CREATE TABLE arr(f1 int[], f2 int[]);
INSERT INTO arr VALUES (ARRAY[[1,2],[3,4]],
ARRAY[[5,6],[7,8]]);
SELECT ARRAY[f1, f2, &apos;{{9,10},{11,12}}&apos;::int[]] FROM arr;
                     array
------------------------------------------------
 {{{1,2},{3,4}},{{5,6},{7,8}},{{9,10},{11,12}}}
</code></pre><p>&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x6765;&#x6784;&#x9020;&#x6570;&#x7EC4;&#x3002;&#x8FD9;&#x91CC;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x5173;&#x952E;&#x5B57; ARRAY &#x5F00;&#x5934;&#xFF0C;&#x540E;&#x9762;&#x8DDF;&#x7740;&#x5728;&#x5706;&#x62EC;&#x53F7;&#x4E2D;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre class="language-"><code>SELECT ARRAY(SELECT oid FROM pg_proc WHERE proname LIKE &apos;bytea%&apos;);
                          ?column?
-----------------------------------------------------------
 {2011,1954,1948,1952,1951,1244,1950,2005,1949,1953,2006,31}
</code></pre><p>&#x8FD9;&#x91CC;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x53EA;&#x80FD;&#x8FD4;&#x56DE;&#x5355;&#x5217;&#x3002;&#x751F;&#x6210;&#x7684;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x5BF9;&#x5E94;&#x7740;&#x5B50;&#x67E5;&#x8BE2;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x7684;&#x7C7B;&#x578B;&#x662F;&#x5B50;&#x67E5;&#x8BE2;&#x8F93;&#x51FA;&#x5217;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x901A;&#x8FC7;&#x6570;&#x7EC4;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x5F97;&#x5230;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x4E0B;&#x6807;&#x603B;&#x662F;&#x4ECE; 1 &#x5F00;&#x59CB;&#x7F16;&#x53F7;&#x3002;</p>
<h4 id="&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;">&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;</h4>
<p>&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x5668;&#x662F;&#x4E00;&#x79CD;&#x7528;&#x6765;&#x4ECE;&#x6210;&#x5458;&#x503C;&#x6784;&#x5EFA;&#x8BB0;&#x5F55;&#x503C;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;&#x8BB0;&#x5F55;&#x8868;&#x8FBE;&#x5F0F;&#x4E5F;&#x88AB;&#x79F0;&#x4E3A;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF09;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre class="language-"><code>SELECT ROW(1,2.5,&apos;this is a test&apos;);
</code></pre><p>&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x8FD8;&#x652F;&#x6301;&#x8BED;&#x6CD5; rowvalue.* &#xFF0C;&#x8BE5;&#x8868;&#x8FBE;&#x5F0F;&#x80FD;&#x591F;&#x5C06;&#x8BB0;&#x5F55;&#x503C;&#x7684;&#x6210;&#x5458;&#x5C55;&#x5F00;&#x6210;&#x5217;&#x8868;&#xFF0C;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x7C7B;&#x4F3C;&#x4E8E;&#x5F53;&#x4F60;&#x5728; SELECT &#x76EE;&#x6807;&#x5217;&#x8868;&#x65F6;&#x4F7F;&#x7528;&#x7684; .* &#x8BED;&#x6CD5;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x8868; t &#x6709;&#x4E24;&#x5217; f1 &#x548C; f2&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x662F;&#x7B49;&#x4EF7;&#x7684;&#xFF1A;</p>
<pre class="language-"><code>SELECT ROW(t.*, 42) FROM t;
SELECT ROW(t.f1, t.f2, 42) FROM t;
</code></pre><p>&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x9ED8;&#x8BA4;&#x521B;&#x5EFA;&#x7684;&#x8BB0;&#x5F55;&#x503C;&#x5177;&#x6709;&#x533F;&#x540D;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#x3002;&#x6839;&#x636E;&#x9700;&#x8981;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x8BE5;&#x503C;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8F6C;&#x6362;&#x6210;&#x4E00;&#x4E2A;&#x547D;&#x540D;&#x590D;&#x5408;&#x7C7B;&#x578B;&#xFF1A;&#x6570;&#x636E;&#x8868;&#x7684;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#x6216;&#x8005;&#x662F;&#x901A;&#x8FC7; CREATE TYPE AS &#x547D;&#x4EE4;&#x521B;&#x5EFA;&#x7684;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x5730;&#x63D0;&#x4F9B;&#x7C7B;&#x578B;&#x8F6C;&#x6765;&#x907F;&#x514D;&#x51FA;&#x73B0;&#x6B67;&#x4E49;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre class="language-"><code>CREATE TABLE mytable(f1 int, f2 float, f3 text);
CREATE FUNCTION getf1(mytable) RETURNS int AS &apos;SELECT $1.f1&apos;
LANGUAGE SQL;
</code></pre><p>&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x5168;&#x5C40;&#x53EA;&#x6709;&#x4E00;&#x4E2A; getf1() &#x51FD;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x4E0D;&#x4EA7;&#x751F;&#x4EFB;&#x4F55;&#x7684;&#x6B67;&#x4E49;&#xFF0C;&#x60A8;&#x4E5F;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x7684;&#x5904;&#x7406;&#xFF1A;</p>
<pre class="language-"><code>SELECT getf1(ROW(1,2.5,&apos;this is a test&apos;));
 getf1
-------
     1
CREATE TYPE myrowtype AS (f1 int, f2 text, f3 numeric);
CREATE FUNCTION getf1(myrowtype) RETURNS int AS &apos;SELECT
$1.f1&apos; LANGUAGE SQL;
</code></pre><p>&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x6765;&#x6307;&#x5B9A;&#x5177;&#x4F53;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;&#xFF1A;</p>
<pre class="language-"><code>SELECT getf1(ROW(1,2.5,&apos;this is a test&apos;));
ERROR:  function getf1(record) is not unique
SELECT getf1(ROW(1,2.5,&apos;this is a test&apos;)::mytable);
 getf1
-------
     1
SELECT getf1(CAST(ROW(11,&apos;this is a test&apos;,2.5) AS
myrowtype));
 getf1
-------
    11
</code></pre><p>&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BB0;&#x5F55;&#x6784;&#x9020;&#x5668;&#x6765;&#x6784;&#x5EFA;&#x590D;&#x5408;&#x503C;&#xFF0C;&#x5C06;&#x5176;&#x5B58;&#x50A8;&#x5728;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x7684;&#x5217;&#x4E2D;&#x6216;&#x8005;&#x5C06;&#x5176;&#x4F20;&#x7ED9;&#x63A5;&#x53D7;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#x3002;</p>
<h4 id="&#x8868;&#x8FBE;&#x5F0F;&#x6C42;&#x503C;&#x89C4;&#x5219;">&#x8868;&#x8FBE;&#x5F0F;&#x6C42;&#x503C;&#x89C4;&#x5219;</h4>
<p>&#x81EA;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x662F;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x3002;&#x8FD0;&#x7B97;&#x7B26;&#x6216;&#x8005;&#x51FD;&#x6570;&#x7684;&#x6C42;&#x503C;&#x4E0D;&#x4E00;&#x5B9A;&#x9075;&#x5B88;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x4E5F;&#x4E0D;&#x4FDD;&#x8BC1;&#x6309;&#x7167;&#x4EFB;&#x4F55;&#x7279;&#x5B9A;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x80FD;&#x591F;&#x7531;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x786E;&#x5B9A;&#xFF0C;&#x90A3;&#x4E48;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x7684;&#x5B50;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x88AB;&#x6C42;&#x503C;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;</p>
<pre class="language-"><code>SELECT true OR somefunc();
</code></pre><p>somefunc() &#x51FD;&#x6570;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x7C7B;&#x4F3C;&#x7684;&#x60C5;&#x51B5;&#x5BF9;&#x4E0B;&#x9762;&#x4F8B;&#x5B50;&#x4E5F;&#x9002;&#x7528;&#xFF1A;</p>
<pre class="language-"><code>SELECT somefunc() OR true;
</code></pre><p>&#x8FD9;&#x4E2A;&#x7279;&#x70B9;&#x548C;&#x5927;&#x591A;&#x6570;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E2D;&#xFF0C;&#x5E03;&#x5C14;&#x8FD0;&#x7B97;&#x7B26;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x603B;&#x662F;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x4E0D;&#x592A;&#x4E00;&#x6837;&#x3002;</p>
<p>&#x4E0D;&#x8981;&#x5728;&#x590D;&#x6742;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x4F7F;&#x7528;&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x50CF; WHERE &#x6216;&#x8005; HAVING &#x5B50;&#x53E5;&#x3002;&#x56E0;&#x4E3A;&#x8FD9;&#x91CC;&#x8BED;&#x53E5;&#x5728;&#x751F;&#x6210;&#x67E5;&#x8BE2;&#x8BA1;&#x5212;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x88AB;&#x591A;&#x6B21;&#x5904;&#x7406;&#x3002;&#x5728;&#x4E0A;&#x9762;&#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x5E03;&#x5C14;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;AND/OR/NOT &#x7EC4;&#x5408;&#xFF09;&#x5C06;&#x4F1A;&#x6839;&#x636E;&#x5E03;&#x5C14;&#x4EE3;&#x6570;&#x89C4;&#x5219;&#x91CD;&#x65B0;&#x6392;&#x5217;&#x6210;&#x4E3A;&#x4EFB;&#x4F55;&#x6700;&#x4F18;&#x5408;&#x6CD5;&#x7ED3;&#x6784;&#x3002;</p>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; CASE &#x7ED3;&#x6784;&#x6765;&#x4FDD;&#x8BC1;&#x6C42;&#x503C;&#x987A;&#x5E8F;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x907F;&#x514D;&#x9664;0&#x9519;&#x8BEF;&#x7684;&#x60C5;&#x51B5;&#xFF1A;</p>
<pre class="language-"><code>SELECT ... WHERE x &lt;&gt; 0 AND y/x &gt; 1.5;
</code></pre><p>&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x80FD;&#x591F;&#x4FDD;&#x8BC1;&#x907F;&#x514D;&#x9664;0&#x9519;&#x8BEF;&#xFF1A;</p>
<pre class="language-"><code>SELECT ... WHERE CASE WHEN x &lt;&gt; 0 THEN y/x &gt; 1.5 ELSE false END;
</code></pre><p>&#x8FD9;&#x79CD; CASE &#x7ED3;&#x6784;&#x5C06;&#x4F1A;&#x963B;&#x6B62;&#x67E5;&#x8BE2;&#x4F18;&#x5316;&#xFF0C;&#x56E0;&#x6B64;&#x8BF7;&#x5C0F;&#x5FC3;&#x4F7F;&#x7528;&#x3002;</p>
<h2 id="&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;">&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;</h2>
<p>HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5728; SQL &#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x5BF9;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x8FDB;&#x884C;&#x6C42;&#x503C;&#x3002;&#x4E00;&#x4E9B;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x53EA;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x8BA1;&#x7B97;&#x8282;&#x70B9;&#x8FD0;&#x884C;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x7ED3;&#x679C;&#x51FA;&#x73B0;&#x4E0D;&#x4E00;&#x81F4;&#x72B6;&#x6001;&#x3002;</p>
<h3 id="&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x51FD;&#x6570;">&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x51FD;&#x6570;</h3>
<h5 id="&#x8868;1-hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E2D;&#x7684;&#x51FD;&#x6570;">&#x8868;1 HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E2D;&#x7684;&#x51FD;&#x6570;</h5>
<table>
<thead>
<tr>
<th style="text-align:left">&#x51FD;&#x6570;&#x7C7B;&#x578B;</th>
<th style="text-align:left">HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x652F;&#x6301;&#x60C5;&#x51B5;</th>
<th style="text-align:left">&#x8BF4;&#x660E;</th>
<th style="text-align:left">&#x5907;&#x6CE8;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">IMMUTABLE</td>
<td style="text-align:left">&#x5B8C;&#x5168;&#x652F;&#x6301;</td>
<td style="text-align:left">&#x51FD;&#x6570;&#x53EA;&#x76F4;&#x63A5;&#x4F9D;&#x8D56;&#x53C2;&#x6570;&#x5217;&#x8868;&#x4E2D;&#x63D0;&#x4F9B;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x5BF9;&#x4E8E;&#x76F8;&#x540C;&#x7684;&#x53C2;&#x6570;&#x503C;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4E0D;&#x53D8;&#x3002;</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">STABLE</td>
<td style="text-align:left">&#x5927;&#x90E8;&#x5206;&#x60C5;&#x51B5;&#x652F;&#x6301;</td>
<td style="text-align:left">&#x5728;&#x4E00;&#x6B21;&#x7684;&#x8868;&#x626B;&#x63CF;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5176;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5BF9;&#x76F8;&#x540C;&#x8F93;&#x5165;&#x53C2;&#x6570;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#xFF0C;&#x4F46;&#x662F;&#x7ED3;&#x679C;&#x5728;&#x4E0D;&#x540C; SQL &#x8BED;&#x53E5;&#x4E4B;&#x95F4;&#x4F1A;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x3002;</td>
<td style="text-align:left">&#x5176;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x53D6;&#x51B3;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x6216;&#x53C2;&#x6570;&#x503C;&#x3002;&#x4F8B;&#x5982;&#xFF1A; current_timestamp &#x5BB6;&#x65CF;&#x7684;&#x51FD;&#x6570;&#x90FD;&#x662F; STABLE &#x7684;&#x3002;&#x5728;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x4E2D;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x503C;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">VOLATILE</td>
<td style="text-align:left">&#x9650;&#x5236;&#x6027;&#x7684;&#x4F7F;&#x7528;</td>
<td style="text-align:left">&#x5728;&#x4E00;&#x6B21;&#x8868;&#x626B;&#x63CF;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x51FD;&#x6570;&#x503C;&#x4E5F;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002; &#x4F8B;&#x5982;&#xFF1A;random(), currval(), timeofday()&#x3002;</td>
<td style="text-align:left">&#x5373;&#x4F7F;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x9884;&#x6D4B;&#xFF0C;&#x4EFB;&#x4F55;&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;&#xFF08;side effects&#xFF09;&#x7684;&#x51FD;&#x6570;&#x4ECD;&#x7136;&#x5C5E;&#x4E8E;&#x6613;&#x53D8;&#x51FD;&#x6570;&#x3002;&#x4F8B;&#x5982;&#xFF1A; setval()&#x3002;</td>
</tr>
</tbody>
</table>
<p>HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x8868;&#x5F15;&#x7528;&#xFF08;rangeFuncs&#xFF09;&#x6216;&#x8005;&#x51FD;&#x6570;&#x4F7F;&#x7528; refCursor &#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;</p>
<h3 id="&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;">&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;</h3>
<p>&#x6B64;&#x529F;&#x80FD;&#x6B63;&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x672A;&#x6765;&#x7248;&#x672C;&#x5C06;&#x4F1A;&#x5F00;&#x653E;&#x3002;</p>
<h3 id="&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;">&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;</h3>
<p>&#x4E0B;&#x8868;&#x5217;&#x51FA;&#x4E86; PostgreSQL &#x652F;&#x6301;&#x7684;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x79CD;&#x7C7B;&#x3002;</p>
<h5 id="&#x8868;2-&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;



operatorfunction-category
volatile-&#x51FD;&#x6570;
stable-&#x51FD;&#x6570;
&#x4F7F;&#x7528;&#x9650;&#x5236;




logical-operators





comparison-operators





mathematical-functions-and-operators
random&#x3001;setseed




string-functions-and-operators
all-built-in-conversion-functions
convert&#x3001;pgclientencoding



binary-string-functions-and-operators





bit-string-functions-and-operators





pattern-matching





data-type-formatting-functions

tochar&#x3001;totimestamp



datetime-functions-and-operators
timeofday
age&#x3001;currentdate&#x3001;currenttime&#x3001;currenttimestamp&#x3001;localtime&#x3001;localtimestamp&#x3001;now



geometric-functions-and-operators





network-address-functions-and-operators





sequence-manipulation-functions
currval&#x3001;lastval&#x3001;nextval&#x3001;setval




conditional-expressions





array-functions-and-operators

all-array-functions



aggregate-functions





subquery-expressions





row-and-array-comparisons





set-returning-functions
generateseries




system-information-functions

all-session-information-functions&#x3001;all-access-privilege-inquiry-functions&#x3001;all-schema-visibility-inquiry-functions&#x3001;all-system-catalog-information-functions&#x3001;all-comment-information-functions



system-administration-functions
setconfig&#x3001;pgcancelbackend&#x3001;pgreloadconf&#x3001;pgrotatelogfile&#x3001;pgstartbackup&#x3001;pgstopbackup&#x3001;pgsizepretty&#x3001;pglsdir&#x3001;pgreadfile&#x3001;pgstatfile
currentsetting&#x3001;all-database-object-size-functions
note-the-function-pgcolumnsize-the-value-perhaps-with-toast-compression


xml-functions

xmlaggxml&#x3001;xmlexiststext-xml&#x3001;xmliswellformedtext&#x3001;xmliswellformeddocumenttext&#x3001;xmliswellformedcontenttext&#x3001;xpathtext-xml&#x3001;xpathtext-xml-text&#x3001;xpathexiststext-xml&#x3001;xpathexiststext-xml-text&#x3001;xmltext&#x3001;textxml&#x3001;xmlcommentxml&#x3001;xmlconcat2xml-xml




&#x7A97;&#x53E3;&#x51FD;&#x6570;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x5185;&#x7F6E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x662F;-hashdata-database-&#x5BF9;-postgresql-&#x7684;&#x6269;&#x5C55;&#x3002;-&#x6240;&#x6709;&#x7684;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x90FD;&#x662F;-immutable-&#x7684;&#x3002;&#x8981;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x5173;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;-&#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F;-&#x3002;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




cumedist
double-precision
cumedist-over--partition-by-expr--order-by-expr-
&#x8BA1;&#x7B97;&#x6570;&#x503C;&#x5728;&#x4E00;&#x4E2A;&#x7EC4;&#x6570;&#x503C;&#x7684;&#x7D2F;&#x79EF;&#x5206;&#x5E03;&#x3002;&#x76F8;&#x540C;&#x503C;&#x7684;&#x8BB0;&#x5F55;&#x6C42;&#x503C;&#x7ED3;&#x679C;&#x603B;&#x4F1A;&#x5F97;&#x5230;&#x76F8;&#x540C;&#x7684;&#x7D2F;&#x79EF;&#x5206;&#x5E03;&#x503C;&#x3002;


denserank
bigint
denserank-over--partition-by-expr--order-by-expr
&#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7EC4;&#x4E2D;&#xFF0C;&#x8BB0;&#x5F55;&#x7684;&#x6392;&#x540D;&#xFF0C;&#x6392;&#x540D;&#x503C;&#x8FDE;&#x7EED;&#x5206;&#x914D;&#x3002;&#x8BB0;&#x5F55;-&#x503C;&#x76F8;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5206;&#x914D;&#x76F8;&#x540C;&#x7684;&#x6392;&#x540D;&#x3002;


firstvalueexpr
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
firstvalue-expr--over--partition-by-expr--order-by-expr-rows-range-frameexpr--
&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7684;&#x503C;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x503C;&#x3002;


lagexpr-offset-default
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;&#x7C7B;&#x578B;&#x76F8;&#x540C;
lag-expr--offset---default--over--partition-by-expr--order-by-expr-
&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x4E0D;&#x4F7F;&#x7528;&#x81EA;&#x8FDE;&#x63A5;&#x8BBF;&#x95EE;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x591A;&#x884C;&#x8BB0;&#x5F55;&#x3002;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;-&#x65F6;&#x6BCF;&#x4E2A;&#x8BB0;&#x5F55;&#x6709;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x4F4D;&#x7F6E;&#xFF0C;lag-&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x4ECE;&#x5F53;&#x524D;&#x7269;&#x7406;&#x4F4D;-&#x7F6E;&#x5411;&#x524D;-offset-&#x7684;&#x8BB0;&#x5F55;&#x3002;offset-&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;-1-&#x3002;-default-&#x503C;&#x4F1A;&#x5728;-offset-&#x503C;&#x8D85;&#x51FA;&#x7A97;&#x53E3;&#x8303;&#x56F4;&#x540E;&#x88AB;&#x8FD4;&#x56DE;&#x3002;-&#x5982;&#x679C;-default-&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;-null&#x3002;


lastvalueexpr
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
lastvalueexpr-over--partition-by-expr-order-by-expr-rows-range-frameexpr-
&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7684;&#x503C;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x503C;&#x3002;


leadexpr-offset-default
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
leadexpr-offset-default-over--partition-by-expr-order-by-expr-
&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x4E0D;&#x4F7F;&#x7528;&#x81EA;&#x8FDE;&#x63A5;&#x8BBF;&#x95EE;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x591A;&#x884C;&#x8BB0;&#x5F55;&#x3002;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;-&#x65F6;&#x6BCF;&#x4E2A;&#x8BB0;&#x5F55;&#x6709;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x4F4D;&#x7F6E;&#xFF0C;lag-&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x4ECE;&#x5F53;&#x524D;&#x7269;&#x7406;&#x4F4D;-&#x7F6E;&#x5411;&#x540E;-offset-&#x7684;&#x8BB0;&#x5F55;&#x3002;offset-&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;-1-&#x3002;-default-&#x503C;&#x4F1A;&#x5728;-offset-&#x503C;&#x8D85;&#x51FA;&#x7A97;&#x53E3;&#x8303;&#x56F4;&#x540E;&#x88AB;&#x8FD4;&#x56DE;&#x3002;-&#x5982;&#x679C;-default-&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;-null&#x3002;


ntileexpr
bigint
ntileexpr-over--partition-by-expr-order-by-expr-
&#x5C06;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x6570;&#x636E;&#x96C6;&#x5212;&#x5206;&#x5230;&#x591A;&#x4E2A;&#x6876;&#xFF08;buckets&#xFF09;&#x4E2D;&#xFF0C;&#x6876;&#x7684;&#x6570;&#x91CF;-&#x7531;&#x53C2;&#x6570;&#x51B3;&#x5B9A;&#xFF0C;&#x5E76;&#x4E3A;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x6876;&#x7F16;&#x53F7;&#x3002;


percentrank
double-precision
percentrank--over--partition-by-expr-order-by-expr-
&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x516C;&#x5F0F;&#x8BA1;&#x7B97;&#x6392;&#x540D;&#xFF1A;&#x8BB0;&#x5F55;&#x6392;&#x540D;---1-&#x9664;&#x4EE5;&#x603B;&#x6392;&#x540D;&#x8BB0;&#x5F55;-&#x6570;---1-&#x3002;


rank
bigint
rank--over--partition-by-expr-order-by-expr-
&#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7EC4;&#x4E2D;&#xFF0C;&#x8BB0;&#x5F55;&#x7684;&#x6392;&#x540D;&#x3002;&#x8BB0;&#x5F55;&#x503C;&#x76F8;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;-&#x5206;&#x914D;&#x76F8;&#x540C;&#x7684;&#x6392;&#x540D;&#x3002;&#x5206;&#x914D;&#x5230;&#x76F8;&#x540C;&#x6392;&#x540D;&#x7684;&#x6BCF;&#x7EC4;&#x8BB0;&#x5F55;&#x7684;&#x6570;&#x91CF;&#x5C06;&#x4F1A;-&#x88AB;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x4E0B;&#x4E2A;&#x5206;&#x914D;&#x7684;&#x6392;&#x540D;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6392;&#x540D;&#x7684;&#x5206;&#x914D;&#x53EF;-&#x80FD;&#x4E0D;&#x662F;&#x8FDE;&#x7EED;&#x3002;


rownumber
bigint
rownumber--over--partition-by-expr-order-by-expr-----&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x7F16;&#x53F7;&#x3002;&#xFF08;&#x53EF;&#x4EE5;&#x662F;&#x6574;&#x4E2A;&#x67E5;&#x8BE2;&#x7684;-&#x7ED3;&#x679C;&#x8BB0;&#x5F55;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#xFF09;&#x3002;




&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;
&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x5185;&#x7F6E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x662F;-hashdata-database-&#x5BF9;-postgresql-&#x7684;&#x6269;&#x5C55;&#x3002;-&#x5206;&#x6790;&#x51FD;&#x6570;&#x662F;-immutable-&#x3002;
&#x8868;4-&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




matrixadd-array-array
smallint-int-bigint-float
matrixaddarray1122-array3456
&#x5C06;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x76F8;&#x52A0;&#x3002;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x5FC5;&#x987B;&#x4E00;&#x81F4;&#x3002;


matrixmultiply-array-array
smallintint-bigint-float
matrixmultiply-array200020002-array303030003
&#x5C06;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x76F8;&#x4E58;&#x3002;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x5FC5;&#x987B;&#x4E00;&#x81F4;&#x3002;


matrixmultiply-array-expr
int-float
matrixmultiplyarray111-222-333-2
&#x5C06;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x4E0E;&#x4E00;&#x4E2A;&#x6807;&#x91CF;&#x6570;&#x503C;&#x76F8;&#x4E58;&#x3002;


matrixtranspose-array
&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;-&#x7C7B;&#x578B;&#x76F8;&#x540C;
matrixtransposearray-111-222
&#x5C06;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x8F6C;&#x7F6E;&#x3002;


pinvarray-
smallintint-bigint-float
pinvarray2500-010005
&#x8BA1;&#x7B97;&#x77E9;&#x9635;&#x7684;-moore-penrose-pseudoinverse-&#x3002;


unnestarray
set-of-anyelement
unnestarrayone-row-per-item
&#x5C06;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x8F6C;&#x5316;&#x4E3A;&#x591A;&#x884C;&#x3002;&#x8FD4;&#x56DE;-anyelement-&#x7684;&#x96C6;&#x5408;&#x3002;&#x8BE5;&#x7C7B;&#x578B;&#x662F;-postgresql-&#x4E2D;&#x7684;&#x591A;&#x6001;&#x4F2A;&#x7C7B;&#x578B;&#x3002;



-&#x8868;5-&#x9AD8;&#x7EA7;&#x805A;&#x5408;&#x51FD;&#x6570;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




median-expr
timestamp-timestampz-interval-float
median-expression-exampleselect-departmentid-mediansalary-from-employees-group-by-departmentid
&#x8BA1;&#x7B97;&#x4E2D;&#x4F4D;&#x6570;&#x3002;


percentilecont-expr-within-group-order-by-expr-descasc
timestamp-timestampz-interval-float
percentilecontpercentage-within-group-order-by-expression-exampleselect-departmentidpercentilecont-05-within-group-order-by-salary-desc-mediancont-from-employees-group-by-departmentid
&#x5728;&#x8FDE;&#x7EED;&#x5206;&#x5E03;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x8FD0;&#x7B97;&#x3002;&#x51FD;&#x6570;&#x8F93;&#x5165;-&#x4E00;&#x4E2A;&#x5206;&#x4F4D;&#x6BD4;&#x4F8B;&#x548C;&#x6392;&#x5E8F;&#x4FE1;&#x606F;&#xFF0C;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x662F;&#x8BA1;&#x7B97;&#x6570;&#x636E;&#x7684;&#x7C7B;-&#x578B;&#x3002;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x8FDB;&#x884C;&#x7EBF;&#x6027;&#x63D2;&#x503C;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x3002;-&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D;-null-&#x503C;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;


percentiledisc-expr-within-group-order-by-expr-descasc
timestamp-timestampz-interval-float
percentilediscpercentage-within-group-order-by-expression-exampleselect-departmentidpercentiledisc-05-within-group-order-by-salary-desc-mediancont-from-employees-group-by-departmentid
&#x5728;&#x8FDE;&#x7EED;&#x5206;&#x5E03;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x8FD0;&#x7B97;&#x3002;&#x51FD;&#x6570;&#x8F93;&#x5165;-&#x4E00;&#x4E2A;&#x5206;&#x4F4D;&#x6BD4;&#x4F8B;&#x548C;&#x6392;&#x5E8F;&#x4FE1;&#x606F;&#x3002;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x8F93;&#x5165;&#x96C6;&#x5408;&#x4E2D;-&#x7684;&#x503C;&#x3002;&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D;-null-&#x503C;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;


sumarray
smallint-int-bigint-float
sumarray1234-example-create-table-mymatrix-myvalue-int-insert-into-mymatrix-values--array1234-insert-into-mymatrix-values--array0110-select--summyvalue-from-mymatrix
&#x6267;&#x884C;&#x77E9;&#x9635;&#x52A0;&#x6CD5;&#x8FD0;&#x7B97;&#x3002;&#x5C06;&#x8F93;&#x5165;&#x7684;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;&#x5F53;&#x4F5C;&#x77E9;&#x9635;&#x5904;&#x7406;&#x3002;


pivotsum-label-label-expr
int-bigint-float
pivotsum-arraya1a2-attr-value
&#x900F;&#x89C6;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x901A;&#x8FC7;&#x805A;&#x5408;&#x6C42;&#x6765;&#x6D88;&#x9664;&#x91CD;&#x590D;&#x9879;&#x3002;


mregrcoef-expr-array
float
mregrcoefy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrcoef-&#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7CFB;&#x6570;&#x3002;-mregrcoef-&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x5305;&#x542B;&#x6BCF;&#x4E2A;&#x81EA;&#x53D8;&#x91CF;&#x7684;&#x56DE;&#x5F52;&#x7CFB;&#x6570;&#xFF0C;-&#x56E0;&#x6B64;&#x5927;&#x5C0F;&#x4E0E;&#x8F93;&#x5165;&#x7684;&#x81EA;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#x5927;&#x5C0F;&#x76F8;&#x7B49;&#x3002;


mregrr2-expr-array
float
mregrr2y-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrr2-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-r-&#x5E73;&#x65B9;&#x503C;&#x3002;


mregrpvalues-expr-array
float
mregrpvaluesy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrpvalues-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-p-&#x503C;&#x3002;


mregrtstats-expr-array
float
mregrtstatsy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrtstats-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-t-&#x7EDF;&#x8BA1;&#x91CF;&#x503C;&#x3002;


nbclassify-text-bigint-bigint-biggint
text
nbclassifyclasses-attrcount-classcount-classtotal
&#x4F7F;&#x7528;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x5668;&#x5BF9;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x3002;&#x6B64;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;-&#x7528;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x57FA;&#x7EBF;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x9884;&#x6D4B;&#xFF0C;&#x8FD4;&#x56DE;-&#x8BE5;&#x8BB0;&#x5F55;&#x6700;&#x6709;&#x53EF;&#x80FD;&#x51FA;&#x7EBF;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x3002;


nbprobabilities-text-bigint-bigint-biggint
text
nbprobabilitiesclasses-attrcount-classcount-classtotal
&#x4F7F;&#x7528;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x5668;&#x8BA1;&#x7B97;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x3002;&#x6B64;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x57FA;&#x7EBF;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x9884;&#x6D4B;&#xFF0C;&#x8FD4;&#x56DE;&#x8BE5;&#x8BB0;&#x5F55;&#x51FA;&#x73B0;&#x5728;&#x5404;&#x4E2A;&#x5206;&#x7C7B;&#x4E2D;&#x7684;&#x6982;&#x7387;&#x3002;



&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x793A;&#x4F8B;
&#x672C;&#x7AE0;&#x8282;&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5728;&#x7B80;&#x5316;&#x7684;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x4E0A;&#x5E94;&#x7528;&#x4E0A;&#x9762;&#x90E8;&#x5206;&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x7684;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#x3002;-&#x793A;&#x4F8B;&#x5305;&#x62EC;&#xFF1A;&#x591A;&#x5143;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x548C;&#x4F7F;&#x7528;-nbclassify-&#x7684;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x3002;
&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x793A;&#x4F8B;
&#x4E0B;&#x9762;&#x793A;&#x4F8B;&#x4F7F;&#x7528;&#x56DB;&#x4E2A;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF1A;mregrcoef&#xFF0C;mregrr2&#xFF0C;mregrpvalues-&#x548C;-mregrtstats-&#x5728;&#x793A;&#x4F8B;&#x8868;-regrexample-&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x3002;-&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x56E0;&#x53D8;&#x91CF;&#xFF08;dependent-variable&#xFF09;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x81EA;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#xFF08;independent-variable&#xFF09;&#x3002;
select-mregrcoefy-array1-x1-x2
-------mregrr2y-array1-x1-x2
-------mregrpvaluesy-array1-x1-x2
-------mregrtstatsy-array1-x1-x2
from-regrexample
&#x8868;-regrexample-&#x4E2D;&#x7684;&#x6570;&#x636E;
-id--y---x1--x2
----------------
--1---5---2---1
--2--10---4---2
--3---6---3---1
--4---8---3---1
&#x5728;&#x8868;&#x4E0A;&#x8FD0;&#x884C;&#x524D;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x884C;&#x6570;&#x636E;&#xFF0C;&#x5305;&#x542B;&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x503C;&#xFF1A;
mregrcoef

-7105427357601e-152000000000000030999999999999943
mregrr2

086440677966103
mregrpvalues

099999999999999904543710516569920783653104061216
mregrtstats

-224693341988919e-15115470053837932035355339059327
&#x5982;&#x679C;&#x4E0A;&#x9762;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x672A;&#x5B9A;&#x4E49;&#xFF0C;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;-nan&#xFF08;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x503C;&#xFF09;&#x3002;&#x5F53;&#x6570;&#x636E;&#x91CF;&#x592A;&#x5C11;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x9047;&#x5230;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;

&#x6CE8;&#x610F;-&#x5982;&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x6240;&#x793A;&#xFF0C;&#x53D8;&#x91CF;&#x53C2;&#x6570;&#x4F30;&#x8BA1;&#x503C;&#xFF08;intercept&#xFF09;&#x662F;&#x901A;&#x8FC7;&#x5C06;&#x4E00;&#x4E2A;&#x81EA;&#x53D8;&#x91CF;&#x8BBE;&#x7F6E;&#x4E3A;-1-&#x8BA1;&#x7B97;&#x5F97;&#x5230;&#x7684;&#x3002;

&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;
&#x4F7F;&#x7528;-nbclassify-&#x548C;-nbprobabilities-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6D89;&#x53CA;&#x5230;&#x56DB;&#x6B65;&#x7684;&#x5206;&#x7C7B;&#x8FC7;&#x7A0B;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x4E3A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x7684;&#x8868;&#x548C;&#x89C6;&#x56FE;&#x3002;-&#x4E0B;&#x9762;&#x7684;&#x4E24;&#x4E2A;&#x793A;&#x4F8B;&#x5C55;&#x793A;&#x4E86;&#x8FD9;&#x56DB;&#x4E2A;&#x6B65;&#x9AA4;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x968F;&#x610F;&#x6784;&#x9020;&#x7684;&#x6570;&#x636E;&#x96C6;&#x4E0A;&#x5C55;&#x793A;&#x3002;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;-hashdata-database-&#x6839;&#x636E;&#x5929;&#x6C14;&#x6761;&#x4EF6;&#x4F7F;&#x7528;&#x975E;&#x5E38;&#x53D7;&#x6B22;&#x8FCE;&#x7684;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x793A;&#x4F8B;&#x3002;
&#x603B;&#x89C8;
&#x4E0B;&#x9762;&#x5411;&#x4F60;&#x4ECB;&#x7ECD;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x503C;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x5217;&#x540D;&#xFF09;&#x5C06;&#x4F1A;&#x505A;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x4F7F;&#x7528;&#xFF1A;

&#x5C06;&#x6570;&#x636E;&#x9006;&#x900F;&#x89C6;&#xFF08;unpivot&#xFF09;

&#x5982;&#x679C;&#x6570;&#x636E;&#x662F;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x6240;&#x6709;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x9006;&#x900F;&#x89C6;&#xFF0C;&#x8FDE;&#x540C;&#x6807;&#x8BC6;&#x5B57;&#x6BB5;&#x548C;&#x5206;&#x7C7B;&#x5B57;&#x6BB5;&#x521B;&#x5EFA;&#x89C6;&#x56FE;&#x3002;-&#x5982;&#x679C;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x662F;&#x975E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#xFF0C;&#x8BF7;&#x8DF3;&#x8FC7;&#x6B64;&#x6B65;&#x3002;

&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;

&#x8BAD;&#x7EC3;&#x8868;&#x5C06;&#x6570;&#x636E;&#x89C6;&#x56FE;&#x53D8;&#x5316;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x3002;

&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;

&#x4F7F;&#x7528;-nbclassify&#xFF0C;nbprobabilities-&#x6216;&#x5C06;-nbclassify-&#x548C;-nbprobabilities-&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;
&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;1---&#x5C0F;&#x89C4;&#x6A21;&#x6570;&#x636E;
&#x4F8B;&#x5B50;&#x5C06;&#x4ECE;&#x5305;&#x542B;&#x8303;&#x5F0F;&#x5316;&#x6570;&#x636E;&#x7684;&#x793A;&#x4F8B;&#x8868;-classexample-&#x5F00;&#x59CB;&#xFF0C;&#x901A;&#x8FC7;&#x56DB;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x6B65;&#x9AA4;&#x5B8C;&#x6210;&#xFF1A;
&#x8868;-classexample-&#x4E2D;&#x7684;&#x6570;&#x636E;
-id--class--a1--a2--a3
-----------------------
--1--c1------1---2---3
--2--c1------1---4---3
--3--c2------0---2---2
--4--c1------1---2---1
--5--c2------1---2---2
--6--c2------0---1---3
&#x5C06;&#x6570;&#x636E;&#x9006;&#x900F;&#x89C6;&#xFF08;unpivot&#xFF09;
&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x7528;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x9700;&#x8981;&#x5BF9;-classexample-&#x4E2D;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x9006;&#x900F;&#x89C6;&#x64CD;&#x4F5C;&#x3002;
&#x5728;&#x4E0B;&#x9762;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x7684;&#x9879;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A;&#x65B0;&#x589E;&#x7684;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x7684;&#x503C;&#x4F7F;&#x7528;&#x3002;&#x4E60;&#x60EF;&#x4E0A;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4E0E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x8868;&#x5217;&#x540D;&#x76F8;&#x540C;&#x3002;-&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x66F4;&#x5BB9;&#x6613;&#x7684;&#x4ECE;&#x547D;&#x4EE4;&#x4E2D;&#x627E;&#x5230;&#x8FD9;&#x4E9B;&#x503C;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4EE5;&#x5927;&#x5199;&#x65B9;&#x5F0F;&#x4E66;&#x5199;&#x3002;
create-view-classexampleunpivot-as
select-id-class
--unnestarraya1-a2-a3-as-attr
--unnestarraya1a2a3-as-value
from-classexample
&#x4F7F;&#x7528;&#x540E;&#x9762;&#x7684;-sql-&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x975E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x6570;&#x636E;-select--from-classexampleunpivot&#xFF1A;
-id--class--attr--value
------------------------
--2--c1-----a1--------1
--2--c1-----a2--------2
--2--c1-----a3--------1
--4--c2-----a1--------1
--4--c2-----a2--------2
--4--c2-----a3--------2
--6--c2-----a1--------0
--6--c2-----a2--------1
--6--c2-----a3--------3
--1--c1-----a1--------1
--1--c1-----a2--------2
--1--c1-----a3--------3
--3--c1-----a1--------1
--3--c1-----a2--------4
--3--c1-----a3--------3
--5--c2-----a1--------0
--5--c2-----a2--------2
--5--c2-----a3--------2
18-rows
&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;
&#x4E0B;&#x9762;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x7684;&#x9879;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x805A;&#x5408;&#x7684;&#x9879;&#x3002;&#x901A;&#x8FC7;&#x6570;&#x7EC4;&#x5F62;&#x5F0F;&#x4F20;&#x9012;&#x7ED9;-pivtosum-&#x51FD;&#x6570;&#x7684;&#x9879;&#x5FC5;&#x987B;&#x548C;&#x539F;&#x59CB;&#x6570;&#x636E;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x548C;&#x6570;&#x91CF;&#x76F8;&#x7B26;&#x3002;-&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x5206;&#x7C7B;&#x4E3A;-c1-&#x548C;-c2&#xFF1A;
create-table-classexamplenbtraining-as
select-attr-value
--pivotsumarrayc1-c2-class-1-as-classcount
from---classexampleunpivot
group-by-attr-value
distributed-by-attr
&#x4E0B;&#x9762;&#x662F;&#x8BAD;&#x7EC3;&#x8868;&#x7684;&#x7ED3;&#x679C;&#xFF1A;
-attr--value--classcount
--------------------------
-a3--------1--10
-a3--------3--21
-a1--------1--31
-a1--------0--02
-a3--------2--02
-a2--------2--22
-a2--------4--10
-a2--------1--01
8-rows
&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;
create-view-classexamplenbclassifyfunctions-as
select-attr-value-classcount
--arrayc1-c2-as-classes
--sumclasscount-over-wainteger-as-classtotal
--countdistinct-value-over-wa-as-attrcount
from-classexamplenbtraining
window-wa-as-partition-by-attr
&#x4E0B;&#x9762;&#x662F;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x7684;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#xFF1A;
-attr-value--classcount-classes--classtotal-attrcount
-------------------------------------------------------
-a2-------2--22-------c1c2--33----------------3
-a2-------4--10-------c1c2--33----------------3
-a2-------1--01-------c1c2--33----------------3
-a1-------0--02-------c1c2--33----------------2
-a1-------1--31-------c1c2--33----------------2
-a3-------2--02-------c1c2--33----------------3
-a3-------3--21-------c1c2--33----------------3
-a3-------1--10-------c1c2--33----------------3
8-rows
&#x4F7F;&#x7528;-nbclassify-&#x5BF9;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x4EE5;&#x53CA;&#x4F7F;&#x7528;-nbprobabilities-&#x663E;&#x793A;&#x5F52;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;
&#x5728;&#x51C6;&#x5907;&#x597D;&#x6458;&#x8981;&#x89C6;&#x56FE;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x4E3A;&#x5BF9;&#x65B0;&#x8BB0;&#x5F55;&#x5206;&#x7C7B;&#x7684;&#x57FA;&#x7EBF;&#x4E86;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x901A;&#x8FC7;-nbclassify-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6765;&#x9884;&#x6D4B;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5C5E;&#x4E8E;-c1-&#x8FD8;&#x662F;-c2&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
from-classexamplenbclassifyfunctions
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E0B;&#x9762;&#x7B26;&#x5408;&#x671F;&#x671B;&#x7684;&#x5355;&#x884C;&#x7ED3;&#x679C;&#xFF1A;
class
-------
c2
1-row
&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-nbprobabilities-&#x663E;&#x793A;&#x5404;&#x4E2A;&#x5217;&#x522B;&#x7684;&#x6982;&#x7387;&#x3002;&#x5728;&#x51C6;&#x5907;&#x597D;&#x89C6;&#x56FE;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x4E3A;&#x5BF9;&#x65B0;&#x8BB0;&#x5F55;&#x5206;&#x7C7B;&#x7684;&#x57FA;&#x7EBF;&#x4E86;&#x3002;-&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x901A;&#x8FC7;-nbprobabilities-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6765;&#x9884;&#x6D4B;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5C5E;&#x4E8E;-c1-&#x8FD8;&#x662F;-c2&#x3002;
select-nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-classexamplenbclassifyfunctions
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x60C5;&#x51B5;&#xFF0C;&#x7B2C;&#x4E00;&#x503C;&#x662F;-c1-&#x7684;&#x6982;&#x7387;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x503C;&#x662F;-c2-&#x7684;&#x6982;&#x7387;&#xFF1A;
probability
-------------
-0406
1-row
&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x540C;&#x65F6;&#x663E;&#x793A;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x548C;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-classexamplenbclassify
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x5982;&#x4E0B;&#x7ED3;&#x679C;&#xFF1A;
-class--probability
--------------------
----c2--0406
-1-row
&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x76F8;&#x6BD4;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x66F4;&#x52A0;&#x5168;&#x9762;&#xFF0C;&#x56E0;&#x6B64;&#x9884;&#x6D4B;&#x6548;&#x679C;&#x66F4;&#x597D;&#x3002;-&#x5F53;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;-nbclassify-&#x548C;-nbprobabilities-&#x7684;&#x5F52;&#x7C7B;&#x51C6;&#x786E;&#x5EA6;&#x5C06;&#x4F1A;&#x663E;&#x8457;&#x63D0;&#x9AD8;&#x3002;
&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;2-&#x2013;-&#x5929;&#x6C14;&#x548C;&#x6237;&#x5916;&#x8FD0;&#x52A8;
&#x5728;&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x5C06;&#x4F1A;&#x6839;&#x636E;&#x5929;&#x60C5;&#x51B5;&#x6765;&#x8BA1;&#x7B97;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x9AD8;&#x5C14;&#x592B;&#x7403;&#x6216;&#x8005;&#x7F51;&#x7403;&#x3002;-&#x8868;-weatherexample-&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E9B;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x3002;&#x8868;&#x7684;&#x6807;&#x793A;&#x5B57;&#x6BB5;&#x662F;-day&#x3002;-&#x7528;&#x4E8E;&#x5206;&#x7C7B;&#x7684;&#x5B57;&#x6BB5;-play-&#x5305;&#x542B;&#x4E24;&#x4E2A;&#x503C;&#xFF1A;yes-&#x6216;-no&#x3002;&#x5929;&#x6C14;&#x5305;&#x542B;&#x56DB;&#x79CD;&#x5C5E;&#x6027;&#xFF1A;&#x72B6;&#x51B5;&#xFF0C;&#x6E29;&#x5EA6;&#xFF0C;&#x6E7F;&#x5EA6;&#xFF0C;&#x98CE;&#x529B;&#x3002;-&#x6570;&#x636E;&#x6309;&#x7167;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x3002;
-day--play--outlook---temperature--humidity--wind
----------------------------------------------------
-2----no----sunny-----hot----------high------strong
-4----yes---rain------mild---------high------weak
-6----no----rain------cool---------normal----strong
-8----no----sunny-----mild---------high------weak
10----yes---rain------mild---------normal----weak
12----yes---overcast--mild---------high------strong
14----no----rain------mild---------high------strong
-1----no----sunny-----hot----------high------weak
-3----yes---overcast--hot----------high------weak
-5----yes---rain------cool---------normal----weak
-7----yes---overcast--cool---------normal----strong
-9----yes---sunny-----cool---------normal----weak
11----yes---sunny-----mild---------normal----strong
13----yes---overcast--hot----------normal----weak
-14-rows
&#x7531;&#x4E8E;&#x8FD9;&#x91CC;&#x7684;&#x6570;&#x636E;&#x662F;&#x6309;&#x7167;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x56DB;&#x4E2A;&#x6B65;&#x9AA4;&#x90FD;&#x662F;&#x9700;&#x8981;&#x7684;&#x3002;
&#x9006;&#x900F;&#x89C6;&#x5316;&#x6570;&#x636E;
create-view-weatherexampleunpivot-as
select-day-play
--unnestarrayoutlooktemperature-humiditywind-as-attr
--unnestarrayoutlooktemperaturehumiditywind-as-value
from-weatherexample
&#x8BF7;&#x6CE8;&#x610F;&#x4E0A;&#x9762;&#x5355;&#x5F15;&#x53F7;&#x7684;&#x4F7F;&#x7528;&#x3002;
&#x8BED;&#x53E5;-select--from-weatherexampleunpivot-&#x5C06;&#x4F1A;&#x663E;&#x793A;&#x7ECF;&#x8FC7;&#x9006;&#x900F;&#x89C6;&#x5316;&#x540E;&#x7684;&#x975E;&#x8303;&#x5F0F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6570;&#x636E;&#x4E00;&#x5171;-56-&#x884C;&#x3002;
-day--play--attr---------value
----------------------------------
---2--no----outlook------sunny
---2--no----temperature--hot
---2--no----humidity-----high
---2--no----wind---------strong
---4--yes---outlook------rain
---4--yes---temperature--mild
---4--yes---humidity-----high
---4--yes---wind---------weak
---6--no----outlook------rain
---6--no----temperature--cool
---6--no----humidity-----normal
---6--no----wind---------strong
---8--no----outlook------sunny
---8--no----temperature--mild
---8--no----humidity-----high
---8--no----wind---------weak
--10--yes---outlook------rain
--10--yes---temperature--mild
--10--yes---humidity-----normal
--10--yes---wind---------weak
--12--yes---outlook------overcast
--12--yes---temperature--mild
--12--yes---humidity-----high
--12--yes---wind---------strong
--14--no----outlook------rain
--14--no----temperature--mild
--14--no----humidity-----high
--14--no----wind---------strong
---1--no----outlook------sunny
---1--no----temperature--hot
---1--no----humidity-----high
---1--no----wind---------weak
---3--yes---outlook------overcast
---3--yes---temperature--hot
---3--yes---humidity-----high
---3--yes---wind---------weak
---5--yes---outlook------rain
---5--yes---temperature--cool
---5--yes---humidity-----normal
---5--yes---wind---------weak
---7--yes---outlook------overcast
---7--yes---temperature--cool
---7--yes---humidity-----normal
---7--yes---wind---------strong
---9--yes---outlook------sunny
---9--yes---temperature--cool
---9--yes---humidity-----normal
---9--yes---wind---------weak
--11--yes---outlook------sunny
--11--yes---temperature--mild
--11--yes---humidity-----normal
--11--yes---wind---------strong
--13--yes---outlook------overcast
--13--yes---temperature--hot
--13--yes---humidity-----normal
--13--yes---wind---------weak
--56-rows
&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;
create-table-weatherexamplenbtraining-as
select-attr-value-pivotsumarrayyesno-play-1-as-classcount
from-weatherexampleunpivot
group-by-attr-value
distributed-by-attr
&#x8BED;&#x53E5;-select--from-weatherexamplenbtraining-&#x663E;&#x793A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x4E00;&#x5171;-10-&#x884C;&#xFF1A;
-attr---------value-----classcount
------------------------------------
outlook-------rain------32
humidity------high------34
outlook-------overcast--40
humidity------normal----61
outlook-------sunny-----23
wind----------strong----33
temperature---hot-------22
temperature---cool------31
temperature---mild------42
wind----------weak------62
10-rows
&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;
create-view-weatherexamplenbclassifyfunctions-as
select-attr-value-classcount
--arrayyesno-as-classes
--sumclasscount-over-wainteger-as-classtotal
--countdistinct-value-over-wa-as-attrcount
from-weatherexamplenbtraining
window-wa-as-partition-by-attr
&#x8BED;&#x53E5;-select--from-weatherexamplenbclassifyfunction-&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;-10-&#x884C;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x3002;
attr----------value---classcount-classes--classtotal-attrcount
-----------------------------------------------------------------
temperature--mild-----42-------yesno-95---------------3
temperature--cool-----31-------yesno-95---------------3
temperature--hot------22-------yesno-95---------------3
wind---------weak-----62-------yesno-95---------------2
wind---------strong---33-------yesno-95---------------2
humidity-----high-----34-------yesno-95---------------2
humidity-----normal---61-------yesno-95---------------2
outlook------sunny----23-------yesno-95---------------3
outlook------overcast-40-------yesno-95---------------3
outlook------rain-----32-------yesno-95---------------3
10-rows
&#x4F7F;&#x7528;-nbclassify&#xFF0C;nbprobabilities-&#x6216;&#x5C06;-nbclassify-&#x548C;-nbprobabilities-&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;
&#x9996;&#x5148;&#x8981;&#x51B3;&#x5B9A;&#x5BF9;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x4F8B;&#x5982;&#x5BF9;&#x4E0B;&#x9762;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;
temperature--wind--humidity--outlook
-------------------------------------
cool---------weak--high------overcast
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x3002;&#x7ED3;&#x679C;&#x5C06;&#x4F1A;&#x7ED9;&#x51FA;&#x5224;&#x65AD;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;-yes-&#x548C;-no-&#x7684;&#x6982;&#x7387;&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-weatherexamplenbclassifyfunctions
where
--attr--temperature-and-value--cool-or
--attr--wind--------and-value--weak-or
--attr--humidity----and-value--high-or
--attr--outlook-----and-value--overcast
&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF1A;
class----------------probability
----------------------------------------------
-yes----08581033539207260141896646079274
1-row
&#x8981;&#x5BF9;&#x4E00;&#x7EC4;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x4ED6;&#x4EEC;&#x5B58;&#x50A8;&#x5230;&#x8868;&#x4E2D;&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x4F8B;&#x5982;&#x4E0B;&#x9762;&#x7684;&#x8868;-t1-&#x5305;&#x542B;&#x4E86;&#x8981;&#x5206;&#x7C7B;&#x7684;&#x8BB0;&#x5F55;&#xFF1A;
-day--outlook---temperature--humidity---wind
----------------------------------------------
--15--sunny-----mild---------high------strong
--16--rain------cool---------normal----strong
--17--overcast--hot----------normal----weak
--18--rain------hot----------high------weak
4-rows
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7528;&#x6765;&#x5BF9;&#x6574;&#x5F20;&#x8868;&#x8BA1;&#x7B97;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x3002;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x5BF9;&#x8868;&#x4E2D;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x5224;&#x65AD;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;-yes-&#x548C;-no-&#x7684;&#x6982;&#x7387;&#x3002;-&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;-nbclassify-&#x548C;-nbprobabilities-&#x4E24;&#x4E2A;&#x805A;&#x5408;&#x51FD;&#x6570;&#x90FD;&#x53C2;&#x4E0E;&#x4E86;&#x8FD0;&#x7B97;&#x3002;
select-t1day
-------t1temperature-t1wind-t1humidity-t1outlook
-------nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-t1-weatherexamplenbclassifyfunctions
where
--attr--temperature-and-value--t1temperature-or
--attr--wind--------and-value--t1wind-or
--attr--humidity----and-value--t1humidity-or
--attr--outlook-----and-value--t1outlook
group-by-t1day-t1temperature-t1wind-t1humidity-t1outlook
&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x56DB;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x5206;&#x522B;&#x5BF9;&#x5E94;-t1-&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x3002;
day-temp-wind----humidity--outlook---class--probability
---------------------------------------------------------
15--mild-strong--high------sunny-----no-----02446941323345820755305867665418
16--cool-strong--normal----rain------yes----07514719978091190248528002190881
18--hot--weak----high------rain------no-----04463875388901310553612461109869
17--hot--weak----normal----overcast--yes----0929719264278800702807357212004
4-rows
"><h5 id="tab2"> &#x8868;2 &#x5185;&#x7F6E;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;</h5>
<table>
<thead>
<tr>
<th style="text-align:left">Operator/Function Category</th>
<th style="text-align:left">Volatile &#x51FD;&#x6570;</th>
<th style="text-align:left">STABLE &#x51FD;&#x6570;</th>
<th style="text-align:left">&#x4F7F;&#x7528;&#x9650;&#x5236;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Logical Operators</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Comparison Operators</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Mathematical Functions and Operators</td>
<td style="text-align:left">random&#x3001;setseed</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">String Functions and Operators</td>
<td style="text-align:left">All built-in conversion functions</td>
<td style="text-align:left">convert&#x3001;pg_client_encoding</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Binary String Functions and Operators</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Bit String Functions and Operators</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Pattern Matching</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Data Type Formatting Functions</td>
<td style="text-align:left"></td>
<td style="text-align:left">to_char&#x3001;to_timestamp</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Date/Time Functions and Operators</td>
<td style="text-align:left">timeofday</td>
<td style="text-align:left">age&#x3001;current_date&#x3001;current_time&#x3001;current_timestamp&#x3001;localtime&#x3001;localtimestamp&#x3001;now</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Geometric Functions and Operators</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Network Address Functions and Operators</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Sequence Manipulation Functions</td>
<td style="text-align:left">currval&#x3001;lastval&#x3001;nextval&#x3001;setval</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Conditional Expressions</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Array Functions and Operators</td>
<td style="text-align:left"></td>
<td style="text-align:left">All array functions</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Aggregate Functions</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Subquery Expressions</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Row and Array Comparisons</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Set Returning Functions</td>
<td style="text-align:left">generate_series</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">System Information Functions</td>
<td style="text-align:left"></td>
<td style="text-align:left">All session information functions&#x3001;All access privilege inquiry functions&#x3001;All schema visibility inquiry functions&#x3001;All system catalog information functions&#x3001;All comment information functions</td>
<td style="text-align:left">\</td>
</tr>
<tr>
<td style="text-align:left">System Administration Functions</td>
<td style="text-align:left">set_config&#x3001;pg_cancel_backend&#x3001;pg_reload_conf&#x3001;pg_rotate_logfile&#x3001;pg_start_backup&#x3001;pg_stop_backup&#x3001;pg_size_pretty&#x3001;pg_ls_dir&#x3001;pg_read_file&#x3001;pg_stat_file</td>
<td style="text-align:left">current_setting&#x3001;All database object size functions</td>
<td style="text-align:left">Note: The function pg_column_size the value, perhaps with TOAST compression.</td>
</tr>
<tr>
<td style="text-align:left">XML Functions</td>
<td style="text-align:left"></td>
<td style="text-align:left">xmlagg(xml)&#x3001;xmlexists(text, xml)&#x3001;xml_is_well_formed(text)&#x3001;xml_is_well_formed_document(text)&#x3001;xml_is_well_formed_content(text)&#x3001;xpath(text, xml)&#x3001;xpath(text, xml, text[])&#x3001;xpath_exists(text, xml)&#x3001;xpath_exists(text, xml, text[])&#x3001;xml(text)&#x3001;text(xml)&#x3001;xmlcomment(xml)&#x3001;xmlconcat2(xml, xml)</td>
<td style="text-align:left">\</td>
</tr>
</tbody>
</table>
<h3 id="&#x7A97;&#x53E3;&#x51FD;&#x6570;">&#x7A97;&#x53E3;&#x51FD;&#x6570;</h3>
<p>&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x5185;&#x7F6E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x662F; HashData Database &#x5BF9; PostgreSQL &#x7684;&#x6269;&#x5C55;&#x3002; &#x6240;&#x6709;&#x7684;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x90FD;&#x662F; immutable &#x7684;&#x3002;&#x8981;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x5173;&#x4E8E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x8003; &#x7A97;&#x53E3;&#x8868;&#x8FBE;&#x5F0F; &#x3002;</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x51FD;&#x6570;</th>
<th style="text-align:left">&#x8FD4;&#x56DE;&#x7C7B;&#x578B;</th>
<th style="text-align:left">&#x8BED;&#x6CD5;</th>
<th style="text-align:left">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">cume_dist()</td>
<td style="text-align:left">double precision</td>
<td style="text-align:left">CUME_DIST() OVER ( [PARTITION BY expr ] ORDER BY expr )</td>
<td style="text-align:left">&#x8BA1;&#x7B97;&#x6570;&#x503C;&#x5728;&#x4E00;&#x4E2A;&#x7EC4;&#x6570;&#x503C;&#x7684;&#x7D2F;&#x79EF;&#x5206;&#x5E03;&#x3002;&#x76F8;&#x540C;&#x503C;&#x7684;&#x8BB0;&#x5F55;&#x6C42;&#x503C;&#x7ED3;&#x679C;&#x603B;&#x4F1A;&#x5F97;&#x5230;&#x76F8;&#x540C;&#x7684;&#x7D2F;&#x79EF;&#x5206;&#x5E03;&#x503C;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">dense_rank()</td>
<td style="text-align:left">bigint</td>
<td style="text-align:left">DENSE_RANK() OVER ( [PARTITION BY expr ] ORDER BY expr)</td>
<td style="text-align:left">&#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7EC4;&#x4E2D;&#xFF0C;&#x8BB0;&#x5F55;&#x7684;&#x6392;&#x540D;&#xFF0C;&#x6392;&#x540D;&#x503C;&#x8FDE;&#x7EED;&#x5206;&#x914D;&#x3002;&#x8BB0;&#x5F55; &#x503C;&#x76F8;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5206;&#x914D;&#x76F8;&#x540C;&#x7684;&#x6392;&#x540D;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">first_value(expr)</td>
<td style="text-align:left">&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F; &#x7C7B;&#x578B;&#x76F8;&#x540C;</td>
<td style="text-align:left"><code>FIRST_VALUE( expr ) OVER ( [PARTITION BY expr ] ORDER BY expr [ROWS RANGE frame_expr ] )</code></td>
<td style="text-align:left">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7684;&#x503C;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x503C;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">lag(expr [,offset] [,default])</td>
<td style="text-align:left">&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F;&#x7C7B;&#x578B;&#x76F8;&#x540C;</td>
<td style="text-align:left"><code>LAG( expr [, offset ] [, default ]) OVER ( [PARTITION BY expr ] ORDER BY expr )</code></td>
<td style="text-align:left">&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x4E0D;&#x4F7F;&#x7528;&#x81EA;&#x8FDE;&#x63A5;&#x8BBF;&#x95EE;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x591A;&#x884C;&#x8BB0;&#x5F55;&#x3002;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE; &#x65F6;&#x6BCF;&#x4E2A;&#x8BB0;&#x5F55;&#x6709;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x4F4D;&#x7F6E;&#xFF0C;LAG &#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x4ECE;&#x5F53;&#x524D;&#x7269;&#x7406;&#x4F4D; &#x7F6E;&#x5411;&#x524D; offset &#x7684;&#x8BB0;&#x5F55;&#x3002;offset &#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F; 1 &#x3002; default &#x503C;&#x4F1A;&#x5728; offset &#x503C;&#x8D85;&#x51FA;&#x7A97;&#x53E3;&#x8303;&#x56F4;&#x540E;&#x88AB;&#x8FD4;&#x56DE;&#x3002; &#x5982;&#x679C; default &#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE; NULL&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">last_value(expr)</td>
<td style="text-align:left">&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F; &#x7C7B;&#x578B;&#x76F8;&#x540C;</td>
<td style="text-align:left"><code>LAST_VALUE(expr) OVER ( [PARTITION BY expr] ORDER BY expr [ROWS RANGE frame_expr] )</code></td>
<td style="text-align:left">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7684;&#x503C;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x503C;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">lead(expr [,offset] [,default])</td>
<td style="text-align:left">&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F; &#x7C7B;&#x578B;&#x76F8;&#x540C;</td>
<td style="text-align:left"><code>LEAD(expr [,offset] [,default]) OVER ( [PARTITION BY expr] ORDER BY expr )</code></td>
<td style="text-align:left">&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x4E0D;&#x4F7F;&#x7528;&#x81EA;&#x8FDE;&#x63A5;&#x8BBF;&#x95EE;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x591A;&#x884C;&#x8BB0;&#x5F55;&#x3002;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE; &#x65F6;&#x6BCF;&#x4E2A;&#x8BB0;&#x5F55;&#x6709;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x4F4D;&#x7F6E;&#xFF0C;LAG &#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x4ECE;&#x5F53;&#x524D;&#x7269;&#x7406;&#x4F4D; &#x7F6E;&#x5411;&#x540E; offset &#x7684;&#x8BB0;&#x5F55;&#x3002;offset &#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F; 1 &#x3002; default &#x503C;&#x4F1A;&#x5728; offset &#x503C;&#x8D85;&#x51FA;&#x7A97;&#x53E3;&#x8303;&#x56F4;&#x540E;&#x88AB;&#x8FD4;&#x56DE;&#x3002; &#x5982;&#x679C; default &#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE; NULL&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">ntile(expr)</td>
<td style="text-align:left">bigint</td>
<td style="text-align:left">NTILE(expr) OVER ( [PARTITION BY expr] ORDER BY expr )</td>
<td style="text-align:left">&#x5C06;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x6570;&#x636E;&#x96C6;&#x5212;&#x5206;&#x5230;&#x591A;&#x4E2A;&#x6876;&#xFF08;buckets&#xFF09;&#x4E2D;&#xFF0C;&#x6876;&#x7684;&#x6570;&#x91CF; &#x7531;&#x53C2;&#x6570;&#x51B3;&#x5B9A;&#xFF0C;&#x5E76;&#x4E3A;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x6876;&#x7F16;&#x53F7;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">percent_rank()</td>
<td style="text-align:left">double precision</td>
<td style="text-align:left">PERCENT_RANK () OVER ( [PARTITION BY expr] ORDER BY expr )</td>
<td style="text-align:left">&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x516C;&#x5F0F;&#x8BA1;&#x7B97;&#x6392;&#x540D;&#xFF1A;&#x8BB0;&#x5F55;&#x6392;&#x540D; - 1 &#x9664;&#x4EE5;&#x603B;&#x6392;&#x540D;&#x8BB0;&#x5F55; &#x6570; - 1 &#x3002;</td>
</tr>
<tr>
<td style="text-align:left">rank()</td>
<td style="text-align:left">bigint</td>
<td style="text-align:left">RANK () OVER ( [PARTITION BY expr] ORDER BY expr )</td>
<td style="text-align:left">&#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x7EC4;&#x4E2D;&#xFF0C;&#x8BB0;&#x5F55;&#x7684;&#x6392;&#x540D;&#x3002;&#x8BB0;&#x5F55;&#x503C;&#x76F8;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C; &#x5206;&#x914D;&#x76F8;&#x540C;&#x7684;&#x6392;&#x540D;&#x3002;&#x5206;&#x914D;&#x5230;&#x76F8;&#x540C;&#x6392;&#x540D;&#x7684;&#x6BCF;&#x7EC4;&#x8BB0;&#x5F55;&#x7684;&#x6570;&#x91CF;&#x5C06;&#x4F1A; &#x88AB;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x4E0B;&#x4E2A;&#x5206;&#x914D;&#x7684;&#x6392;&#x540D;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6392;&#x540D;&#x7684;&#x5206;&#x914D;&#x53EF; &#x80FD;&#x4E0D;&#x662F;&#x8FDE;&#x7EED;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">row_number()</td>
<td style="text-align:left">bigint</td>
<td style="text-align:left">ROW_NUMBER () OVER ( [PARTITION BY expr] ORDER BY expr )    &#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x7F16;&#x53F7;&#x3002;&#xFF08;&#x53EF;&#x4EE5;&#x662F;&#x6574;&#x4E2A;&#x67E5;&#x8BE2;&#x7684; &#x7ED3;&#x679C;&#x8BB0;&#x5F55;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x7A97;&#x53E3;&#x5206;&#x533A;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#xFF09;&#x3002;</td>
<td style="text-align:left">\</td>
</tr>
</tbody>
</table>
<h3 id="&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;">&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;</h3>
<p>&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x5185;&#x7F6E;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x662F; HashData Database &#x5BF9; PostgreSQL &#x7684;&#x6269;&#x5C55;&#x3002; &#x5206;&#x6790;&#x51FD;&#x6570;&#x662F; immutable &#x3002;</p>
<h5 id="&#x8868;4-&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;">&#x8868;4 &#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;</h5>
<table>
<thead>
<tr>
<th style="text-align:left">&#x51FD;&#x6570;</th>
<th style="text-align:left">&#x8FD4;&#x56DE;&#x7C7B;&#x578B;</th>
<th style="text-align:left">&#x8BED;&#x6CD5;</th>
<th style="text-align:left">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">matrix_add( array[], array[])</td>
<td style="text-align:left">smallint[], int[], bigint[], float[]</td>
<td style="text-align:left">matrix_add(array[[1,1],[2,2]], array[[3,4],[5,6]])</td>
<td style="text-align:left">&#x5C06;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x76F8;&#x52A0;&#x3002;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x5FC5;&#x987B;&#x4E00;&#x81F4;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">matrix_multiply( array[], array[])</td>
<td style="text-align:left">smallint[]int[], bigint[], float[]</td>
<td style="text-align:left">matrix_multiply( array[[2,0,0],[0,2,0],[0,0,2]], array[[3,0,3],[0,3,0],[0,0,3]])</td>
<td style="text-align:left">&#x5C06;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x76F8;&#x4E58;&#x3002;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x5FC5;&#x987B;&#x4E00;&#x81F4;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">matrix_multiply( array[], expr)</td>
<td style="text-align:left">int[], float[]</td>
<td style="text-align:left">matrix_multiply(array[[1,1,1], [2,2,2], [3,3,3]], 2)</td>
<td style="text-align:left">&#x5C06;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x4E0E;&#x4E00;&#x4E2A;&#x6807;&#x91CF;&#x6570;&#x503C;&#x76F8;&#x4E58;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">matrix_transpose( array[])</td>
<td style="text-align:left">&#x4E0E;&#x8F93;&#x5165;&#x8868;&#x8FBE;&#x5F0F; &#x7C7B;&#x578B;&#x76F8;&#x540C;</td>
<td style="text-align:left">matrix_transpose(array [[1,1,1], [2,2,2]])</td>
<td style="text-align:left">&#x5C06;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x8F6C;&#x7F6E;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">pinv(array [])</td>
<td style="text-align:left">smallint[]int[], bigint[], float[]</td>
<td style="text-align:left">pinv(array[[2.5,0,0], [0,1,0],[0,0,.5]])</td>
<td style="text-align:left">&#x8BA1;&#x7B97;&#x77E9;&#x9635;&#x7684; Moore-Penrose pseudoinverse &#x3002;</td>
</tr>
<tr>
<td style="text-align:left">unnest(array[])</td>
<td style="text-align:left">set of anyelement</td>
<td style="text-align:left">unnest(array[&#x2018;one&#x2019;, &#x2018;row&#x2019;, &#x2018;per&#x2019;, &#x2018;item&#x2019;])</td>
<td style="text-align:left">&#x5C06;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x8F6C;&#x5316;&#x4E3A;&#x591A;&#x884C;&#x3002;&#x8FD4;&#x56DE; anyelement &#x7684;&#x96C6;&#x5408;&#x3002;&#x8BE5;&#x7C7B;&#x578B;&#x662F; PostgreSQL &#x4E2D;&#x7684;&#x591A;&#x6001;&#x4F2A;&#x7C7B;&#x578B;&#x3002;</td>
</tr>
</tbody>
</table>
<h5 id="&#x8868;5-&#x9AD8;&#x7EA7;&#x805A;&#x5408;&#x51FD;&#x6570;



&#x51FD;&#x6570;
&#x8FD4;&#x56DE;&#x7C7B;&#x578B;
&#x8BED;&#x6CD5;
&#x8BF4;&#x660E;




median-expr
timestamp-timestampz-interval-float
median-expression-exampleselect-departmentid-mediansalary-from-employees-group-by-departmentid
&#x8BA1;&#x7B97;&#x4E2D;&#x4F4D;&#x6570;&#x3002;


percentilecont-expr-within-group-order-by-expr-descasc
timestamp-timestampz-interval-float
percentilecontpercentage-within-group-order-by-expression-exampleselect-departmentidpercentilecont-05-within-group-order-by-salary-desc-mediancont-from-employees-group-by-departmentid
&#x5728;&#x8FDE;&#x7EED;&#x5206;&#x5E03;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x8FD0;&#x7B97;&#x3002;&#x51FD;&#x6570;&#x8F93;&#x5165;-&#x4E00;&#x4E2A;&#x5206;&#x4F4D;&#x6BD4;&#x4F8B;&#x548C;&#x6392;&#x5E8F;&#x4FE1;&#x606F;&#xFF0C;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x662F;&#x8BA1;&#x7B97;&#x6570;&#x636E;&#x7684;&#x7C7B;-&#x578B;&#x3002;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x8FDB;&#x884C;&#x7EBF;&#x6027;&#x63D2;&#x503C;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x3002;-&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D;-null-&#x503C;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;


percentiledisc-expr-within-group-order-by-expr-descasc
timestamp-timestampz-interval-float
percentilediscpercentage-within-group-order-by-expression-exampleselect-departmentidpercentiledisc-05-within-group-order-by-salary-desc-mediancont-from-employees-group-by-departmentid
&#x5728;&#x8FDE;&#x7EED;&#x5206;&#x5E03;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x8FD0;&#x7B97;&#x3002;&#x51FD;&#x6570;&#x8F93;&#x5165;-&#x4E00;&#x4E2A;&#x5206;&#x4F4D;&#x6BD4;&#x4F8B;&#x548C;&#x6392;&#x5E8F;&#x4FE1;&#x606F;&#x3002;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x8F93;&#x5165;&#x96C6;&#x5408;&#x4E2D;-&#x7684;&#x503C;&#x3002;&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D;-null-&#x503C;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;


sumarray
smallint-int-bigint-float
sumarray1234-example-create-table-mymatrix-myvalue-int-insert-into-mymatrix-values--array1234-insert-into-mymatrix-values--array0110-select--summyvalue-from-mymatrix
&#x6267;&#x884C;&#x77E9;&#x9635;&#x52A0;&#x6CD5;&#x8FD0;&#x7B97;&#x3002;&#x5C06;&#x8F93;&#x5165;&#x7684;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;&#x5F53;&#x4F5C;&#x77E9;&#x9635;&#x5904;&#x7406;&#x3002;


pivotsum-label-label-expr
int-bigint-float
pivotsum-arraya1a2-attr-value
&#x900F;&#x89C6;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x901A;&#x8FC7;&#x805A;&#x5408;&#x6C42;&#x6765;&#x6D88;&#x9664;&#x91CD;&#x590D;&#x9879;&#x3002;


mregrcoef-expr-array
float
mregrcoefy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrcoef-&#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7CFB;&#x6570;&#x3002;-mregrcoef-&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x5305;&#x542B;&#x6BCF;&#x4E2A;&#x81EA;&#x53D8;&#x91CF;&#x7684;&#x56DE;&#x5F52;&#x7CFB;&#x6570;&#xFF0C;-&#x56E0;&#x6B64;&#x5927;&#x5C0F;&#x4E0E;&#x8F93;&#x5165;&#x7684;&#x81EA;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#x5927;&#x5C0F;&#x76F8;&#x7B49;&#x3002;


mregrr2-expr-array
float
mregrr2y-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrr2-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-r-&#x5E73;&#x65B9;&#x503C;&#x3002;


mregrpvalues-expr-array
float
mregrpvaluesy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrpvalues-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-p-&#x503C;&#x3002;


mregrtstats-expr-array
float
mregrtstatsy-array1-x1-x2
&#x56DB;&#x4E2A;-mregr-&#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF;-&#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregrtstats-&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684;-t-&#x7EDF;&#x8BA1;&#x91CF;&#x503C;&#x3002;


nbclassify-text-bigint-bigint-biggint
text
nbclassifyclasses-attrcount-classcount-classtotal
&#x4F7F;&#x7528;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x5668;&#x5BF9;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x3002;&#x6B64;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;-&#x7528;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x57FA;&#x7EBF;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x9884;&#x6D4B;&#xFF0C;&#x8FD4;&#x56DE;-&#x8BE5;&#x8BB0;&#x5F55;&#x6700;&#x6709;&#x53EF;&#x80FD;&#x51FA;&#x7EBF;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x3002;


nbprobabilities-text-bigint-bigint-biggint
text
nbprobabilitiesclasses-attrcount-classcount-classtotal
&#x4F7F;&#x7528;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x5668;&#x8BA1;&#x7B97;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x3002;&#x6B64;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x57FA;&#x7EBF;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x9884;&#x6D4B;&#xFF0C;&#x8FD4;&#x56DE;&#x8BE5;&#x8BB0;&#x5F55;&#x51FA;&#x73B0;&#x5728;&#x5404;&#x4E2A;&#x5206;&#x7C7B;&#x4E2D;&#x7684;&#x6982;&#x7387;&#x3002;



&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x793A;&#x4F8B;
&#x672C;&#x7AE0;&#x8282;&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5728;&#x7B80;&#x5316;&#x7684;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x4E0A;&#x5E94;&#x7528;&#x4E0A;&#x9762;&#x90E8;&#x5206;&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x7684;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#x3002;-&#x793A;&#x4F8B;&#x5305;&#x62EC;&#xFF1A;&#x591A;&#x5143;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x548C;&#x4F7F;&#x7528;-nbclassify-&#x7684;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x3002;
&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x793A;&#x4F8B;
&#x4E0B;&#x9762;&#x793A;&#x4F8B;&#x4F7F;&#x7528;&#x56DB;&#x4E2A;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF1A;mregrcoef&#xFF0C;mregrr2&#xFF0C;mregrpvalues-&#x548C;-mregrtstats-&#x5728;&#x793A;&#x4F8B;&#x8868;-regrexample-&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x3002;-&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x56E0;&#x53D8;&#x91CF;&#xFF08;dependent-variable&#xFF09;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x81EA;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#xFF08;independent-variable&#xFF09;&#x3002;
select-mregrcoefy-array1-x1-x2
-------mregrr2y-array1-x1-x2
-------mregrpvaluesy-array1-x1-x2
-------mregrtstatsy-array1-x1-x2
from-regrexample
&#x8868;-regrexample-&#x4E2D;&#x7684;&#x6570;&#x636E;
-id--y---x1--x2
----------------
--1---5---2---1
--2--10---4---2
--3---6---3---1
--4---8---3---1
&#x5728;&#x8868;&#x4E0A;&#x8FD0;&#x884C;&#x524D;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x884C;&#x6570;&#x636E;&#xFF0C;&#x5305;&#x542B;&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x503C;&#xFF1A;
mregrcoef

-7105427357601e-152000000000000030999999999999943
mregrr2

086440677966103
mregrpvalues

099999999999999904543710516569920783653104061216
mregrtstats

-224693341988919e-15115470053837932035355339059327
&#x5982;&#x679C;&#x4E0A;&#x9762;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x672A;&#x5B9A;&#x4E49;&#xFF0C;hashdata-&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;-nan&#xFF08;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x503C;&#xFF09;&#x3002;&#x5F53;&#x6570;&#x636E;&#x91CF;&#x592A;&#x5C11;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x9047;&#x5230;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;

&#x6CE8;&#x610F;-&#x5982;&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x6240;&#x793A;&#xFF0C;&#x53D8;&#x91CF;&#x53C2;&#x6570;&#x4F30;&#x8BA1;&#x503C;&#xFF08;intercept&#xFF09;&#x662F;&#x901A;&#x8FC7;&#x5C06;&#x4E00;&#x4E2A;&#x81EA;&#x53D8;&#x91CF;&#x8BBE;&#x7F6E;&#x4E3A;-1-&#x8BA1;&#x7B97;&#x5F97;&#x5230;&#x7684;&#x3002;

&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;
&#x4F7F;&#x7528;-nbclassify-&#x548C;-nbprobabilities-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6D89;&#x53CA;&#x5230;&#x56DB;&#x6B65;&#x7684;&#x5206;&#x7C7B;&#x8FC7;&#x7A0B;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x4E3A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x7684;&#x8868;&#x548C;&#x89C6;&#x56FE;&#x3002;-&#x4E0B;&#x9762;&#x7684;&#x4E24;&#x4E2A;&#x793A;&#x4F8B;&#x5C55;&#x793A;&#x4E86;&#x8FD9;&#x56DB;&#x4E2A;&#x6B65;&#x9AA4;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x968F;&#x610F;&#x6784;&#x9020;&#x7684;&#x6570;&#x636E;&#x96C6;&#x4E0A;&#x5C55;&#x793A;&#x3002;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;-hashdata-database-&#x6839;&#x636E;&#x5929;&#x6C14;&#x6761;&#x4EF6;&#x4F7F;&#x7528;&#x975E;&#x5E38;&#x53D7;&#x6B22;&#x8FCE;&#x7684;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x793A;&#x4F8B;&#x3002;
&#x603B;&#x89C8;
&#x4E0B;&#x9762;&#x5411;&#x4F60;&#x4ECB;&#x7ECD;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x503C;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x5217;&#x540D;&#xFF09;&#x5C06;&#x4F1A;&#x505A;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x4F7F;&#x7528;&#xFF1A;

&#x5C06;&#x6570;&#x636E;&#x9006;&#x900F;&#x89C6;&#xFF08;unpivot&#xFF09;

&#x5982;&#x679C;&#x6570;&#x636E;&#x662F;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x6240;&#x6709;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x9006;&#x900F;&#x89C6;&#xFF0C;&#x8FDE;&#x540C;&#x6807;&#x8BC6;&#x5B57;&#x6BB5;&#x548C;&#x5206;&#x7C7B;&#x5B57;&#x6BB5;&#x521B;&#x5EFA;&#x89C6;&#x56FE;&#x3002;-&#x5982;&#x679C;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x662F;&#x975E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#xFF0C;&#x8BF7;&#x8DF3;&#x8FC7;&#x6B64;&#x6B65;&#x3002;

&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;

&#x8BAD;&#x7EC3;&#x8868;&#x5C06;&#x6570;&#x636E;&#x89C6;&#x56FE;&#x53D8;&#x5316;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x3002;

&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;

&#x4F7F;&#x7528;-nbclassify&#xFF0C;nbprobabilities-&#x6216;&#x5C06;-nbclassify-&#x548C;-nbprobabilities-&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;
&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;1---&#x5C0F;&#x89C4;&#x6A21;&#x6570;&#x636E;
&#x4F8B;&#x5B50;&#x5C06;&#x4ECE;&#x5305;&#x542B;&#x8303;&#x5F0F;&#x5316;&#x6570;&#x636E;&#x7684;&#x793A;&#x4F8B;&#x8868;-classexample-&#x5F00;&#x59CB;&#xFF0C;&#x901A;&#x8FC7;&#x56DB;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x6B65;&#x9AA4;&#x5B8C;&#x6210;&#xFF1A;
&#x8868;-classexample-&#x4E2D;&#x7684;&#x6570;&#x636E;
-id--class--a1--a2--a3
-----------------------
--1--c1------1---2---3
--2--c1------1---4---3
--3--c2------0---2---2
--4--c1------1---2---1
--5--c2------1---2---2
--6--c2------0---1---3
&#x5C06;&#x6570;&#x636E;&#x9006;&#x900F;&#x89C6;&#xFF08;unpivot&#xFF09;
&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x7528;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x9700;&#x8981;&#x5BF9;-classexample-&#x4E2D;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x9006;&#x900F;&#x89C6;&#x64CD;&#x4F5C;&#x3002;
&#x5728;&#x4E0B;&#x9762;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x7684;&#x9879;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A;&#x65B0;&#x589E;&#x7684;&#x5C5E;&#x6027;&#x503C;&#xFF08;field-attr&#xFF09;&#x7684;&#x503C;&#x4F7F;&#x7528;&#x3002;&#x4E60;&#x60EF;&#x4E0A;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4E0E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x8868;&#x5217;&#x540D;&#x76F8;&#x540C;&#x3002;-&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x66F4;&#x5BB9;&#x6613;&#x7684;&#x4ECE;&#x547D;&#x4EE4;&#x4E2D;&#x627E;&#x5230;&#x8FD9;&#x4E9B;&#x503C;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4EE5;&#x5927;&#x5199;&#x65B9;&#x5F0F;&#x4E66;&#x5199;&#x3002;
create-view-classexampleunpivot-as
select-id-class
--unnestarraya1-a2-a3-as-attr
--unnestarraya1a2a3-as-value
from-classexample
&#x4F7F;&#x7528;&#x540E;&#x9762;&#x7684;-sql-&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x975E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x6570;&#x636E;-select--from-classexampleunpivot&#xFF1A;
-id--class--attr--value
------------------------
--2--c1-----a1--------1
--2--c1-----a2--------2
--2--c1-----a3--------1
--4--c2-----a1--------1
--4--c2-----a2--------2
--4--c2-----a3--------2
--6--c2-----a1--------0
--6--c2-----a2--------1
--6--c2-----a3--------3
--1--c1-----a1--------1
--1--c1-----a2--------2
--1--c1-----a3--------3
--3--c1-----a1--------1
--3--c1-----a2--------4
--3--c1-----a3--------3
--5--c2-----a1--------0
--5--c2-----a2--------2
--5--c2-----a3--------2
18-rows
&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;
&#x4E0B;&#x9762;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x7684;&#x9879;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x805A;&#x5408;&#x7684;&#x9879;&#x3002;&#x901A;&#x8FC7;&#x6570;&#x7EC4;&#x5F62;&#x5F0F;&#x4F20;&#x9012;&#x7ED9;-pivtosum-&#x51FD;&#x6570;&#x7684;&#x9879;&#x5FC5;&#x987B;&#x548C;&#x539F;&#x59CB;&#x6570;&#x636E;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x548C;&#x6570;&#x91CF;&#x76F8;&#x7B26;&#x3002;-&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x5206;&#x7C7B;&#x4E3A;-c1-&#x548C;-c2&#xFF1A;
create-table-classexamplenbtraining-as
select-attr-value
--pivotsumarrayc1-c2-class-1-as-classcount
from---classexampleunpivot
group-by-attr-value
distributed-by-attr
&#x4E0B;&#x9762;&#x662F;&#x8BAD;&#x7EC3;&#x8868;&#x7684;&#x7ED3;&#x679C;&#xFF1A;
-attr--value--classcount
--------------------------
-a3--------1--10
-a3--------3--21
-a1--------1--31
-a1--------0--02
-a3--------2--02
-a2--------2--22
-a2--------4--10
-a2--------1--01
8-rows
&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;
create-view-classexamplenbclassifyfunctions-as
select-attr-value-classcount
--arrayc1-c2-as-classes
--sumclasscount-over-wainteger-as-classtotal
--countdistinct-value-over-wa-as-attrcount
from-classexamplenbtraining
window-wa-as-partition-by-attr
&#x4E0B;&#x9762;&#x662F;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x7684;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#xFF1A;
-attr-value--classcount-classes--classtotal-attrcount
-------------------------------------------------------
-a2-------2--22-------c1c2--33----------------3
-a2-------4--10-------c1c2--33----------------3
-a2-------1--01-------c1c2--33----------------3
-a1-------0--02-------c1c2--33----------------2
-a1-------1--31-------c1c2--33----------------2
-a3-------2--02-------c1c2--33----------------3
-a3-------3--21-------c1c2--33----------------3
-a3-------1--10-------c1c2--33----------------3
8-rows
&#x4F7F;&#x7528;-nbclassify-&#x5BF9;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x4EE5;&#x53CA;&#x4F7F;&#x7528;-nbprobabilities-&#x663E;&#x793A;&#x5F52;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;
&#x5728;&#x51C6;&#x5907;&#x597D;&#x6458;&#x8981;&#x89C6;&#x56FE;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x4E3A;&#x5BF9;&#x65B0;&#x8BB0;&#x5F55;&#x5206;&#x7C7B;&#x7684;&#x57FA;&#x7EBF;&#x4E86;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x901A;&#x8FC7;-nbclassify-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6765;&#x9884;&#x6D4B;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5C5E;&#x4E8E;-c1-&#x8FD8;&#x662F;-c2&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
from-classexamplenbclassifyfunctions
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E0B;&#x9762;&#x7B26;&#x5408;&#x671F;&#x671B;&#x7684;&#x5355;&#x884C;&#x7ED3;&#x679C;&#xFF1A;
class
-------
c2
1-row
&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-nbprobabilities-&#x663E;&#x793A;&#x5404;&#x4E2A;&#x5217;&#x522B;&#x7684;&#x6982;&#x7387;&#x3002;&#x5728;&#x51C6;&#x5907;&#x597D;&#x89C6;&#x56FE;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x4E3A;&#x5BF9;&#x65B0;&#x8BB0;&#x5F55;&#x5206;&#x7C7B;&#x7684;&#x57FA;&#x7EBF;&#x4E86;&#x3002;-&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x901A;&#x8FC7;-nbprobabilities-&#x805A;&#x5408;&#x51FD;&#x6570;&#x6765;&#x9884;&#x6D4B;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5C5E;&#x4E8E;-c1-&#x8FD8;&#x662F;-c2&#x3002;
select-nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-classexamplenbclassifyfunctions
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x60C5;&#x51B5;&#xFF0C;&#x7B2C;&#x4E00;&#x503C;&#x662F;-c1-&#x7684;&#x6982;&#x7387;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x503C;&#x662F;-c2-&#x7684;&#x6982;&#x7387;&#xFF1A;
probability
-------------
-0406
1-row
&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x540C;&#x65F6;&#x663E;&#x793A;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x548C;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-classexamplenbclassify
where-attr--a1-and-value--0
--or-attr--a2-and-value--2
--or-attr--a3-and-value--1
&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x5982;&#x4E0B;&#x7ED3;&#x679C;&#xFF1A;
-class--probability
--------------------
----c2--0406
-1-row
&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x76F8;&#x6BD4;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x66F4;&#x52A0;&#x5168;&#x9762;&#xFF0C;&#x56E0;&#x6B64;&#x9884;&#x6D4B;&#x6548;&#x679C;&#x66F4;&#x597D;&#x3002;-&#x5F53;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;-nbclassify-&#x548C;-nbprobabilities-&#x7684;&#x5F52;&#x7C7B;&#x51C6;&#x786E;&#x5EA6;&#x5C06;&#x4F1A;&#x663E;&#x8457;&#x63D0;&#x9AD8;&#x3002;
&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;2-&#x2013;-&#x5929;&#x6C14;&#x548C;&#x6237;&#x5916;&#x8FD0;&#x52A8;
&#x5728;&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x5C06;&#x4F1A;&#x6839;&#x636E;&#x5929;&#x60C5;&#x51B5;&#x6765;&#x8BA1;&#x7B97;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x9AD8;&#x5C14;&#x592B;&#x7403;&#x6216;&#x8005;&#x7F51;&#x7403;&#x3002;-&#x8868;-weatherexample-&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E9B;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x3002;&#x8868;&#x7684;&#x6807;&#x793A;&#x5B57;&#x6BB5;&#x662F;-day&#x3002;-&#x7528;&#x4E8E;&#x5206;&#x7C7B;&#x7684;&#x5B57;&#x6BB5;-play-&#x5305;&#x542B;&#x4E24;&#x4E2A;&#x503C;&#xFF1A;yes-&#x6216;-no&#x3002;&#x5929;&#x6C14;&#x5305;&#x542B;&#x56DB;&#x79CD;&#x5C5E;&#x6027;&#xFF1A;&#x72B6;&#x51B5;&#xFF0C;&#x6E29;&#x5EA6;&#xFF0C;&#x6E7F;&#x5EA6;&#xFF0C;&#x98CE;&#x529B;&#x3002;-&#x6570;&#x636E;&#x6309;&#x7167;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x3002;
-day--play--outlook---temperature--humidity--wind
----------------------------------------------------
-2----no----sunny-----hot----------high------strong
-4----yes---rain------mild---------high------weak
-6----no----rain------cool---------normal----strong
-8----no----sunny-----mild---------high------weak
10----yes---rain------mild---------normal----weak
12----yes---overcast--mild---------high------strong
14----no----rain------mild---------high------strong
-1----no----sunny-----hot----------high------weak
-3----yes---overcast--hot----------high------weak
-5----yes---rain------cool---------normal----weak
-7----yes---overcast--cool---------normal----strong
-9----yes---sunny-----cool---------normal----weak
11----yes---sunny-----mild---------normal----strong
13----yes---overcast--hot----------normal----weak
-14-rows
&#x7531;&#x4E8E;&#x8FD9;&#x91CC;&#x7684;&#x6570;&#x636E;&#x662F;&#x6309;&#x7167;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x56DB;&#x4E2A;&#x6B65;&#x9AA4;&#x90FD;&#x662F;&#x9700;&#x8981;&#x7684;&#x3002;
&#x9006;&#x900F;&#x89C6;&#x5316;&#x6570;&#x636E;
create-view-weatherexampleunpivot-as
select-day-play
--unnestarrayoutlooktemperature-humiditywind-as-attr
--unnestarrayoutlooktemperaturehumiditywind-as-value
from-weatherexample
&#x8BF7;&#x6CE8;&#x610F;&#x4E0A;&#x9762;&#x5355;&#x5F15;&#x53F7;&#x7684;&#x4F7F;&#x7528;&#x3002;
&#x8BED;&#x53E5;-select--from-weatherexampleunpivot-&#x5C06;&#x4F1A;&#x663E;&#x793A;&#x7ECF;&#x8FC7;&#x9006;&#x900F;&#x89C6;&#x5316;&#x540E;&#x7684;&#x975E;&#x8303;&#x5F0F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6570;&#x636E;&#x4E00;&#x5171;-56-&#x884C;&#x3002;
-day--play--attr---------value
----------------------------------
---2--no----outlook------sunny
---2--no----temperature--hot
---2--no----humidity-----high
---2--no----wind---------strong
---4--yes---outlook------rain
---4--yes---temperature--mild
---4--yes---humidity-----high
---4--yes---wind---------weak
---6--no----outlook------rain
---6--no----temperature--cool
---6--no----humidity-----normal
---6--no----wind---------strong
---8--no----outlook------sunny
---8--no----temperature--mild
---8--no----humidity-----high
---8--no----wind---------weak
--10--yes---outlook------rain
--10--yes---temperature--mild
--10--yes---humidity-----normal
--10--yes---wind---------weak
--12--yes---outlook------overcast
--12--yes---temperature--mild
--12--yes---humidity-----high
--12--yes---wind---------strong
--14--no----outlook------rain
--14--no----temperature--mild
--14--no----humidity-----high
--14--no----wind---------strong
---1--no----outlook------sunny
---1--no----temperature--hot
---1--no----humidity-----high
---1--no----wind---------weak
---3--yes---outlook------overcast
---3--yes---temperature--hot
---3--yes---humidity-----high
---3--yes---wind---------weak
---5--yes---outlook------rain
---5--yes---temperature--cool
---5--yes---humidity-----normal
---5--yes---wind---------weak
---7--yes---outlook------overcast
---7--yes---temperature--cool
---7--yes---humidity-----normal
---7--yes---wind---------strong
---9--yes---outlook------sunny
---9--yes---temperature--cool
---9--yes---humidity-----normal
---9--yes---wind---------weak
--11--yes---outlook------sunny
--11--yes---temperature--mild
--11--yes---humidity-----normal
--11--yes---wind---------strong
--13--yes---outlook------overcast
--13--yes---temperature--hot
--13--yes---humidity-----normal
--13--yes---wind---------weak
--56-rows
&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;
create-table-weatherexamplenbtraining-as
select-attr-value-pivotsumarrayyesno-play-1-as-classcount
from-weatherexampleunpivot
group-by-attr-value
distributed-by-attr
&#x8BED;&#x53E5;-select--from-weatherexamplenbtraining-&#x663E;&#x793A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x4E00;&#x5171;-10-&#x884C;&#xFF1A;
-attr---------value-----classcount
------------------------------------
outlook-------rain------32
humidity------high------34
outlook-------overcast--40
humidity------normal----61
outlook-------sunny-----23
wind----------strong----33
temperature---hot-------22
temperature---cool------31
temperature---mild------42
wind----------weak------62
10-rows
&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;
create-view-weatherexamplenbclassifyfunctions-as
select-attr-value-classcount
--arrayyesno-as-classes
--sumclasscount-over-wainteger-as-classtotal
--countdistinct-value-over-wa-as-attrcount
from-weatherexamplenbtraining
window-wa-as-partition-by-attr
&#x8BED;&#x53E5;-select--from-weatherexamplenbclassifyfunction-&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;-10-&#x884C;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x3002;
attr----------value---classcount-classes--classtotal-attrcount
-----------------------------------------------------------------
temperature--mild-----42-------yesno-95---------------3
temperature--cool-----31-------yesno-95---------------3
temperature--hot------22-------yesno-95---------------3
wind---------weak-----62-------yesno-95---------------2
wind---------strong---33-------yesno-95---------------2
humidity-----high-----34-------yesno-95---------------2
humidity-----normal---61-------yesno-95---------------2
outlook------sunny----23-------yesno-95---------------3
outlook------overcast-40-------yesno-95---------------3
outlook------rain-----32-------yesno-95---------------3
10-rows
&#x4F7F;&#x7528;-nbclassify&#xFF0C;nbprobabilities-&#x6216;&#x5C06;-nbclassify-&#x548C;-nbprobabilities-&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;
&#x9996;&#x5148;&#x8981;&#x51B3;&#x5B9A;&#x5BF9;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x4F8B;&#x5982;&#x5BF9;&#x4E0B;&#x9762;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;
temperature--wind--humidity--outlook
-------------------------------------
cool---------weak--high------overcast
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x3002;&#x7ED3;&#x679C;&#x5C06;&#x4F1A;&#x7ED9;&#x51FA;&#x5224;&#x65AD;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;-yes-&#x548C;-no-&#x7684;&#x6982;&#x7387;&#x3002;
select-nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-weatherexamplenbclassifyfunctions
where
--attr--temperature-and-value--cool-or
--attr--wind--------and-value--weak-or
--attr--humidity----and-value--high-or
--attr--outlook-----and-value--overcast
&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF1A;
class----------------probability
----------------------------------------------
-yes----08581033539207260141896646079274
1-row
&#x8981;&#x5BF9;&#x4E00;&#x7EC4;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x4ED6;&#x4EEC;&#x5B58;&#x50A8;&#x5230;&#x8868;&#x4E2D;&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x4F8B;&#x5982;&#x4E0B;&#x9762;&#x7684;&#x8868;-t1-&#x5305;&#x542B;&#x4E86;&#x8981;&#x5206;&#x7C7B;&#x7684;&#x8BB0;&#x5F55;&#xFF1A;
-day--outlook---temperature--humidity---wind
----------------------------------------------
--15--sunny-----mild---------high------strong
--16--rain------cool---------normal----strong
--17--overcast--hot----------normal----weak
--18--rain------hot----------high------weak
4-rows
&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7528;&#x6765;&#x5BF9;&#x6574;&#x5F20;&#x8868;&#x8BA1;&#x7B97;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x3002;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x5BF9;&#x8868;&#x4E2D;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x5224;&#x65AD;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;-yes-&#x548C;-no-&#x7684;&#x6982;&#x7387;&#x3002;-&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;-nbclassify-&#x548C;-nbprobabilities-&#x4E24;&#x4E2A;&#x805A;&#x5408;&#x51FD;&#x6570;&#x90FD;&#x53C2;&#x4E0E;&#x4E86;&#x8FD0;&#x7B97;&#x3002;
select-t1day
-------t1temperature-t1wind-t1humidity-t1outlook
-------nbclassifyclasses-attrcount-classcount-classtotal-as-class
-------nbprobabilitiesclasses-attrcount-classcount-classtotal-as-probability
from-t1-weatherexamplenbclassifyfunctions
where
--attr--temperature-and-value--t1temperature-or
--attr--wind--------and-value--t1wind-or
--attr--humidity----and-value--t1humidity-or
--attr--outlook-----and-value--t1outlook
group-by-t1day-t1temperature-t1wind-t1humidity-t1outlook
&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x56DB;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x5206;&#x522B;&#x5BF9;&#x5E94;-t1-&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x3002;
day-temp-wind----humidity--outlook---class--probability
---------------------------------------------------------
15--mild-strong--high------sunny-----no-----02446941323345820755305867665418
16--cool-strong--normal----rain------yes----07514719978091190248528002190881
18--hot--weak----high------rain------no-----04463875388901310553612461109869
17--hot--weak----normal----overcast--yes----0929719264278800702807357212004
4-rows
"><h5 id="tab5"> &#x8868;5 &#x9AD8;&#x7EA7;&#x805A;&#x5408;&#x51FD;&#x6570;</h5>
<table>
<thead>
<tr>
<th style="text-align:left">&#x51FD;&#x6570;</th>
<th style="text-align:left">&#x8FD4;&#x56DE;&#x7C7B;&#x578B;</th>
<th style="text-align:left">&#x8BED;&#x6CD5;</th>
<th style="text-align:left">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">MEDIAN (expr)</td>
<td style="text-align:left">timestamp, timestampz, interval, float</td>
<td style="text-align:left">MEDIAN (expression) Example:<code>SELECT department_id MEDIAN(salary) FROM employees GROUP BY department_id;</code></td>
<td style="text-align:left">&#x8BA1;&#x7B97;&#x4E2D;&#x4F4D;&#x6570;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">PERCENTILE_CONT (expr) WITHIN GROUP (ORDER BY expr [DESC/ASC])</td>
<td style="text-align:left">timestamp, timestampz, interval, float</td>
<td style="text-align:left">PERCENTILE_CONT(percentage) WITHIN GROUP (ORDER BY expression) Example:<code>SELECT department_id,PERCENTILE_CONT (0.5) WITHIN GROUP (ORDER BY salary DESC) &quot;Median_cont&quot; FROM employees GROUP BY department_id;</code></td>
<td style="text-align:left">&#x5728;&#x8FDE;&#x7EED;&#x5206;&#x5E03;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x8FD0;&#x7B97;&#x3002;&#x51FD;&#x6570;&#x8F93;&#x5165; &#x4E00;&#x4E2A;&#x5206;&#x4F4D;&#x6BD4;&#x4F8B;&#x548C;&#x6392;&#x5E8F;&#x4FE1;&#x606F;&#xFF0C;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x662F;&#x8BA1;&#x7B97;&#x6570;&#x636E;&#x7684;&#x7C7B; &#x578B;&#x3002;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x8FDB;&#x884C;&#x7EBF;&#x6027;&#x63D2;&#x503C;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x3002; &#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D; NULL &#x503C;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">PERCENTILE_DISC (expr) WITHIN GROUP (ORDER BY expr [DESC/ASC])</td>
<td style="text-align:left">timestamp, timestampz, interval, float</td>
<td style="text-align:left">PERCENTILE_DISC(percentage) WITHIN GROUP (ORDER BY expression) Example:<code>SELECT department_id,PERCENTILE_DISC (0.5) WITHIN GROUP (ORDER BY salary DESC) &quot;Median_cont&quot; FROM employees GROUP BY department_id;</code></td>
<td style="text-align:left">&#x5728;&#x8FDE;&#x7EED;&#x5206;&#x5E03;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x5206;&#x5E03;&#x51FD;&#x6570;&#x8FD0;&#x7B97;&#x3002;&#x51FD;&#x6570;&#x8F93;&#x5165; &#x4E00;&#x4E2A;&#x5206;&#x4F4D;&#x6BD4;&#x4F8B;&#x548C;&#x6392;&#x5E8F;&#x4FE1;&#x606F;&#x3002;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x8F93;&#x5165;&#x96C6;&#x5408;&#x4E2D; &#x7684;&#x503C;&#x3002;&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D; NULL &#x503C;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">sum(array[])</td>
<td style="text-align:left">smallint[], int[], bigint[], float[]</td>
<td style="text-align:left">sum(array[[1,2],[3,4]]) Example: <code>CREATE TABLE mymatrix (myvalue int[]); INSERT INTO mymatrix VALUES ( array[[1,2],[3,4]]); INSERT INTO mymatrix VALUES ( array[[0,1],[1,0]]); SELECT  sum(myvalue) FROM mymatrix;</code></td>
<td style="text-align:left">&#x6267;&#x884C;&#x77E9;&#x9635;&#x52A0;&#x6CD5;&#x8FD0;&#x7B97;&#x3002;&#x5C06;&#x8F93;&#x5165;&#x7684;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;&#x5F53;&#x4F5C;&#x77E9;&#x9635;&#x5904;&#x7406;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">pivot_sum (label[], label, expr)</td>
<td style="text-align:left">int[], bigint[], float[]</td>
<td style="text-align:left">pivot_sum( array[&#x2018;A1&#x2019;,&#x2019;A2&#x2019;], attr, value)</td>
<td style="text-align:left">&#x900F;&#x89C6;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x901A;&#x8FC7;&#x805A;&#x5408;&#x6C42;&#x6765;&#x6D88;&#x9664;&#x91CD;&#x590D;&#x9879;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">mregr_coef (expr, array[])</td>
<td style="text-align:left">float[]</td>
<td style="text-align:left">mregr_coef(y, array[1, x1, x2])</td>
<td style="text-align:left">&#x56DB;&#x4E2A; mregr_* &#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF; &#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregr_coef &#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7CFB;&#x6570;&#x3002; mregr_coef &#x8FD4;&#x56DE;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x5305;&#x542B;&#x6BCF;&#x4E2A;&#x81EA;&#x53D8;&#x91CF;&#x7684;&#x56DE;&#x5F52;&#x7CFB;&#x6570;&#xFF0C; &#x56E0;&#x6B64;&#x5927;&#x5C0F;&#x4E0E;&#x8F93;&#x5165;&#x7684;&#x81EA;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#x5927;&#x5C0F;&#x76F8;&#x7B49;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">mregr_r2 (expr, array[])</td>
<td style="text-align:left">float</td>
<td style="text-align:left">mregr_r2(y, array[1, x1, x2])</td>
<td style="text-align:left">&#x56DB;&#x4E2A; mregr_* &#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF; &#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregr_r2 &#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684; r &#x5E73;&#x65B9;&#x503C;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">mregr_pvalues (expr, array[])</td>
<td style="text-align:left">float[]</td>
<td style="text-align:left">mregr_pvalues(y, array[1, x1, x2])</td>
<td style="text-align:left">&#x56DB;&#x4E2A; mregr_* &#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF; &#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregr_pvalues &#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684; p &#x503C;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">mregr_tstats (expr, array[])</td>
<td style="text-align:left">float[]</td>
<td style="text-align:left">mregr_tstats(y, array[1, x1, x2])</td>
<td style="text-align:left">&#x56DB;&#x4E2A; mregr_* &#x5F00;&#x5934;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x4E8C;&#x4E58;&#x6CD5;&#x8FDB;&#x884C;&#x7EBF; &#x6027;&#x56DE;&#x5F52;&#x8BA1;&#x7B97;&#x3002;mregr_tstats &#x8BA1;&#x7B97;&#x56DE;&#x5F52;&#x7684; t &#x7EDF;&#x8BA1;&#x91CF;&#x503C;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">nb_classify (text[], bigint, bigint[], biggint[])</td>
<td style="text-align:left">text</td>
<td style="text-align:left">nb_classify(classes, attr_count, class_count, class_total)</td>
<td style="text-align:left">&#x4F7F;&#x7528;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x5668;&#x5BF9;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x3002;&#x6B64;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F; &#x7528;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x57FA;&#x7EBF;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x9884;&#x6D4B;&#xFF0C;&#x8FD4;&#x56DE; &#x8BE5;&#x8BB0;&#x5F55;&#x6700;&#x6709;&#x53EF;&#x80FD;&#x51FA;&#x7EBF;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">nb_probabilities (text[], bigint, bigint[], biggint[])</td>
<td style="text-align:left">text</td>
<td style="text-align:left">nb_probabilities(classes, attr_count, class_count, class_total)</td>
<td style="text-align:left">&#x4F7F;&#x7528;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x5668;&#x8BA1;&#x7B97;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x3002;&#x6B64;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4F7F;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x57FA;&#x7EBF;&#xFF0C;&#x5BF9;&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x9884;&#x6D4B;&#xFF0C;&#x8FD4;&#x56DE;&#x8BE5;&#x8BB0;&#x5F55;&#x51FA;&#x73B0;&#x5728;&#x5404;&#x4E2A;&#x5206;&#x7C7B;&#x4E2D;&#x7684;&#x6982;&#x7387;&#x3002;</td>
</tr>
</tbody>
</table>
<h3 id="&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x793A;&#x4F8B;">&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x793A;&#x4F8B;</h3>
<p>&#x672C;&#x7AE0;&#x8282;&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5728;&#x7B80;&#x5316;&#x7684;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x4E0A;&#x5E94;&#x7528;&#x4E0A;&#x9762;&#x90E8;&#x5206;&#x9AD8;&#x7EA7;&#x5206;&#x6790;&#x51FD;&#x6570;&#x7684;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#x3002; &#x793A;&#x4F8B;&#x5305;&#x62EC;&#xFF1A;&#x591A;&#x5143;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x548C;&#x4F7F;&#x7528; nb_classify &#x7684;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x3002;</p>
<h4 id="&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x793A;&#x4F8B;">&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#x793A;&#x4F8B;</h4>
<p>&#x4E0B;&#x9762;&#x793A;&#x4F8B;&#x4F7F;&#x7528;&#x56DB;&#x4E2A;&#x7EBF;&#x6027;&#x56DE;&#x5F52;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF1A;mregr_coef&#xFF0C;mregr_r2&#xFF0C;mregr_pvalues &#x548C; mregr_tstats &#x5728;&#x793A;&#x4F8B;&#x8868; regr_example &#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x3002; &#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x56E0;&#x53D8;&#x91CF;&#xFF08;dependent variable&#xFF09;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x81EA;&#x53D8;&#x91CF;&#x6570;&#x7EC4;&#xFF08;independent variable&#xFF09;&#x3002;</p>
<pre class="language-"><code>SELECT mregr_coef(y, array[1, x1, x2]),
       mregr_r2(y, array[1, x1, x2]),
       mregr_pvalues(y, array[1, x1, x2]),
       mregr_tstats(y, array[1, x1, x2])
from regr_example;
</code></pre><p>&#x8868; regr_example &#x4E2D;&#x7684;&#x6570;&#x636E;:</p>
<pre class="language-"><code> id | y  | x1 | x2
----+----+----+----
  1 |  5 |  2 |  1
  2 | 10 |  4 |  2
  3 |  6 |  3 |  1
  4 |  8 |  3 |  1
</code></pre><p>&#x5728;&#x8868;&#x4E0A;&#x8FD0;&#x884C;&#x524D;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x884C;&#x6570;&#x636E;&#xFF0C;&#x5305;&#x542B;&#x4E0B;&#x9762;&#x5217;&#x51FA;&#x7684;&#x503C;&#xFF1A;</p>
<pre class="language-"><code>mregr_coef:

{-7.105427357601e-15,2.00000000000003,0.999999999999943}
mregr_r2:

0.86440677966103
mregr_pvalues:

{0.999999999999999,0.454371051656992,0.783653104061216}
mregr_tstats:

{-2.24693341988919e-15,1.15470053837932,0.35355339059327}
</code></pre><p>&#x5982;&#x679C;&#x4E0A;&#x9762;&#x7684;&#x805A;&#x5408;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x672A;&#x5B9A;&#x4E49;&#xFF0C;HashData &#x6570;&#x636E;&#x4ED3;&#x5E93;&#x5C06;&#x4F1A;&#x8FD4;&#x56DE; NaN&#xFF08;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x503C;&#xFF09;&#x3002;&#x5F53;&#x6570;&#x636E;&#x91CF;&#x592A;&#x5C11;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x9047;&#x5230;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;</p>
<blockquote>
<p>&#x6CE8;&#x610F;: &#x5982;&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x6240;&#x793A;&#xFF0C;&#x53D8;&#x91CF;&#x53C2;&#x6570;&#x4F30;&#x8BA1;&#x503C;&#xFF08;intercept&#xFF09;&#x662F;&#x901A;&#x8FC7;&#x5C06;&#x4E00;&#x4E2A;&#x81EA;&#x53D8;&#x91CF;&#x8BBE;&#x7F6E;&#x4E3A; 1 &#x8BA1;&#x7B97;&#x5F97;&#x5230;&#x7684;&#x3002;</p>
</blockquote>
<h4 id="&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;">&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;</h4>
<p>&#x4F7F;&#x7528; nb_classify &#x548C; nb_probabilities &#x805A;&#x5408;&#x51FD;&#x6570;&#x6D89;&#x53CA;&#x5230;&#x56DB;&#x6B65;&#x7684;&#x5206;&#x7C7B;&#x8FC7;&#x7A0B;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x4E3A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x7684;&#x8868;&#x548C;&#x89C6;&#x56FE;&#x3002; &#x4E0B;&#x9762;&#x7684;&#x4E24;&#x4E2A;&#x793A;&#x4F8B;&#x5C55;&#x793A;&#x4E86;&#x8FD9;&#x56DB;&#x4E2A;&#x6B65;&#x9AA4;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x968F;&#x610F;&#x6784;&#x9020;&#x7684;&#x6570;&#x636E;&#x96C6;&#x4E0A;&#x5C55;&#x793A;&#x3002;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F8B;&#x5B50;&#x662F; HashData Database &#x6839;&#x636E;&#x5929;&#x6C14;&#x6761;&#x4EF6;&#x4F7F;&#x7528;&#x975E;&#x5E38;&#x53D7;&#x6B22;&#x8FCE;&#x7684;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x793A;&#x4F8B;&#x3002;</p>
<h4 id="&#x603B;&#x89C8;">&#x603B;&#x89C8;</h4>
<p>&#x4E0B;&#x9762;&#x5411;&#x4F60;&#x4ECB;&#x7ECD;&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x503C;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x5217;&#x540D;&#xFF09;&#x5C06;&#x4F1A;&#x505A;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF08;field attr&#xFF09;&#x4F7F;&#x7528;&#xFF1A;</p>
<ul>
<li>&#x5C06;&#x6570;&#x636E;&#x9006;&#x900F;&#x89C6;&#xFF08;unpivot&#xFF09;</li>
</ul>
<p>&#x5982;&#x679C;&#x6570;&#x636E;&#x662F;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x6240;&#x6709;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x9006;&#x900F;&#x89C6;&#xFF0C;&#x8FDE;&#x540C;&#x6807;&#x8BC6;&#x5B57;&#x6BB5;&#x548C;&#x5206;&#x7C7B;&#x5B57;&#x6BB5;&#x521B;&#x5EFA;&#x89C6;&#x56FE;&#x3002; &#x5982;&#x679C;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x662F;&#x975E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#xFF0C;&#x8BF7;&#x8DF3;&#x8FC7;&#x6B64;&#x6B65;&#x3002;</p>
<ul>
<li>&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;</li>
</ul>
<p>&#x8BAD;&#x7EC3;&#x8868;&#x5C06;&#x6570;&#x636E;&#x89C6;&#x56FE;&#x53D8;&#x5316;&#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF08;field attr&#xFF09;&#x3002;</p>
<ul>
<li>&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;</li>
</ul>
<p>&#x4F7F;&#x7528; nb_classify&#xFF0C;nb_probabilities &#x6216;&#x5C06; nb_classify &#x548C; nb_probabilities &#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;</p>
<h4 id="&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;1---&#x5C0F;&#x89C4;&#x6A21;&#x6570;&#x636E;">&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;1 - &#x5C0F;&#x89C4;&#x6A21;&#x6570;&#x636E;</h4>
<p>&#x4F8B;&#x5B50;&#x5C06;&#x4ECE;&#x5305;&#x542B;&#x8303;&#x5F0F;&#x5316;&#x6570;&#x636E;&#x7684;&#x793A;&#x4F8B;&#x8868; class_example &#x5F00;&#x59CB;&#xFF0C;&#x901A;&#x8FC7;&#x56DB;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x6B65;&#x9AA4;&#x5B8C;&#x6210;&#xFF1A;</p>
<p>&#x8868; class_example &#x4E2D;&#x7684;&#x6570;&#x636E;:</p>
<pre class="language-"><code> id | class | a1 | a2 | a3
----+-------+----+----+----
  1 | C1    |  1 |  2 |  3
  2 | C1    |  1 |  4 |  3
  3 | C2    |  0 |  2 |  2
  4 | C1    |  1 |  2 |  1
  5 | C2    |  1 |  2 |  2
  6 | C2    |  0 |  1 |  3
</code></pre><p>&#x5C06;&#x6570;&#x636E;&#x9006;&#x900F;&#x89C6;&#xFF08;unpivot&#xFF09;</p>
<p>&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x7528;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x9700;&#x8981;&#x5BF9; class_example &#x4E2D;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x9006;&#x900F;&#x89C6;&#x64CD;&#x4F5C;&#x3002;</p>
<p>&#x5728;&#x4E0B;&#x9762;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x7684;&#x9879;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A;&#x65B0;&#x589E;&#x7684;&#x5C5E;&#x6027;&#x503C;&#xFF08;field attr&#xFF09;&#x7684;&#x503C;&#x4F7F;&#x7528;&#x3002;&#x4E60;&#x60EF;&#x4E0A;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4E0E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x8868;&#x5217;&#x540D;&#x76F8;&#x540C;&#x3002; &#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x66F4;&#x5BB9;&#x6613;&#x7684;&#x4ECE;&#x547D;&#x4EE4;&#x4E2D;&#x627E;&#x5230;&#x8FD9;&#x4E9B;&#x503C;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4EE5;&#x5927;&#x5199;&#x65B9;&#x5F0F;&#x4E66;&#x5199;&#x3002;</p>
<pre class="language-"><code>CREATE view class_example_unpivot AS
SELECT id, class,
  unnest(array[&apos;A1&apos;, &apos;A2&apos;, &apos;A3&apos;]) as attr,
  unnest(array[a1,a2,a3]) as value
FROM class_example;
</code></pre><p>&#x4F7F;&#x7528;&#x540E;&#x9762;&#x7684; SQL &#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x975E;&#x8303;&#x5F0F;&#x5316;&#x7684;&#x6570;&#x636E; <code>SELECT * from class_example_unpivot</code>&#xFF1A;</p>
<pre class="language-"><code> id | class | attr | value
----+-------+------+-------
  2 | C1    | A1   |     1
  2 | C1    | A2   |     2
  2 | C1    | A3   |     1
  4 | C2    | A1   |     1
  4 | C2    | A2   |     2
  4 | C2    | A3   |     2
  6 | C2    | A1   |     0
  6 | C2    | A2   |     1
  6 | C2    | A3   |     3
  1 | C1    | A1   |     1
  1 | C1    | A2   |     2
  1 | C1    | A3   |     3
  3 | C1    | A1   |     1
  3 | C1    | A2   |     4
  3 | C1    | A3   |     3
  5 | C2    | A1   |     0
  5 | C2    | A2   |     2
  5 | C2    | A3   |     2
(18 rows)
</code></pre><p>&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;</p>
<p>&#x4E0B;&#x9762;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x7684;&#x9879;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x805A;&#x5408;&#x7684;&#x9879;&#x3002;&#x901A;&#x8FC7;&#x6570;&#x7EC4;&#x5F62;&#x5F0F;&#x4F20;&#x9012;&#x7ED9; pivto_sum &#x51FD;&#x6570;&#x7684;&#x9879;&#x5FC5;&#x987B;&#x548C;&#x539F;&#x59CB;&#x6570;&#x636E;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x548C;&#x6570;&#x91CF;&#x76F8;&#x7B26;&#x3002; &#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x5206;&#x7C7B;&#x4E3A; C1 &#x548C; C2&#xFF1A;</p>
<pre class="language-"><code>CREATE table class_example_nb_training AS
SELECT attr, value,
  pivot_sum(array[&apos;C1&apos;, &apos;C2&apos;], class, 1) as class_count
FROM   class_example_unpivot
GROUP BY attr, value
DISTRIBUTED by (attr);
</code></pre><p>&#x4E0B;&#x9762;&#x662F;&#x8BAD;&#x7EC3;&#x8868;&#x7684;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre class="language-"><code> attr | value | class_count
------+-------+-------------
 A3   |     1 | {1,0}
 A3   |     3 | {2,1}
 A1   |     1 | {3,1}
 A1   |     0 | {0,2}
 A3   |     2 | {0,2}
 A2   |     2 | {2,2}
 A2   |     4 | {1,0}
 A2   |     1 | {0,1}
(8 rows)
</code></pre><p>&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;</p>
<pre class="language-"><code>CREATE VIEW class_example_nb_classify_functions AS
SELECT attr, value, class_count,
  array[&apos;C1&apos;, &apos;C2&apos;] AS classes,
  SUM(class_count) OVER (wa)::integer[] AS class_total,
  COUNT(DISTINCT value) OVER (wa) AS attr_count
FROM class_example_nb_training
WINDOW wa AS (partition by attr);
</code></pre><p>&#x4E0B;&#x9762;&#x662F;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x7684;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre class="language-"><code> attr| value | class_count| classes | class_total |attr_count
-----+-------+------------+---------+-------------+---------
 A2  |     2 | {2,2}      | {C1,C2} | {3,3}       |         3
 A2  |     4 | {1,0}      | {C1,C2} | {3,3}       |         3
 A2  |     1 | {0,1}      | {C1,C2} | {3,3}       |         3
 A1  |     0 | {0,2}      | {C1,C2} | {3,3}       |         2
 A1  |     1 | {3,1}      | {C1,C2} | {3,3}       |         2
 A3  |     2 | {0,2}      | {C1,C2} | {3,3}       |         3
 A3  |     3 | {2,1}      | {C1,C2} | {3,3}       |         3
 A3  |     1 | {1,0}      | {C1,C2} | {3,3}       |         3
(8 rows)
</code></pre><p>&#x4F7F;&#x7528; nb_classify &#x5BF9;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x4EE5;&#x53CA;&#x4F7F;&#x7528; nb_probabilities &#x663E;&#x793A;&#x5F52;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;</p>
<p>&#x5728;&#x51C6;&#x5907;&#x597D;&#x6458;&#x8981;&#x89C6;&#x56FE;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x4E3A;&#x5BF9;&#x65B0;&#x8BB0;&#x5F55;&#x5206;&#x7C7B;&#x7684;&#x57FA;&#x7EBF;&#x4E86;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x901A;&#x8FC7; nb_classify &#x805A;&#x5408;&#x51FD;&#x6570;&#x6765;&#x9884;&#x6D4B;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5C5E;&#x4E8E; C1 &#x8FD8;&#x662F; C2&#x3002;</p>
<pre class="language-"><code>SELECT nb_classify(classes, attr_count, class_count, class_total) AS class
FROM class_example_nb_classify_functions
WHERE (attr = &apos;A1&apos; AND value = 0)
  OR (attr = &apos;A2&apos; AND value = 2)
  OR (attr = &apos;A3&apos; AND value = 1);
</code></pre><p>&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E0B;&#x9762;&#x7B26;&#x5408;&#x671F;&#x671B;&#x7684;&#x5355;&#x884C;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre class="language-"><code>class
-------
C2
(1 row)
</code></pre><p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528; nb_probabilities &#x663E;&#x793A;&#x5404;&#x4E2A;&#x5217;&#x522B;&#x7684;&#x6982;&#x7387;&#x3002;&#x5728;&#x51C6;&#x5907;&#x597D;&#x89C6;&#x56FE;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x4E3A;&#x5BF9;&#x65B0;&#x8BB0;&#x5F55;&#x5206;&#x7C7B;&#x7684;&#x57FA;&#x7EBF;&#x4E86;&#x3002; &#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x901A;&#x8FC7; nb_probabilities &#x805A;&#x5408;&#x51FD;&#x6570;&#x6765;&#x9884;&#x6D4B;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5C5E;&#x4E8E; C1 &#x8FD8;&#x662F; C2&#x3002;</p>
<pre class="language-"><code>SELECT nb_probabilities(classes, attr_count, class_count, class_total) AS probability
FROM class_example_nb_classify_functions
WHERE (attr = &apos;A1&apos; AND value = 0)
  OR (attr = &apos;A2&apos; AND value = 2)
  OR (attr = &apos;A3&apos; AND value = 1);
</code></pre><p>&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x793A;&#x4F8B;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD4;&#x56DE;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x7684;&#x6982;&#x7387;&#x60C5;&#x51B5;&#xFF0C;&#x7B2C;&#x4E00;&#x503C;&#x662F; C1 &#x7684;&#x6982;&#x7387;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x503C;&#x662F; C2 &#x7684;&#x6982;&#x7387;&#xFF1A;</p>
<pre class="language-"><code>probability
-------------
 {0.4,0.6}
(1 row)
</code></pre><p>&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x540C;&#x65F6;&#x663E;&#x793A;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x548C;&#x6982;&#x7387;&#x5206;&#x5E03;&#x3002;</p>
<pre class="language-"><code>SELECT nb_classify(classes, attr_count, class_count, class_total) AS class,
       nb_probabilities(classes, attr_count, class_count, class_total) AS probability
FROM class_example_nb_classify
WHERE (attr = &apos;A1&apos; AND value = 0)
  OR (attr = &apos;A2&apos; AND value = 2)
  OR (attr = &apos;A3&apos; AND value = 1);
</code></pre><p>&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x5982;&#x4E0B;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre class="language-"><code> class | probability
-------+-------------
    C2 | {0.4,0.6}
 (1 row)
</code></pre><p>&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x76F8;&#x6BD4;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x66F4;&#x52A0;&#x5168;&#x9762;&#xFF0C;&#x56E0;&#x6B64;&#x9884;&#x6D4B;&#x6548;&#x679C;&#x66F4;&#x597D;&#x3002; &#x5F53;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x4F7F;&#x7528; nb_classify &#x548C; nb_probabilities &#x7684;&#x5F52;&#x7C7B;&#x51C6;&#x786E;&#x5EA6;&#x5C06;&#x4F1A;&#x663E;&#x8457;&#x63D0;&#x9AD8;&#x3002;</p>
<h4 id="&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;2-&#x2013;-&#x5929;&#x6C14;&#x548C;&#x6237;&#x5916;&#x8FD0;&#x52A8;">&#x6734;&#x7D20;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x793A;&#x4F8B;2 &#x2013; &#x5929;&#x6C14;&#x548C;&#x6237;&#x5916;&#x8FD0;&#x52A8;</h4>
<p>&#x5728;&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x5C06;&#x4F1A;&#x6839;&#x636E;&#x5929;&#x60C5;&#x51B5;&#x6765;&#x8BA1;&#x7B97;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x9AD8;&#x5C14;&#x592B;&#x7403;&#x6216;&#x8005;&#x7F51;&#x7403;&#x3002; &#x8868; weather_example &#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E9B;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x3002;&#x8868;&#x7684;&#x6807;&#x793A;&#x5B57;&#x6BB5;&#x662F; day&#x3002; &#x7528;&#x4E8E;&#x5206;&#x7C7B;&#x7684;&#x5B57;&#x6BB5; play &#x5305;&#x542B;&#x4E24;&#x4E2A;&#x503C;&#xFF1A;Yes &#x6216; No&#x3002;&#x5929;&#x6C14;&#x5305;&#x542B;&#x56DB;&#x79CD;&#x5C5E;&#x6027;&#xFF1A;&#x72B6;&#x51B5;&#xFF0C;&#x6E29;&#x5EA6;&#xFF0C;&#x6E7F;&#x5EA6;&#xFF0C;&#x98CE;&#x529B;&#x3002; &#x6570;&#x636E;&#x6309;&#x7167;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x3002;</p>
<pre class="language-"><code> day | play | outlook  | temperature | humidity | wind
-----+------+----------+-------------+----------+--------
 2   | No   | Sunny    | Hot         | High     | Strong
 4   | Yes  | Rain     | Mild        | High     | Weak
 6   | No   | Rain     | Cool        | Normal   | Strong
 8   | No   | Sunny    | Mild        | High     | Weak
10   | Yes  | Rain     | Mild        | Normal   | Weak
12   | Yes  | Overcast | Mild        | High     | Strong
14   | No   | Rain     | Mild        | High     | Strong
 1   | No   | Sunny    | Hot         | High     | Weak
 3   | Yes  | Overcast | Hot         | High     | Weak
 5   | Yes  | Rain     | Cool        | Normal   | Weak
 7   | Yes  | Overcast | Cool        | Normal   | Strong
 9   | Yes  | Sunny    | Cool        | Normal   | Weak
11   | Yes  | Sunny    | Mild        | Normal   | Strong
13   | Yes  | Overcast | Hot         | Normal   | Weak
 (14 rows)
</code></pre><p>&#x7531;&#x4E8E;&#x8FD9;&#x91CC;&#x7684;&#x6570;&#x636E;&#x662F;&#x6309;&#x7167;&#x8303;&#x5F0F;&#x5316;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x8D1D;&#x53F6;&#x65AF;&#x5206;&#x7C7B;&#x7684;&#x56DB;&#x4E2A;&#x6B65;&#x9AA4;&#x90FD;&#x662F;&#x9700;&#x8981;&#x7684;&#x3002;</p>
<p>&#x9006;&#x900F;&#x89C6;&#x5316;&#x6570;&#x636E;</p>
<pre class="language-"><code>CREATE view weather_example_unpivot AS
SELECT day, play,
  unnest(array[&apos;outlook&apos;,&apos;temperature&apos;, &apos;humidity&apos;,&apos;wind&apos;]) AS attr,
  unnest(array[outlook,temperature,humidity,wind]) AS value
FROM weather_example;
</code></pre><p>&#x8BF7;&#x6CE8;&#x610F;&#x4E0A;&#x9762;&#x5355;&#x5F15;&#x53F7;&#x7684;&#x4F7F;&#x7528;&#x3002;</p>
<p>&#x8BED;&#x53E5; <code>SELECT * from weather_example_unpivot</code> &#x5C06;&#x4F1A;&#x663E;&#x793A;&#x7ECF;&#x8FC7;&#x9006;&#x900F;&#x89C6;&#x5316;&#x540E;&#x7684;&#x975E;&#x8303;&#x5F0F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6570;&#x636E;&#x4E00;&#x5171; 56 &#x884C;&#x3002;</p>
<pre class="language-"><code> day | play | attr        | value
-----+------+-------------+----------
   2 | No   | outlook     | Sunny
   2 | No   | temperature | Hot
   2 | No   | humidity    | High
   2 | No   | wind        | Strong
   4 | Yes  | outlook     | Rain
   4 | Yes  | temperature | Mild
   4 | Yes  | humidity    | High
   4 | Yes  | wind        | Weak
   6 | No   | outlook     | Rain
   6 | No   | temperature | Cool
   6 | No   | humidity    | Normal
   6 | No   | wind        | Strong
   8 | No   | outlook     | Sunny
   8 | No   | temperature | Mild
   8 | No   | humidity    | High
   8 | No   | wind        | Weak
  10 | Yes  | outlook     | Rain
  10 | Yes  | temperature | Mild
  10 | Yes  | humidity    | Normal
  10 | Yes  | wind        | Weak
  12 | Yes  | outlook     | Overcast
  12 | Yes  | temperature | Mild
  12 | Yes  | humidity    | High
  12 | Yes  | wind        | Strong
  14 | No   | outlook     | Rain
  14 | No   | temperature | Mild
  14 | No   | humidity    | High
  14 | No   | wind        | Strong
   1 | No   | outlook     | Sunny
   1 | No   | temperature | Hot
   1 | No   | humidity    | High
   1 | No   | wind        | Weak
   3 | Yes  | outlook     | Overcast
   3 | Yes  | temperature | Hot
   3 | Yes  | humidity    | High
   3 | Yes  | wind        | Weak
   5 | Yes  | outlook     | Rain
   5 | Yes  | temperature | Cool
   5 | Yes  | humidity    | Normal
   5 | Yes  | wind        | Weak
   7 | Yes  | outlook     | Overcast
   7 | Yes  | temperature | Cool
   7 | Yes  | humidity    | Normal
   7 | Yes  | wind        | Strong
   9 | Yes  | outlook     | Sunny
   9 | Yes  | temperature | Cool
   9 | Yes  | humidity    | Normal
   9 | Yes  | wind        | Weak
  11 | Yes  | outlook     | Sunny
  11 | Yes  | temperature | Mild
  11 | Yes  | humidity    | Normal
  11 | Yes  | wind        | Strong
  13 | Yes  | outlook     | Overcast
  13 | Yes  | temperature | Hot
  13 | Yes  | humidity    | Normal
  13 | Yes  | wind        | Weak
  (56 rows)
</code></pre><p>&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x8868;</p>
<pre class="language-"><code>CREATE table weather_example_nb_training AS
SELECT attr, value, pivot_sum(array[&apos;Yes&apos;,&apos;No&apos;], play, 1) AS class_count
FROM weather_example_unpivot
GROUP BY attr, value
DISTRIBUTED BY (attr);
</code></pre><p>&#x8BED;&#x53E5; <code>SELECT * from weather_example_nb_training</code> &#x663E;&#x793A;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#xFF0C;&#x4E00;&#x5171; 10 &#x884C;&#xFF1A;</p>
<pre class="language-"><code> attr        | value    | class_count
-------------+----------+-------------
outlook      | Rain     | {3,2}
humidity     | High     | {3,4}
outlook      | Overcast | {4,0}
humidity     | Normal   | {6,1}
outlook      | Sunny    | {2,3}
wind         | Strong   | {3,3}
temperature  | Hot      | {2,2}
temperature  | Cool     | {3,1}
temperature  | Mild     | {4,2}
wind         | Weak     | {6,2}
(10 rows)
</code></pre><p>&#x57FA;&#x4E8E;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x6458;&#x8981;&#x89C6;&#x56FE;</p>
<pre class="language-"><code>CREATE VIEW weather_example_nb_classify_functions AS
SELECT attr, value, class_count,
  array[&apos;Yes&apos;,&apos;No&apos;] as classes,
  sum(class_count) over (wa)::integer[] as class_total,
  count(distinct value) over (wa) as attr_count
FROM weather_example_nb_training
WINDOW wa as (partition by attr);
</code></pre><p>&#x8BED;&#x53E5; <code>SELECT * from weather_example_nb_classify_function</code> &#x5C06;&#x4F1A;&#x8FD4;&#x56DE; 10 &#x884C;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x3002;</p>
<pre class="language-"><code>attr        |  value  | class_count| classes | class_total| attr_count
------------+-------- +------------+---------+------------+-----------
temperature | Mild    | {4,2}      | {Yes,No}| {9,5}      |         3
temperature | Cool    | {3,1}      | {Yes,No}| {9,5}      |         3
temperature | Hot     | {2,2}      | {Yes,No}| {9,5}      |         3
wind        | Weak    | {6,2}      | {Yes,No}| {9,5}      |         2
wind        | Strong  | {3,3}      | {Yes,No}| {9,5}      |         2
humidity    | High    | {3,4}      | {Yes,No}| {9,5}      |         2
humidity    | Normal  | {6,1}      | {Yes,No}| {9,5}      |         2
outlook     | Sunny   | {2,3}      | {Yes,No}| {9,5}      |         3
outlook     | Overcast| {4,0}      | {Yes,No}| {9,5}      |         3
outlook     | Rain    | {3,2}      | {Yes,No}| {9,5}      |         3
(10 rows)
</code></pre><p>&#x4F7F;&#x7528; nb_classify&#xFF0C;nb_probabilities &#x6216;&#x5C06; nb_classify &#x548C; nb_probabilities &#x7ED3;&#x5408;&#x8D77;&#x6765;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;</p>
<p>&#x9996;&#x5148;&#x8981;&#x51B3;&#x5B9A;&#x5BF9;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x4F8B;&#x5982;&#x5BF9;&#x4E0B;&#x9762;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;</p>
<pre class="language-"><code>temperature | wind | humidity | outlook
------------+------+----------+---------
Cool        | Weak | High     | Overcast
</code></pre><p>&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x3002;&#x7ED3;&#x679C;&#x5C06;&#x4F1A;&#x7ED9;&#x51FA;&#x5224;&#x65AD;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA; Yes &#x548C; No &#x7684;&#x6982;&#x7387;&#x3002;</p>
<pre class="language-"><code>SELECT nb_classify(classes, attr_count, class_count, class_total) AS class,
       nb_probabilities(classes, attr_count, class_count, class_total) AS probability
FROM weather_example_nb_classify_functions
WHERE
  (attr = &apos;temperature&apos; AND value = &apos;Cool&apos;) OR
  (attr = &apos;wind&apos;        AND value = &apos;Weak&apos;) OR
  (attr = &apos;humidity&apos;    AND value = &apos;High&apos;) OR
  (attr = &apos;outlook&apos;     AND value = &apos;Overcast&apos;);
</code></pre><p>&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF1A;</p>
<pre class="language-"><code>class  |              probability
-------+---------------------------------------
 Yes   | {0.858103353920726,0.141896646079274}
(1 row)
</code></pre><p>&#x8981;&#x5BF9;&#x4E00;&#x7EC4;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x4ED6;&#x4EEC;&#x5B58;&#x50A8;&#x5230;&#x8868;&#x4E2D;&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x4F8B;&#x5982;&#x4E0B;&#x9762;&#x7684;&#x8868; t1 &#x5305;&#x542B;&#x4E86;&#x8981;&#x5206;&#x7C7B;&#x7684;&#x8BB0;&#x5F55;&#xFF1A;</p>
<pre class="language-"><code> day | outlook  | temperature | humidity |  wind
-----+----------+-------------+----------+--------
  15 | Sunny    | Mild        | High     | Strong
  16 | Rain     | Cool        | Normal   | Strong
  17 | Overcast | Hot         | Normal   | Weak
  18 | Rain     | Hot         | High     | Weak
(4 rows)
</code></pre><p>&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x7528;&#x6765;&#x5BF9;&#x6574;&#x5F20;&#x8868;&#x8BA1;&#x7B97;&#x5206;&#x7C7B;&#x7ED3;&#x679C;&#x3002;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x5BF9;&#x8868;&#x4E2D;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x5224;&#x65AD;&#x662F;&#x5426;&#x9002;&#x5B9C;&#x6237;&#x5916;&#x8FD0;&#x52A8;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA; Yes &#x548C; No &#x7684;&#x6982;&#x7387;&#x3002; &#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D; nb_classify &#x548C; nb_probabilities &#x4E24;&#x4E2A;&#x805A;&#x5408;&#x51FD;&#x6570;&#x90FD;&#x53C2;&#x4E0E;&#x4E86;&#x8FD0;&#x7B97;&#x3002;</p>
<pre class="language-"><code>SELECT t1.day,
       t1.temperature, t1.wind, t1.humidity, t1.outlook,
       nb_classify(classes, attr_count, class_count, class_total) AS class,
       nb_probabilities(classes, attr_count, class_count, class_total) AS probability
FROM t1, weather_example_nb_classify_functions
WHERE
  (attr = &apos;temperature&apos; AND value = t1.temperature) OR
  (attr = &apos;wind&apos;        AND value = t1.wind) OR
  (attr = &apos;humidity&apos;    AND value = t1.humidity) OR
  (attr = &apos;outlook&apos;     AND value = t1.outlook)
GROUP BY t1.day, t1.temperature, t1.wind, t1.humidity, t1.outlook;
</code></pre><p>&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x56DB;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x5206;&#x522B;&#x5BF9;&#x5E94; t1 &#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x3002;</p>
<pre class="language-"><code>day| temp| wind   | humidity | outlook  | class | probability
---+-----+--------+----------+----------+-------+--------------
15 | Mild| Strong | High     | Sunny    | No    | {0.244694132334582,0.755305867665418}
16 | Cool| Strong | Normal   | Rain     | Yes   | {0.751471997809119,0.248528002190881}
18 | Hot | Weak   | High     | Rain     | No    | {0.446387538890131,0.553612461109869}
17 | Hot | Weak   | Normal   | Overcast | Yes   | {0.9297192642788,0.0702807357212004}
(4 rows)
</code></pre></h5></h5></h5></h5></h5></h5>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="060-dao-ru-he-dao-chu-shu-ju.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: 5.5 导入导出数据">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"5.6 查询数据","level":"5.1.6","depth":2,"previous":{"title":"5.5 导入导出数据","level":"5.1.5","depth":2,"path":"040-developer-guide/060-dao-ru-he-dao-chu-shu-ju.md","ref":"040-developer-guide/060-dao-ru-he-dao-chu-shu-ju.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-highlight","-sharing","-fontsettings","-theme-default","editlink","prism","baidu","-toc2","summary2","versions","sitemap","-autocover","collapsible-menu","back-to-top-button","otherlink","theme-hashdata-document"],"styles":{},"pluginsConfig":{"prism":{},"collapsible-menu":{},"editlink":{"label":"编辑本页","multilingual":false,"base":"https://github.com/HashDataInc/docs/blob/master/"},"search":{},"otherlink":{},"toc2":{"addClass":true,"className":"toc"},"summary2":{},"theme-hashdata-document":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sitemap":{"hostname":"http://docs.hashdata.cn"},"back-to-top-button":{},"baidu":{"token":"c2474dfbb51f64f6f0d882bcb8e617da"},"versions":{"type":"branches","gitbookConfigURL":"http://docs.hashdata.cn/latest/book.json","options":[{"value":"http://docs.hashdata.cn/latest","text":"Latest"},{"value":"http://docs.hashdata.cn/v1.3.0/","text":"v1.3.0"}]},"theme-default":{"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"HashData","language":"zh-hans","gitbook":"*"},"file":{"path":"040-developer-guide/070-cha-xun-shu-ju.md","mtime":"2018-03-24T03:24:46.584Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-03-24T03:30:02.708Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>


<div id="footer">
    <footer id="footer-1">
    <div class="container">
        <div class="footer-block col-lg-3 col-lg-offset-2 col-md-4 col-md-offset-1 col-sm-5 col-xs-5">
        <div class="logo">
            <img src="../gitbook/images/footer-logo.png"/>
        </div>
        <p>北京酷克数据科技有限公司</p>
        <p>地址：北京市朝阳区望京洛娃大厦C座6层1603室</p>
        </div>
        <div class="footer-block col-lg-3 col-md-4 col-sm-5 col-xs-5">
        <p class="title">联系地址</p>
        <p>电话：010-80699945</p>
        <p>微博：@HashData</p>
        <p>邮件：business@hashdata.cn</p>
        </div>
        <div class="footer-block qrcode col-lg-3 col-md-3">
        <p class="title">微信公众号</p>
        <img src="../gitbook/images/qrcode.png"/>
        </div>
    </div>
    </footer>
    <footer id="footer-2">
    <p>Copyright © 2016 HashData Ltd. 京ICP备16019672号-1</p>
    <p><span class="emblem"></span>京公安网备11010502031309号</p>
    </footer>
</div>
<div id="m-footer">
    <div id="m-footer-bg"></div>
    <footer id="footer-1">
    <div class="logo"><img src="../gitbook/images/footer-logo.png" /></div>
    <div class="address">
        <p>北京酷克数据科技有限公司</p>
        <p>地址：北京市朝阳区望京洛娃大厦C座6层1603室</p>
    </div>
    <div class="connect">
        <p class="title">联系地址</p>
        <p>电话：010-80699945</p>
        <p>微博：@HashData</p>
        <p>邮件：business@hashdata.cn</p>
        <p>扫描二维码关注公众号：</p>
        <div class="qrcode">
        <img src="../gitbook/images/qrcode.png"/>
        </div>
    </div>
    </footer>
    <footer id="footer-2">
    <div class="copyright">
        <p>Copyright © 2016 HashData Ltd. 京ICP备16019672号-1</p>
        <p><span></span>京公安网备11010502031309号</p>
    </div>
    </footer>
</div>



        
    
    
        <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.slim.min.js"></script>
        <script src="//cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>

    
        
        <script src="../gitbook/gitbook-plugin-editlink/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-baidu/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-versions/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-otherlink/js/otherlink.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    

    </body>
</html>

